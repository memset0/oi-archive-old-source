{"title":"简易计算器","time_limit":2000,"memory_limit":125,"url":"http://www.joyoi.cn/problem/codevs-1660","statement":[{"title":"","format":"html_final","require":["katex"],"content":"\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n题目描述\n<small>Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p>相信大家都用过计算器，一般来说，计算机都可以计算简单的 加、减、乘、除这几种运算。简易计算器的功能和一般的计算器一样，只是它更加简单，只能处理整数运算，也就是说，它没有小数点按钮，并且它的除法运算是整除运算。</p>\n<p> </p>\n<p>现在，我们给出简易计算器上的按钮序列，请你编程序，模拟简易计算器的功能，输出最终的结果。</p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p>【计算器组成】</p>\n<p> </p>\n<p>简易计算器由以下按钮组成：</p>\n<p> </p>\n<p>数字按钮： <span style=\"font-family: 'Times New Roman';\">0 1 2 3 4 5 6 7 8 9</span></p>\n<p> </p>\n<p>运算按钮： <span style=\"font-family: 'Times New Roman';\">+ - * / </span></p>\n<p> </p>\n<p>等于号按钮：<span style=\"font-family: 'Times New Roman';\">=</span></p>\n<p> </p>\n<p>正负转换按钮：<span style=\"font-family: 'Times New Roman';\">+/- </span></p>\n<p> </p>\n<p>为了表述方便，<span style=\"font-family: 'Times New Roman';\">+/- </span><span style=\"\">按钮用 </span><span style=\"font-family: 'Times New Roman';\">F </span><span style=\"\">表示 ，</span></p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p>【计算器逻辑处理】</p>\n<p> </p>\n<p>   计算器内存有<span style=\"font-family: 'Times New Roman';\">3</span><span style=\"\">个值，</span><span style=\"font-family: 'Times New Roman';\">M1</span><span style=\"\">，</span><span style=\"font-family: 'Times New Roman';\">M2</span><span style=\"\">，</span><span style=\"font-family: 'Times New Roman';\">OP</span><span style=\"\">，</span><span style=\"font-family: 'Times New Roman';\">ST</span></p>\n<p> </p>\n<p>M1<span style=\"\">为计算器的左运算值，初始值为</span><span style=\"font-family: 'Times New Roman';\">0</span></p>\n<p> </p>\n<p>M2<span style=\"\">为计算器的右运算值，初始值</span><span style=\"font-family: 'Times New Roman';\">0</span></p>\n<p> </p>\n<p>OP<span style=\"\">为计算器的当前运算符，初始值为空</span></p>\n<p> </p>\n<p>ST<span style=\"\">为状态标记，初始值为</span><span style=\"font-family: 'Times New Roman';\">0</span></p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p>状态装换逻辑如下：</p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p>ST=0   (M1/OP<span style=\"\">输入态</span><span style=\"font-family: 'Times New Roman';\">)</span><span style=\"\">：</span></p>\n<p> </p>\n<p>显示值：<span style=\"font-family: 'Times New Roman';\">M1</span></p>\n<p> </p>\n<p> 输入数字<span style=\"font-family: 'Times New Roman';\">N </span><span style=\"\">： </span></p>\n<p> </p>\n<p>M1=N <span style=\"\">，转 </span><span style=\"font-family: 'Times New Roman';\">ST=1</span><span style=\"\">状态</span></p>\n<p> </p>\n<p> 输入<span style=\"font-family: 'Times New Roman';\">F </span><span style=\"\">： </span></p>\n<p> </p>\n<p>M1=-M1<span style=\"\">，转 </span><span style=\"font-family: 'Times New Roman';\">ST=0</span><span style=\"\">状态</span></p>\n<p> </p>\n<p> 输入运算符： </p>\n<p> </p>\n<p>OP=<span style=\"\">运算符，转</span><span style=\"font-family: 'Times New Roman';\">ST=2</span><span style=\"\">状态</span></p>\n<p> </p>\n<p> 输入“<span style=\"font-family: 'Times New Roman';\">=</span><span style=\"\">”：  </span></p>\n<p> </p>\n<p>转 <span style=\"font-family: 'Times New Roman';\">ST=0</span><span style=\"\">状态</span></p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p>ST=1   (M1+/OP<span style=\"\">输入态</span><span style=\"font-family: 'Times New Roman';\">)</span><span style=\"\">：</span></p>\n<p> </p>\n<p>显示值：<span style=\"font-family: 'Times New Roman';\">M1</span></p>\n<p> </p>\n<p> 输入数字<span style=\"font-family: 'Times New Roman';\">N </span><span style=\"\">： </span></p>\n<p> </p>\n<p>如果<span style=\"font-family: 'Times New Roman';\">M1&gt;=0</span><span style=\"\">则 </span><span style=\"font-family: 'Times New Roman';\">M1=M1*10+N </span><span style=\"\">否则</span><span style=\"font-family: 'Times New Roman';\">M1=M1*10-N;</span></p>\n<p> </p>\n<p>转 <span style=\"font-family: 'Times New Roman';\">ST=1</span><span style=\"\">状态；</span></p>\n<p> </p>\n<p> 输入<span style=\"font-family: 'Times New Roman';\">F </span><span style=\"\">： </span></p>\n<p> </p>\n<p>M1=-M1<span style=\"\">，转 </span><span style=\"font-family: 'Times New Roman';\">ST=1</span><span style=\"\">状态；</span></p>\n<p> </p>\n<p> 输入运算符： </p>\n<p> </p>\n<p>OP=<span style=\"\">运算符，转</span><span style=\"font-family: 'Times New Roman';\">ST=2</span><span style=\"\">状态</span></p>\n<p> </p>\n<p> 输入“<span style=\"font-family: 'Times New Roman';\">=</span><span style=\"\">”：  </span></p>\n<p> </p>\n<p>转 <span style=\"font-family: 'Times New Roman';\">ST=0</span><span style=\"\">状态</span></p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p>ST=2   (OP/M2<span style=\"\">输入态</span><span style=\"font-family: 'Times New Roman';\">)</span><span style=\"\">：</span></p>\n<p> </p>\n<p>显示值：<span style=\"font-family: 'Times New Roman';\">M1</span></p>\n<p> </p>\n<p> 输入数字<span style=\"font-family: 'Times New Roman';\">N</span><span style=\"\">： </span></p>\n<p> </p>\n<p>M2=N<span style=\"\">，转</span><span style=\"font-family: 'Times New Roman';\">ST=3</span><span style=\"\">状态</span><span style=\"font-family: 'Times New Roman';\">;</span></p>\n<p> </p>\n<p>输入<span style=\"font-family: 'Times New Roman';\">F</span><span style=\"\">： </span></p>\n<p> </p>\n<p>M2=0<span style=\"\">，转 </span><span style=\"font-family: 'Times New Roman';\">ST=3</span><span style=\"\">状态；</span></p>\n<p> </p>\n<p> 输入运算符：</p>\n<p> </p>\n<p>OP=<span style=\"\">运算符，转</span><span style=\"font-family: 'Times New Roman';\">ST=2</span><span style=\"\">状态</span></p>\n<p> </p>\n<p> 输入“<span style=\"font-family: 'Times New Roman';\">=</span><span style=\"\">”： </span></p>\n<p> </p>\n<p> 转 <span style=\"font-family: 'Times New Roman';\">ST=0</span><span style=\"\">状态</span></p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p>ST=3   (M2+/OP<span style=\"\">输入态</span><span style=\"font-family: 'Times New Roman';\">)</span><span style=\"\">：</span></p>\n<p> </p>\n<p>显示值：<span style=\"font-family: 'Times New Roman';\">M2</span></p>\n<p> </p>\n<p> 输入数字<span style=\"font-family: 'Times New Roman';\">N</span><span style=\"\">： </span></p>\n<p> </p>\n<p>如果<span style=\"font-family: 'Times New Roman';\">M2&gt;=0</span><span style=\"\">则 </span><span style=\"font-family: 'Times New Roman';\">M2=M2*10+N </span><span style=\"\">否则</span><span style=\"font-family: 'Times New Roman';\">M2=M2*10-N</span><span style=\"\">；</span></p>\n<p> </p>\n<p>转<span style=\"font-family: 'Times New Roman';\">ST=3</span><span style=\"\">状态；</span></p>\n<p> </p>\n<p>输入<span style=\"font-family: 'Times New Roman';\">F</span><span style=\"\">： </span></p>\n<p> </p>\n<p>M2=-M2<span style=\"\">，转 </span><span style=\"font-family: 'Times New Roman';\">ST=3</span><span style=\"\">状态；</span></p>\n<p> </p>\n<p> 输入运算符：</p>\n<p> </p>\n<p>M1=[M1][OP][M2] <span style=\"\">的值</span></p>\n<p> </p>\n<p>OP=<span style=\"\">运算符；</span></p>\n<p> </p>\n<p>转<span style=\"font-family: 'Times New Roman';\">ST=2</span><span style=\"\">状态 </span></p>\n<p> </p>\n<p> 输入“<span style=\"font-family: 'Times New Roman';\">=</span><span style=\"\">”：  转 </span><span style=\"font-family: 'Times New Roman';\">ST=0</span><span style=\"\">状态</span></p>\n<p> </p>\n<p>M1=[M1][OP][M2] <span style=\"\">的值</span></p>\n<p> </p>\n<p>转<span style=\"font-family: 'Times New Roman';\">ST=0</span><span style=\"\">状态 </span></p>\n<p> </p>\n<p> </p>\n<p> </p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输入描述\n<small>Input Description</small>\n</span></div>\n<div class=\"panel-body\">\n<p>输入只有一行，表示在计算器输入的按钮，长度<span>&lt;=100</span><span>，里面只包含如下字符 </span><span>:</span></p>\n<p>0123456789+-*/=F</p>\n<p>输入数据保证不会出现除以<span>0</span><span>的 情况，运算过程中各个内存的值的范围在</span></p>\n\n</div>\n</div>\n<div  class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输出描述\n<small>Output Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p>&nbsp;输出包含一行整数，表示最后在计算器显示的结果</p>\n\n</div>\n</div>\n\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输入\n<small>Sample Input</small>\n</span></div>\n<div class=\"panel-body\">\n<p>123=*2F-+/3+-=</p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输出\n<small>Sample Output</small>\n</span></div>\n<div class=\"panel-body\">\n<p> -82</p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n数据范围及提示\n<small>Data Size & Hint</small>\n</span></div>\n<div class=\"panel-body\">\n\n</div>\n</div>\n"}]}