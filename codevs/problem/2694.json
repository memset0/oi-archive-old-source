{"title":"My Sketchup","time_limit":3000,"memory_limit":125,"url":"http://www.joyoi.cn/problem/codevs-2694","statement":[{"title":"","format":"html_final","require":["katex"],"content":"\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n题目描述\n<small>Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p>Google SketchUp is an easy-to-use program that lets you create, modify and share 3D models. In this problem, you're to write a simplified version of SketchUp called My SketchUp. Since 3D is complex, My SketchUp will be in 2D only.</p>\n<p>SketchUp is intuitive. To understand this, suppose you've drawn two line segments that intersect other, like this:<img height=\"96\" src=\"/source/codevs/codevs-2694/img/aHR0cDovL3d3dy5qb3lvaS5jbi9wcm9ibGVtL2NvZGV2cy0yNjk0L2h0dHA6Ly91dmEub25saW5lanVkZ2Uub3JnL2V4dGVybmFsLzEyMy9wMTIzMDZhLmpwZw==.jpg\" width=\"597\"></p>\n<p>Then, you click your mouse at the red dot. If you're using AutoCAD, you'll select a whole segment (shown in the middle picture), but in My SketchUp, you'll only select a small segment (shown in the right picture), because the two segment you've drawn cut each other! What's more, if you remove two small segments as shown below, the other two small segments will automatically join up to become one segment again! Note that in the middle picture, you cannot select the \"long\" segment as a whole, because it's still cut into two pieces.</p>\n<p><img height=\"122\" src=\"/source/codevs/codevs-2694/img/aHR0cDovL3d3dy5qb3lvaS5jbi9wcm9ibGVtL2NvZGV2cy0yNjk0L2h0dHA6Ly91dmEub25saW5lanVkZ2Uub3JnL2V4dGVybmFsLzEyMy9wMTIzMDZiLmpwZw==.jpg\" width=\"595\"></p>\n<p>Here is the general rule: segments that intersect each other actually cut each other; and there will be no \"redundant\" points that can be removed without affecting the appearance of the picture. As a result, the in-memory data structure of the segments can be deduced merely from the appearance. If two pictures look the same, they are the same internally. For example, if you draw (0,0)-(1,0), then (1,0)-(2,0), you'll have only one segment: (0,0)-(2,0), if you draw (0,0)-(1,0) twice, you'll only get one. In the picture below, there are 14 vertices and 15 segments (no matter how you draw this picture!!).</p>\n<p><img height=\"145\" src=\"/source/codevs/codevs-2694/img/aHR0cDovL3d3dy5qb3lvaS5jbi9wcm9ibGVtL2NvZGV2cy0yNjk0L2h0dHA6Ly91dmEub25saW5lanVkZ2Uub3JnL2V4dGVybmFsLzEyMy9wMTIzMDZjLmpwZw==.jpg\" width=\"179\"></p>\n<p>Your task is to execute a sequence of commands (described in the input format section) and print the description of the resulting picture. Vertices are sorted in ascending order of x, then ascending order of y; Segments are represented by a pair of integers a and b (a &lt; b), that means the segment is connecting vertex a and vertex b (vertices are numbered from 1).</p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输入描述\n<small>Input Description</small>\n</span></div>\n<div class=\"panel-body\">\n<p>There will be at most 25 test cases. Each case begins with one integer n (1&lt;=n&lt;=100), the number of operations. Each of the following n lines is formatted as one of:</p>\n<pre>DRAW x1 y1 x2 y2 x3 y3...</pre>\n<p>or:</p>\n<pre>REMOVE x y d</pre>\n<p>In the draw operation, you're drawing a poly-line (x1,y1)-(x2,y2)-(x3,y3)-..., note that if the last point equals to the first point, you're actually drawing closed poly-line (but not necessarily a polygon, since the poly-line could be self-intersecting. There will be at least 2 and at most 20 points in a draw operation.</p>\n<p>In the remove operation, all the line segments whose distance from (x,y) is at most d, are removed simultaneously (be careful about this!). If no segments satisfy this condition, this operation takes no effect. -1000&lt;=x1,y1,x2,y2&lt;=1000, 0&lt;=d&lt;=10.</p>\n<p>There is a special command \"END\" following the last draw/remove operation. The last test case is followed by a line with n=0, which should not be processed.</p>\n\n</div>\n</div>\n<div  class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输出描述\n<small>Output Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p>For each test case, print the number of vertices, followed by the coordinates of the vertices (one vertex per line), sorted as stated in the problem statement. The next line contains the number of segments, followed by the descriptions of the segments.</p>\n<p>Tips: In this problem, your output must match the standard output perfectly. In order to prevent you from printing \"-0.00\" instead of \"0.00\", you're encouraged to add to small number (e.g. 1e-6) to each number you print.</p>\n\n</div>\n</div>\n\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输入\n<small>Sample Input</small>\n</span></div>\n<div class=\"panel-body\">\n<p>7</p>\n<p>DRAW 10 0 50 0 50 30 10 30 10 0</p>\n<p>DRAW 0 10 10 10 10 20 0 20 0 10</p>\n<p>DRAW 40 0 40 10 50 10 50 0</p>\n<p>REMOVE 45 1 1</p>\n<p>DRAW 50 20 20 20 20 30</p>\n<p>DRAW 40 20 40 30</p>\n<p>REMOVE 42 23 3</p>\n<p>END</p>\n<p>7</p>\n<p>DRAW 0 0 10 0</p>\n<p>DRAW 1 0 11 0</p>\n<p>DRAW 12 0 15 0</p>\n<p>DRAW 5 0 5 1</p>\n<p>DRAW 8 0 8 1</p>\n<p>REMOVE 5 2 1</p>\n<p>DRAW 11 0 12 0</p>\n<p>END</p>\n<p>0</p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输出\n<small>Sample Output</small>\n</span></div>\n<div class=\"panel-body\">\n<pre>14\n0.00 10.00\n0.00 20.00\n10.00 0.00\n10.00 10.00\n10.00 20.00\n10.00 30.00\n20.00 20.00\n20.00 30.00\n40.00 0.00\n40.00 10.00\n40.00 20.00\n50.00 0.00\n50.00 10.00\n50.00 30.00\n15\n1 2\n1 4\n2 5\n3 4\n3 9\n4 5\n5 6\n6 8\n7 8\n7 11\n8 14\n9 10\n10 13\n12 13\n13 14\n4\n0.00 0.00\n8.00 0.00\n8.00 1.00\n15.00 0.00\n3\n1 2\n2 3\n2 4\n</pre>\n<pre> </pre>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n数据范围及提示\n<small>Data Size & Hint</small>\n</span></div>\n<div class=\"panel-body\">\n<p><em>Rujia Liu's Present 4: A Contest Dedicated to Geometry and CG Lovers</em></p>\n<p><em>Special Thanks: Dun Liang</em></p>\n</div>\n</div>\n"}]}