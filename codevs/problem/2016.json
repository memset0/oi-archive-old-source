{"title":"算法复杂度","time_limit":1000,"memory_limit":125,"url":"http://www.joyoi.cn/problem/codevs-2016","statement":[{"title":"","format":"html_final","require":["katex"],"content":"\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n题目描述\n<small>Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p>我们在编程时，最关心的一个问题就是算法的时间复杂度。但是分析一个程序的复杂度是一项很困畦的工作，特别是在程序的风格不是很好的情况下。所以，专门研究算法的<span>SERKOI</span>小组决定开发出一个分析程序复杂度的软件。</p>\n<p>由于这是一个全新的领域，所以<span>SERKOI</span>小组决定先从简单情况入手。假设程序只包含循环和顺序结构，而且程序的结构定义如下：</p>\n<p><span>program </span>： ：<span> = begin </span>＜<span>statement</span>＞<span> end</span></p>\n<p><span>statement </span>： ：<span> = 1oop x </span>＜<span>statement</span>＞<span> end | op x </span>＜<span>statement</span>＞<span> |</span></p>\n<p><span>break </span>＜<span>statement</span>＞<span> | continue </span>＜<span>statement</span>＞<span> | </span>空语句</p>\n<p>注意：</p>\n<p><span>1.</span>一个程序都是以<span>begin</span>开始，以相应的<span>end</span>结束；</p>\n<p><span>2.loop x </span>＜<span>statement</span>＞<span> end</span>表示其中的语句＜<span>Statement</span>＞重复执行<span>x</span>次；</p>\n<p><span>3.op x</span>表示执行<span>x</span>个单位操作；</p>\n<p><span>4.</span>上面两点中的<span>x</span>可以是一个正整数或<span>n</span>（程序复杂度多项式的唯一变量）；</p>\n<p><span>5</span>．<span>break</span>语句的作用是跳出上一层循环，<span>continue</span>语句的作用是跳过这一层循环的其它语句，直接进入下一次循环。如果它们（<span>break</span>或<span>continue</span>）不在任一层循环中，则它们将被忽略。</p>\n<p>你必须写一个程序，求出这个程序的复杂度，并以多项式的形式输出。</p>\n<p>例如．下面程序的复杂度为<span>n^2</span>＋<span>2n </span>：</p>\n<p><span>begin</span></p>\n<p><span>op n</span></p>\n<p><span>loop 3</span></p>\n<p><span>op n</span></p>\n<p><span>break</span></p>\n<p><span>end</span></p>\n<p><span>loop n</span></p>\n<p><span>loop n</span></p>\n<p><span>op l </span></p>\n<p><span>continue</span></p>\n<p><span>op n</span></p>\n<p><span>end</span></p>\n<p><span>end</span></p>\n<p><span>end </span></p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输入描述\n<small>Input Description</small>\n</span></div>\n<div class=\"panel-body\">\n<p>输入文件中包含一个完整的程序，每两条语句之间至少用一个空格或换行符隔开。循环的嵌套最多不超过<span>20</span>层，而且保证最终时间复杂度多项式每项的系数不超过<span>10^9</span>。</p>\n\n</div>\n</div>\n<div  class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输出描述\n<small>Output Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p>将计算出的时间复杂度多项式按降幂且数学书写的习惯方式写到输出文件中。</p>\n\n</div>\n</div>\n\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输入\n<small>Sample Input</small>\n</span></div>\n<div class=\"panel-body\">\n<p><span>begin loop n loop 3 loop n</span></p>\n<p><span>op 20</span></p>\n<p><span>end end end</span></p>\n<p><span>loop n op 3 break end</span></p>\n<p><span>loop n loop n</span></p>\n<p><span>op l</span></p>\n<p><span>break</span></p>\n<p><span>end end</span></p>\n<p><span>end</span></p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输出\n<small>Sample Output</small>\n</span></div>\n<div class=\"panel-body\">\n<p><span>60n^2</span>＋<span>n</span>＋<span>3</span></p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n数据范围及提示\n<small>Data Size & Hint</small>\n</span></div>\n<div class=\"panel-body\">\n<p>属于简单的CTSC题</p>\n</div>\n</div>\n"}]}