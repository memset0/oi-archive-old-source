{"title":"高速公路","time_limit":1000,"memory_limit":250,"url":"http://www.joyoi.cn/problem/codevs-1854","statement":[{"title":"","format":"html_final","require":["katex"],"content":"\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n题目描述\n<small>Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p>Y901高速公路是一条重要的交通纽带，政府部门建设初期的投入以及使用期间的养护费用都不低，因此政府在这条高速公路上设立了许多收费站。</p>\n<p>Y901高速公路是一条由N-1段路以及N个收费站组成的东西向的链，我们按照由西向东的顺序将收费站依次编号为1~N，从收费站i行驶到i+1(或从i+1行驶到i)需要收取Vi的费用。高速路刚建成时所有的路段都是免费的。</p>\n<p>政府部门根据实际情况，会不定期地对连续路段的收费标准进行调整，根据政策涨价或降价。</p>\n<p>无聊的小A同学总喜欢研究一些稀奇古怪的问题，他开车在这条高速路上行驶时想到了这样一个问题:对于给定的l,r(l&lt;r),在第l个到第r个收费站里等概率随机取出两个不同的收费站a和b，那么从a行驶到b将期望花费多少费用呢?</p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输入描述\n<small>Input Description</small>\n</span></div>\n<div class=\"panel-body\">\n<p>第一行2个正整数N,M，表示有N个收费站，M次调整或询问</p>\n<p>接下来M行，每行将出现以下两种形式中的一种</p>\n<p>C l r v 表示将第l个收费站到第r个收费站之间的所有道路的通行费全部增加v</p>\n<p>Q l r   表示对于给定的l,r，要求回答小A的问题</p>\n<p>所有C与Q操作中保证1&lt;=l&lt;r&lt;=N</p>\n\n</div>\n</div>\n<div  class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输出描述\n<small>Output Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p>对于每次询问操作回答一行，输出一个既约分数</p>\n<p>若答案为整数a，输出a/1</p>\n\n</div>\n</div>\n\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输入\n<small>Sample Input</small>\n</span></div>\n<div class=\"panel-body\">\n<pre><span>4 5</span></pre>\n<pre><span>C 1 4 2</span></pre>\n<pre><span>C 1 2 -1</span></pre>\n<pre><span>Q 1 2</span></pre>\n<pre><span>Q 2 4</span></pre>\n<pre><span>Q 1 4</span></pre>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输出\n<small>Sample Output</small>\n</span></div>\n<div class=\"panel-body\">\n<p>1/1</p>\n<p>8/3</p>\n<p>17/6</p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n数据范围及提示\n<small>Data Size & Hint</small>\n</span></div>\n<div class=\"panel-body\">\n<p>所有C操作中的v的绝对值不超过10000<strong></strong></p>\n<p>在任何时刻任意道路的费用均为不超过10000的非负整数</p>\n<p>所有测试点的详细情况如下表所示</p>\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\">\n<tbody>\n<tr>\n<td valign=\"top\" width=\"43\">\n<p>Test</p>\n</td>\n<td valign=\"top\" width=\"63\">\n<p>N</p>\n</td>\n<td valign=\"top\" width=\"69\">\n<p>M</p>\n</td>\n</tr>\n<tr>\n<td valign=\"top\" width=\"43\">\n<p>1</p>\n</td>\n<td valign=\"top\" width=\"63\">\n<p>=10</p>\n</td>\n<td valign=\"top\" width=\"69\">\n<p>=10</p>\n</td>\n</tr>\n<tr>\n<td valign=\"top\" width=\"43\">\n<p>2</p>\n</td>\n<td valign=\"top\" width=\"63\">\n<p>=100</p>\n</td>\n<td valign=\"top\" width=\"69\">\n<p>=100</p>\n</td>\n</tr>\n<tr>\n<td valign=\"top\" width=\"43\">\n<p>3</p>\n</td>\n<td valign=\"top\" width=\"63\">\n<p>=1000</p>\n</td>\n<td valign=\"top\" width=\"69\">\n<p>=1000</p>\n</td>\n</tr>\n<tr>\n<td valign=\"top\" width=\"43\">\n<p>4</p>\n</td>\n<td valign=\"top\" width=\"63\">\n<p>=10000</p>\n</td>\n<td valign=\"top\" width=\"69\">\n<p>=10000</p>\n</td>\n</tr>\n<tr>\n<td valign=\"top\" width=\"43\">\n<p>5</p>\n</td>\n<td valign=\"top\" width=\"63\">\n<p>=50000</p>\n</td>\n<td valign=\"top\" width=\"69\">\n<p>=50000</p>\n</td>\n</tr>\n<tr>\n<td valign=\"top\" width=\"43\">\n<p>6</p>\n</td>\n<td valign=\"top\" width=\"63\">\n<p>=60000</p>\n</td>\n<td valign=\"top\" width=\"69\">\n<p>=60000</p>\n</td>\n</tr>\n<tr>\n<td valign=\"top\" width=\"43\">\n<p>7</p>\n</td>\n<td valign=\"top\" width=\"63\">\n<p>=70000</p>\n</td>\n<td valign=\"top\" width=\"69\">\n<p>=70000</p>\n</td>\n</tr>\n<tr>\n<td valign=\"top\" width=\"43\">\n<p>8</p>\n</td>\n<td valign=\"top\" width=\"63\">\n<p>=80000</p>\n</td>\n<td valign=\"top\" width=\"69\">\n<p>=80000</p>\n</td>\n</tr>\n<tr>\n<td valign=\"top\" width=\"43\">\n<p>9</p>\n</td>\n<td valign=\"top\" width=\"63\">\n<p>=90000</p>\n</td>\n<td valign=\"top\" width=\"69\">\n<p>=90000</p>\n</td>\n</tr>\n<tr>\n<td valign=\"top\" width=\"43\">\n<p>10</p>\n</td>\n<td valign=\"top\" width=\"63\">\n<p>=100000</p>\n</td>\n<td valign=\"top\" width=\"69\">\n<p>=100000</p>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n</div>\n"}]}