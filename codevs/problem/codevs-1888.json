{"title":"分割","time_limit":10000,"memory_limit":250,"url":"http://www.joyoi.cn/problem/codevs-1888","statement":[{"title":"","format":"html_final","require":["katex"],"content":"\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n题目描述\n<small>Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p>要求在平面直角坐标系下维护两个操作：<br>1. 在平面上加入一条线段。记第i 条被插入的线段的标号为i。<br>2. 给定一个数k,询问与直线x = k 相交的线段中，交点最靠上的线段的编号。</p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输入描述\n<small>Input Description</small>\n</span></div>\n<div class=\"panel-body\">\n<p>    第一行一个整数n，表示共n 个操作。<br>    接下来n 行，每行第一个数为0 或1。<br>    若该数为0，则后面跟着一个正整数k，表示询问与直线x = ((k + lastans – 1)%39989+1)相交的线段中交点（包括在端点相交的情形）最靠上的线段的编号，其中%表示取余。若某条线段为直线的一部分，则视作直线与线段交于该线段y 坐标最大处。若有多条线段符合要求，输出编号最小的线段的编号。<br>    若该数为1，则后面跟着四个正整数x0, y0, x1, y1，表示插入一条两个端点为((x0+lastans-1)%39989+1,(y0+lastans-1)%109+1)和((x1+lastans-1)%39989+1,(y1+lastans-1)%109+1) 的线段。<br>    其中lastans 为上一次询问的答案。初始时lastans=0。</p>\n\n</div>\n</div>\n<div  class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输出描述\n<small>Output Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p>对于每个0 操作，输出一行，包含一个正整数，表示交点最靠上的线段的编号。若不存在与直线相交的线段，答案为0。</p>\n\n</div>\n</div>\n\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输入\n<small>Sample Input</small>\n</span></div>\n<div class=\"panel-body\">\n<p>6<br>1 8 5 10 8<br>1 6 7 2 6<br>0 2<br>0 9<br>1 4 7 6 7<br>0 5</p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输出\n<small>Sample Output</small>\n</span></div>\n<div class=\"panel-body\">\n<p>2<br> 0 <br>3</p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n数据范围及提示\n<small>Data Size & Hint</small>\n</span></div>\n<div class=\"panel-body\">\n<p><span style=\"\">对于30%的数据，n ≤ 1000</span><br>对于100%的数据，1 ≤ n ≤ 10<sup>5</sup>, 1 ≤ k, x0, x1 ≤ 39989, 1 ≤ y0 ≤ y1 ≤ 10<sup>9</sup>。</p>\n</div>\n</div>\n"}]}