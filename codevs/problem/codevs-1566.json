{"title":"染色","time_limit":2000,"memory_limit":250,"url":"http://www.joyoi.cn/problem/codevs-1566","statement":[{"title":"","format":"html_final","require":["katex"],"content":"\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n题目描述\n<small>Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p>给定一棵有n个节点的无根树和m个操作，操作有2类：</p>\n<p>1、将节点a到节点b路径上所有点都染成颜色c；</p>\n<p>2、询问节点a到节点b路径上的颜色段数量（连续相同颜色被认为是同一段），如“112221”由3段组成：“11”、“222”和“1”。</p>\n<p>请你写一个程序依次完成这m个操作。</p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输入描述\n<small>Input Description</small>\n</span></div>\n<div class=\"panel-body\">\n<p>第一行包含2个整数n和m，分别表示节点数和操作数；</p>\n<p>第二行包含n个正整数表示n个节点的初始颜色</p>\n<p>下面n-1行每行包含两个整数 和 ，表示<em>x</em>和<em>y</em>之间有一条无向边。</p>\n<p>下面m行每行描述一个操作：</p>\n<p>“C a b c”表示这是一个染色操作，把节点a到节点b路径上所有点（包括a和b）都染成颜色c；</p>\n<p>“Q a b”表示这是一个询问操作，询问节点a到节点b（包括a和b）路径上的颜色段数量。</p>\n\n</div>\n</div>\n<div  class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输出描述\n<small>Output Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p class=\"NOI\">对于每个询问操作，输出一行答案。</p>\n\n</div>\n</div>\n\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输入\n<small>Sample Input</small>\n</span></div>\n<div class=\"panel-body\">\n<p><span>6 5</span></p>\n<p><span>2 2 1 2 1 1</span></p>\n<p><span>1 2</span></p>\n<p><span>1 3</span></p>\n<p><span>2 4</span></p>\n<p><span>2 5</span></p>\n<p><span>2 6</span></p>\n<p><span>Q 3 5</span></p>\n<p><span>C 2 1 1</span></p>\n<p><span>Q 3 5</span></p>\n<p><span>C 5 1 2</span></p>\n<p><span>Q 3 5</span></p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输出\n<small>Sample Output</small>\n</span></div>\n<div class=\"panel-body\">\n<p><span>3</span></p>\n<p><span>1</span></p>\n<p><span>2</span></p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n数据范围及提示\n<small>Data Size & Hint</small>\n</span></div>\n<div class=\"panel-body\">\n<p>对于100%的数据1≤n≤10<sup>4</sup>，1≤m≤10<sup>5</sup>，1≤m≤10<sup>9</sup>；<br> </p>\n</div>\n</div>\n"}]}