{"title":"2k进制数","time_limit":1000,"memory_limit":125,"url":"http://www.joyoi.cn/problem/codevs-1157","statement":[{"title":"","format":"html_final","require":["katex"],"content":"\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n题目描述\n<small>Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p style=\"\"><span style=\"\">设</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">r</span></span></span></span><span style=\"\">是个</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">2</span><sup><span style=\"font-family: Courier New,monospace;\">k</span></sup></span></span></span><span style=\"\">进制数，并满足以下条件：</span></p>\n<p style=\"\"><span style=\"\">（</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">1</span></span></span></span><span style=\"\">）</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">r</span></span></span></span><span style=\"\">至少是个</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">2</span></span></span></span><span style=\"\">位的</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">2</span><sup><span style=\"font-family: Courier New,monospace;\">k</span></sup></span></span></span><span style=\"\">进制数。</span></p>\n<p style=\"\"><span style=\"\">（</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">2</span></span></span></span><span style=\"\">）作为</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">2</span><sup><span style=\"font-family: Courier New,monospace;\">k</span></sup></span></span></span><span style=\"\">进制数，除最后一位外，</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">r</span></span></span></span><span style=\"\">的每一位严格小于它右边相邻的那一位。</span></p>\n<p style=\"\"><span style=\"\">（</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">3</span></span></span></span><span style=\"\">）将</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">r</span></span></span></span><span style=\"\">转换为</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">2</span></span></span></span><span style=\"\">进制数</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">q</span></span></span></span><span style=\"\">后，则</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">q</span></span></span></span><span style=\"\">的总位数不超过</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">w</span></span></span></span><span style=\"\">。</span></p>\n<p style=\"\"><span style=\"\">在这里，正整数</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">k</span></span></span></span><span style=\"\">（</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">1</span><span style=\"\">≤</span><span style=\"font-family: Courier New,monospace;\">k</span><span style=\"\">≤</span><span style=\"font-family: Courier New,monospace;\">9</span></span></span></span><span style=\"\">）和</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">w</span></span></span></span><span style=\"\">（</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">k&lt;W&lt; span&gt;</span><span style=\"\">≤</span><span style=\"font-family: Courier New,monospace;\">30000</span></span></span></span><span style=\"\">）是事先给定的。</span></p>\n<p style=\"\"><span style=\"\">问：满足上述条件的不同的</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">r</span></span></span></span><span style=\"\">共有多少个？</span></p>\n<p style=\"\"><span style=\"\">我们再从另一角度作些解释：设</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">S</span></span></span></span><span style=\"\">是长度为</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">w </span></span></span></span><span style=\"\">的</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">01</span></span></span></span><span style=\"\">字符串（即字符串</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">S</span></span></span></span><span style=\"\">由</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">w</span></span></span></span><span style=\"\">个“</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">0</span><span style=\"\">”</span></span></span></span><span style=\"\">或“</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">1</span><span style=\"\">”</span></span></span></span><span style=\"\">组成），</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">S</span></span></span></span><span style=\"\">对应于上述条件（</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">3</span></span></span></span><span style=\"\">）中的</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">q</span></span></span></span><span style=\"\">。将</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">S</span></span></span></span><span style=\"\">从右起划分为若干个长度为</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">k </span></span></span></span><span style=\"\">的段，每段对应一位</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">2</span><sup><span style=\"font-family: Courier New,monospace;\">k</span></sup></span></span></span><span style=\"\">进制的数，如果</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">S</span></span></span></span><span style=\"\">至少可分成</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">2</span></span></span></span><span style=\"\">段，则</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">S</span></span></span></span><span style=\"\">所对应的二进制数又可以转换为上述的</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">2</span><sup><span style=\"font-family: Courier New,monospace;\">k</span></sup></span></span></span><span style=\"\">进制数</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">r</span></span></span></span><span style=\"\">。</span></p>\n<p style=\"\"><span style=\"\">例：设</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">k=3</span></span></span></span><span style=\"\">，</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">w=7</span></span></span></span><span style=\"\">。则</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">r</span></span></span></span><span style=\"\">是个八进制数（</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">2</span><sup><span style=\"font-family: Courier New,monospace;\">3</span></sup><span style=\"font-family: Courier New,monospace;\">=8</span></span></span></span><span style=\"\">）。由于</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">w=7</span></span></span></span><span style=\"\">，长度为</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">7</span></span></span></span><span style=\"\">的</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">01</span></span></span></span><span style=\"\">字符串按</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">3</span></span></span></span><span style=\"\">位一段分，可分为</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">3</span></span></span></span><span style=\"\">段（即</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">1</span></span></span></span><span style=\"\">，</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">3</span></span></span></span><span style=\"\">，</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">3</span></span></span></span><span style=\"\">，左边第一段只有一个二进制位），则满足条件的八进制数有：</span></p>\n<p style=\"\"><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">2</span></span></span></span><span style=\"\">位数：高位为</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">1</span></span></span></span><span style=\"\">：</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">6</span></span></span></span><span style=\"\">个（即</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">12</span></span></span></span><span style=\"\">，</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">13</span></span></span></span><span style=\"\">，</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">14</span></span></span></span><span style=\"\">，</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">15</span></span></span></span><span style=\"\">，</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">16</span></span></span></span><span style=\"\">，</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">17</span></span></span></span><span style=\"\">），高位为</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">2</span></span></span></span><span style=\"\">：</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">5</span></span></span></span><span style=\"\">个，…，高位为</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">6</span></span></span></span><span style=\"\">：</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">1</span></span></span></span><span style=\"\">个（即</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">67</span></span></span></span><span style=\"\">）。共</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">6+5+</span><span style=\"\">…</span><span style=\"font-family: Courier New,monospace;\">+1=21</span></span></span></span><span style=\"\">个。</span></p>\n<p style=\"\"><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">3</span></span></span></span><span style=\"\">位数：高位只能是</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">1</span></span></span></span><span style=\"\">，第</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">2</span></span></span></span><span style=\"\">位为</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">2</span></span></span></span><span style=\"\">：</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">5</span></span></span></span><span style=\"\">个（即</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">123</span></span></span></span><span style=\"\">，</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">124</span></span></span></span><span style=\"\">，</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">125</span></span></span></span><span style=\"\">，</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">126</span></span></span></span><span style=\"\">，</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">127</span></span></span></span><span style=\"\">），第</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">2</span></span></span></span><span style=\"\">位为</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">3</span></span></span></span><span style=\"\">：</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">4</span></span></span></span><span style=\"\">个，…，第</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">2</span></span></span></span><span style=\"\">位为</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">6</span></span></span></span><span style=\"\">：</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">1</span></span></span></span><span style=\"\">个（即</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">167</span></span></span></span><span style=\"\">）。共</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">5+4+</span><span style=\"\">…</span><span style=\"font-family: Courier New,monospace;\">+1=15</span></span></span></span><span style=\"\">个。</span></p>\n<p style=\"\"><span style=\"\">所以，满足要求的</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">r</span></span></span></span><span style=\"\">共有</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">36</span></span></span></span><span style=\"\">个。</span></p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输入描述\n<small>Input Description</small>\n</span></div>\n<div class=\"panel-body\">\n<p style=\"\"><span style=\"\">只有</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"\"><span><span style=\"font-family: Courier New,monospace;\">1</span></span></span></span><span style=\"\">行，为两个正整数，用一个空格隔开：</span></p>\n<p style=\"\"><span style=\"font-family: Courier New,monospace;\"><span style=\"\"><span>k W</span></span></span></p>\n\n</div>\n</div>\n<div  class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输出描述\n<small>Output Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p class=\"cjk\" style=\"text-indent: 0.56cm; margin-top: 0.49cm; margin-bottom: 0.49cm; widows: 2; orphans: 2;\" align=\"LEFT\"><span style=\"font-family: Times New Roman,serif;\"><span style=\"font-size: small;\"><span lang=\"en-US\"><span style=\"font-family: Courier New,monospace;\">共1</span></span></span></span><span style=\"font-size: small;\">行，是一个正整数，为所求的计算结果，即满足条件的不同的</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"font-size: small;\"><span lang=\"en-US\"><span style=\"font-family: Courier New,monospace;\">r</span></span></span></span><span style=\"font-size: small;\">的个数（用十进制数表示），要求最高位不得为</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"font-size: small;\"><span lang=\"en-US\"><span style=\"font-family: Courier New,monospace;\">0</span></span></span></span><span style=\"font-size: small;\">，各数字之间不得插入数字以外的其他字符（例如空格、换行符、逗号等）。</span></p>\n<p class=\"cjk\" style=\"text-indent: 0.56cm; margin-top: 0.49cm; margin-bottom: 0.49cm; widows: 2; orphans: 2;\" align=\"LEFT\"><span style=\"font-size: small;\">（提示：作为结果的正整数可能很大，但不会超过</span><span style=\"font-family: Times New Roman,serif;\"><span style=\"font-size: small;\"><span lang=\"en-US\"><span style=\"font-family: Courier New,monospace;\">200</span></span></span></span><span style=\"font-size: small;\">位）</span></p>\n\n</div>\n</div>\n\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输入\n<small>Sample Input</small>\n</span></div>\n<div class=\"panel-body\">\n<p>3 7</p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输出\n<small>Sample Output</small>\n</span></div>\n<div class=\"panel-body\">\n<p>36</p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n数据范围及提示\n<small>Data Size & Hint</small>\n</span></div>\n<div class=\"panel-body\">\n\n</div>\n</div>\n"}]}