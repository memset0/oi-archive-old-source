{"title":"灾后重建","time_limit":1000,"memory_limit":250,"url":"http://www.joyoi.cn/problem/codevs-1817","statement":[{"title":"","format":"html_final","require":["katex"],"content":"\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n题目描述\n<small>Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p>B地区在地震过后，所有村庄都造成了一定的损毁，而这场地震却没对公路造成什么影响。但是在村庄重建好之前，所有与未重建完成的村庄的公路均无法通车。换句话说，只有连接着两个重建完成的村庄的公路才能通车，只能到达重建完成的村庄。</p>\n<p>给出B地区的村庄数N，村庄编号从0到N-1，和所有M条公路的长度，公路是双向的。并给出第i个村庄重建完成的时间t[i]，你可以认为是同时开始重建并在第t[i]天重建完成，并且在当天即可通车。若t[i]为0则说明地震未对此地区造成损坏，一开始就可以通车。之后有Q个询问(x, y, t)，对于每个询问你要回答在第t天，从村庄x到村庄y的最短路径长度为多少。如果无法找到从x村庄到y村庄的路径，经过若干个已重建完成的村庄，或者村庄x或村庄y在第t天仍未重建完成 ，则需要返回-1。</p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输入描述\n<small>Input Description</small>\n</span></div>\n<div class=\"panel-body\">\n<p>输入的第一行包含两个<strong>正整数</strong>N，M，表示了村庄的数目与公路的长度。</p>\n<p>第二行包含N个<strong>非负整数</strong>t[0], t[1], …, t[N – 1]，表示了每个村庄重建完成的时间，<strong>数据保证了t[0] ≤ t[1] ≤ … ≤ t[N – 1]</strong>。</p>\n<p>接下来M行，每行3个<strong>非负整数</strong>i, j, w，<strong>w为不超过10000的正整数</strong>，表示了有一条连接村庄i与村庄j的道路，长度为w，保证i≠j，且对于任意一对村庄只会存在一条道路。</p>\n<p>接下来一行也就是M+3行包含一个<strong>正整数</strong>Q，表示Q个询问。</p>\n<p>接下来Q行，每行3个<strong>非负整数</strong>x, y, t，询问在第t天，从村庄x到村庄y的最短路径长度为多少，<strong>数据保证了t是不下降的</strong>。</p>\n\n</div>\n</div>\n<div  class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输出描述\n<small>Output Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p>输出包含Q行，对每一个询问(x, y, t)输出对应的答案，即在第t天，从村庄x到村庄y的最短路径长度为多少。如果在第t天无法找到从x村庄到y村庄的路径，经过若干个已重建完成的村庄，或者村庄x或村庄y在第t天仍未修复完成，则输出-1。</p>\n\n</div>\n</div>\n\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输入\n<small>Sample Input</small>\n</span></div>\n<div class=\"panel-body\">\n<p>4 5</p>\n<p>1 2 3 4</p>\n<p>0 2 1</p>\n<p>2 3 1</p>\n<p>3 1 2</p>\n<p>2 1 4</p>\n<p>0 3 5</p>\n<p>4</p>\n<p>2 0 2</p>\n<p>0 1 2</p>\n<p>0 1 3</p>\n<p>0 1 4</p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输出\n<small>Sample Output</small>\n</span></div>\n<div class=\"panel-body\">\n<p>-1</p>\n<p>-1</p>\n<p>5</p>\n<p>4</p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n数据范围及提示\n<small>Data Size & Hint</small>\n</span></div>\n<div class=\"panel-body\">\n<p><strong>【数据规模】</strong></p>\n<p>对于30%的数据，有N≤50；</p>\n<p>对于30%的数据，有t[i] = 0，其中有20%的数据有t[i] = 0<strong>且</strong>N＞50；</p>\n<p>对于50%的数据，有Q≤100；</p>\n<p>对于100%的数据，有N≤200，M≤N*(N-1)/2，Q≤50000，所有输入数据涉及整数均不超过100000。</p>\n</div>\n</div>\n"}]}