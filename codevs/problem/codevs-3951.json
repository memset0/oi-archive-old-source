{"title":"物质分解记录","time_limit":6000,"memory_limit":250,"url":"http://www.joyoi.cn/problem/codevs-3951","statement":[{"title":"","format":"html_final","require":["katex"],"content":"\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n题目描述\n<small>Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">对 物质分解记录 的结构进行统计分析。</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">例如：</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">给出一份 物质分解记录。</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_1</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">{</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_2</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">{</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_3</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_4</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_5</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">{</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_6</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_7</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">}</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_8</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">}</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_9</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_10</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">}</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_11</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">{</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_3</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_7</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_2</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">{</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_3</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_4</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_5</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">{</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_6</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_7</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">}</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_8</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">}</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_13</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">}</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">上述记录的含义是，Material_1分解为 Material_2、Material_9和Material_10，Material_2又分解为Material_3、Material_4、Material_5和Material_8。以此类推，大括号外书写特定物质名称，括号内表示此特定物质分解出来的子物质名称，每个子物质还可再分解。</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">现输入一个物质名称R，要求输出所有和物质R在记录中属于同一层次且位置在R之后的物质名称。</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">比如R=“Material_1” ，则应该输出“Material_11”；</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">比如R=“Material_9” ，则应该输出“Material_10”</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">如果R在代码中出现了多次，则以其第一次出现为准，即仅输出与第一次出现的R属于同一层次且位置在R之后的语句内容。</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">比如R=“Material_2” ，则应该输出</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_9</span><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">Material_10</span></p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输入描述\n<small>Input Description</small>\n</span></div>\n<div class=\"panel-body\">\n<p><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">输入包含多组数据。第一行是物质分解记录的份数，仅用一个整数表示。从第二行开始，每组数据包括 物质分解记录 和 所需查找的物质R 两部分，物质分解记录样式如描述中所示，R的内容和物质分解记录之间有一行空行，下一份记录与上一个R之间有两行空行。</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">若输入！则表示输入结束。</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">为简单起见，物质分解记录中每一行的内容为“{”或者“}”或者一个物质名称，不会有其他情况（比如空行）出现。同时每行文字前不会有任何缩进。物质名称是英文字母、数字和下划线组成的字符串。</span></p>\n\n</div>\n</div>\n<div  class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输出描述\n<small>Output Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p><span style=\"color: rgb(35, 31, 23); font-family: &#39;Lucida Grande&#39;, Verdana, &#39;Bitstream Vera Sans&#39;, Arial, sans-serif; font-size: 14px; line-height: 21px;\">对每组数据输出一行，如果R在记录中找到，则输出所有与R在同一层次且位置在R之后的物质名称，名称之间无需添加空格，紧密连接即可；否则输出No。若R是其所在层次中最后一个物质，则输出&quot;&quot;,即输出一个空字符。</span></p>\n\n</div>\n</div>\n\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输入\n<small>Sample Input</small>\n</span></div>\n<div class=\"panel-body\">\n<p>   </p><pre style=\"font-family: 'Courier New';\">3\nMaterial_1\n{\nMaterial_2\n{\nMaterial_3\nMaterial_4\nMaterial_5\n{\nMaterial_6\nMaterial_7\n}\nMaterial_8\n}\nMaterial_9\nMaterial_10\n}\n\nMaterial_2\n\n\nMaterial_1\n{\nMaterial_2\n{\nMaterial_3\nMaterial_4\nMaterial_5\n{\nMaterial_6\nMaterial_7\n}\nMaterial_8\n}\nMaterial_9\nMaterial_10\n}\nMaterial_11\n{\nMaterial_3\nMaterial_7\nMaterial_2\n{\nMaterial_3\nMaterial_4\nMaterial_5\n{\nMaterial_6\nMaterial_7\n}\nMaterial_8\n}\nMaterial_13\n}\n\nMaterial_2\n\n\nMaterial_1\n{\nMaterial_2\n{\nMaterial_3\nMaterial_4\nMaterial_5\n{\nMaterial_6\nMaterial_7\n}\nMaterial_8\n}\nMaterial_9\nMaterial_10\n}\n\nMaterial_20\n\n\n！</pre><p><br></p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输出\n<small>Sample Output</small>\n</span></div>\n<div class=\"panel-body\">\n<p>   </p><pre style=\"font-family: 'Courier New';\">Material_9Material_10\nMaterial_9Material_10\nNo</pre><p><br></p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n数据范围及提示\n<small>Data Size & Hint</small>\n</span></div>\n<div class=\"panel-body\">\n<p><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">读入数据时，需采用如下方式进行读取。</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">例：若要读取一行输入内容，则</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">cin.getline(line, lineSize, '\\n');</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">sscanf(line, \"%s\", tmp);</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">其中line和tmp为数组指针，类型为char* ，linesize为line所指向的数组的规模，为int型。</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">所需读取的内容最终是存储在tmp数组中。之后如需对读取的内容进行操作，就对tmp进行操作即可，读到空行时tmp长度即为0。</span><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><br style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\"><span style=\"font-family: 'Lucida Grande', Verdana, 'Bitstream Vera Sans', Arial, sans-serif;\">采用其他方法读取可能会出现WA以及RE，TLE。</span></p>\n</div>\n</div>\n"}]}