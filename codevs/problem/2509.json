{"title":"Sailing Race","time_limit":3000,"memory_limit":31,"url":"http://www.joyoi.cn/problem/codevs-2509","statement":[{"title":"","format":"html_final","require":["katex"],"content":"\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n题目描述\n<small>Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p>The annual sailing race is organized on a round shape lake. There are N harbors, numbered from 1 to N <br>around the lake counterclockwise. The race consists of several stages, where each stage runs on a straight <br>line from one harbor to another, and the race track can only meet a harbor at most once. The organizers want <br>to create a race track that contains the highest possible number of stages. They must keep in mind that a <br>sailboat at a given harbor may only go to some specific harbors on a direct route. Fortunately, for each <br>harbor A they have the list of direct destinations from A, i.e. a list of other harbors to which a sailboat can go <br>on a straight line from A. Generally, the race track consists of non-intersecting stages, to avoid the collision <br>of sailboats. This year, however, a new technology is available, with which one crossing may be allowed if it <br>lies on the first stage. So if the race track starts at harbor S and the next harbor in the track is T then at most <br>one stage can cross the first stage S-T. The organizers may decide to allow a crossing like this, or rather <br>choose the classical design with non-intersecting stages.</p>\n<p>Task <br>You are to write a program that computes a race track of the given type containing the highest possible <br>number of stages.</p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输入描述\n<small>Input Description</small>\n</span></div>\n<div class=\"panel-body\">\n<p>The first line of the input contains two integers, the first number N (1 ≤ N ≤ 500) is the number of harbors <br>and the second number k is the type of the required race track. If k is 0 then a classical track (without <br>crossings) is required, while if k is 1 then the track may contain at most one crossing, as specified above. <br>The next N lines contain the list of direct destinations from the harbors. The (i+1)th line contains the list for <br>harbor i, a space-separated list of integers, terminated by 0.</p>\n\n</div>\n</div>\n<div  class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n输出描述\n<small>Output Description</small>\n</span></div>\n<div class=\"panel-body\">\n\n<p>The first line of the output contains one integer M, the maximal number of stages that a race track of the <br />given type can contain. The second line contains the identifier number of the starting harbor of one such race <br />track. If there are multiple solutions, your program should output only one; it does not matter which one.</p>\n\n</div>\n</div>\n\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输入\n<small>Sample Input</small>\n</span></div>\n<div class=\"panel-body\">\n<p>7 1 <br>5 0 <br>5 0 <br>7 0 <br>3 0 <br>4 0 <br>4 3 0 <br>2 1 0</p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n样例输出\n<small>Sample Output</small>\n</span></div>\n<div class=\"panel-body\">\n<p>5 <br>2</p>\n\n</div>\n</div>\n\n<div class=\"panel panel-default\">\n<div class=\"area-title\">\n<span>\n数据范围及提示\n<small>Data Size & Hint</small>\n</span></div>\n<div class=\"panel-body\">\n<p>In 40% of the test cases k=0. In 50% of the test cases N is at most 100. <br>No partial score is awarded for a correct first line.</p>\n</div>\n</div>\n"}]}