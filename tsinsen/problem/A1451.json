{"title":"Smile House","time_limit":5000,"memory_limit":256,"url":"http://www.tsinsen.com/A1451","statement":[{"title":"","format":"html","require":["katex"],"content":"\n<div id=\"pcont1\" style=\"margin-top:20px; display:block;\">\n"},{"title":"问题描述","format":"html","require":["katex"],"content":"\n<div class=\"pdcont\">　　有一个神奇的小屋叫Smile House，当你处在Smile House中的时候，你的心情可能会变得很舒畅也可能变得沮丧。<br/>\n　　Smile House有N个房间，某些房间通过一扇门连接。假设有一扇门连接着i号房间与j号房间，那么从i走到j，心情指数将增加c[i][j]；若从j走到i，心情指数将增加c[j][i]（c值可能为负）。<br/>\n　　Petya想知道他是否能够在Smile House中通过在一个若干房间组成的环中不断移动，来无限增加他的心情指数。如果他可以无限增加心情指数，那么在那些可以无限增加心情的环中，最少的房间数是多少。<br/>\n　　对于环的定义：环是一些房间的序列：a1,a2,...,ak，a1和a2相连，a2和a3相连，……，ak和a1相连。其中点ai,aj可以重合。对于这个环，它的房间数为k。</div>"},{"title":"输入格式","format":"html","require":["katex"],"content":"\n<div class=\"pdcont\">　　输入第一行包含两个整数N,M，表示房间数和门的个数。<br/>\n　　接下来M行，每行i,j,c[i][j],c[j][i]，表示有一扇门连接着i号房间和j号房间，从i到j增加c[i][j]心情指数，从j到i增加c[j][i]。</div>"},{"title":"输出格式","format":"html","require":["katex"],"content":"\n<div class=\"pdcont\">　　输出只包含一个整数，表示能够无限增加心情的环中，最少的房间数。<br/>\n　　如果不存在那样的环，输出0。</div>"},{"title":"样例输入","format":"html","require":["katex"],"content":"\n<div class=\"pddata\">4 4<br/>\n1 2 -10 3<br/>\n1 3 1 -10<br/>\n2 4 -10 -1<br/>\n3 4 0 -3</div>"},{"title":"样例输出","format":"html","require":["katex"],"content":"\n<div class=\"pddata\">4</div>"},{"title":"数据规模和约定","format":"html","require":["katex"],"content":"\n<div class=\"pdcont\">　　对于20%的数据，N&lt;=7,M&lt;=10。<br/>\n　　对于60%的数据，N&lt;=150,M&lt;=2000。<br/>\n　　对于100%的数据，1&lt;=N&lt;=300,0&lt;=M&lt;=N*(N-1)/2,-10000&lt;=c[i][j]&lt;=10000。<br/>\n　　保证没有两扇门连接着同样的两个房间，保证没有某个房间可以通过一扇门之后到达自己。</div>\n\n</div>\n"}]}