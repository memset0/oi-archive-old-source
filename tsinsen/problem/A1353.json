{"title":"树 (罗雨屏)","time_limit":1000,"memory_limit":256,"url":"http://www.tsinsen.com/A1353","statement":[{"title":"","format":"html","require":["katex"],"content":"\n<div id=\"pcont1\" style=\"margin-top:20px; display:block;\">\n"},{"title":"问题描述","format":"html","require":["katex"],"content":"\n<div class=\"pdcont\">　　给定一棵大小为 n 的有根点权树,支持以下操作:<br/>\n　　• 换根<br/>\n　　• 修改点权<br/>\n<br/>\n<br/>\n　　• 查询子树最小值</div>"},{"title":"输入格式","format":"html","require":["katex"],"content":"\n<div class=\"pdcont\">　　第一行两个整数 n, Q ,分别表示树的大小和操作数。<br/>\n　　接下来n行,每行两个整数f,v,第i+1行的两个数表示点i的父亲和点i的权。保证f &lt; i。如 果f = 0,那么i为根。输入数据保证只有i = 1时,f = 0。<br/>\n<br/>\n<br/>\n<br/>\n　　接下来 m 行,为以下格式中的一种:<br/>\n　　• V x y表示把点x的权改为y<br/>\n<br/>\n　　• E x 表示把有根树的根改为点 x<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n　　• Q x 表示查询点 x 的子树最小值</div>"},{"title":"输出格式","format":"html","require":["katex"],"content":"\n<div class=\"pdcont\">　　对于每个 Q ,输出子树最小值。</div>"},{"title":"样例输入","format":"html","require":["katex"],"content":"\n<div class=\"pddata\">3 7<br/>\n0 1<br/>\n1 2<br/>\n1 3<br/>\nQ 1<br/>\nV 1 6<br/>\nQ 1<br/>\nV 2 5<br/>\nQ 1<br/>\nV 3 4<br/>\nQ 1</div>"},{"title":"样例输出","format":"html","require":["katex"],"content":"\n<div class=\"pddata\">1<br/>\n2<br/>\n3<br/>\n4</div>"},{"title":"数据规模和约定","format":"html","require":["katex"],"content":"\n<div class=\"pdcont\">　　对于 20% 的数据:n, Q ≤ 100；<br/>\n　　对于其余 30% 的数据:没有换根操作；<br/>\n　　对于 100% 的数据:n, Q ≤ 10^5。</div>\n\n</div>\n"}]}