{"title":"「NOI2004」毕业生                              ","time_limit":1000,"memory_limit":256,"url":"https://guoj.icu/problem/1240","statement":[{"title":"题目描述","format":"markdown","require":["katex"],"content":"\n**这是一道提交答案题。**\r\n\r\n小 Y 高中毕业了，等待着他的是四年未知的大学生活，小 Y 不禁感到既紧张又兴奋。他现在真恨不得马上就开始他的大学生活，但是，在上学之前还是有很多事情要做的，其中很重要的一件事就是收拾行李。\r\n\r\n![](/source/guoj/1240/img/aHR0cHM6Ly9pLmxvbGkubmV0LzIwMTkvMDYvMjEvNWQwYzliZmI5OTVlNzU3MTgzLnBuZw==.png)\r\n\r\n小 Y 有一套钟爱的玩具，这套玩具由很多小的基块组成，每个基块都是由若干厚度一定的单位小正方形块拼成的连通图形，图 1 就是 3 个基块的平面图。\r\n\r\n由于小 Y 非常喜欢这套玩具，他决定把它带到大学去。“我可以制作一个矩形的有一定厚度的箱子，然后把我的所有玩具都摆放到这个箱子里。”小 Y 自言自语道。由于箱子的厚度有限，在摆放的时候基块之间不能重叠。但是可以将基块旋转 $0$ 度，$90$ 度，$180$ 度或者 $270$ 度后再进行摆放，图 2 就是一种可能的摆放方式。\r\n\r\n![](/source/guoj/1240/img/aHR0cHM6Ly9pLmxvbGkubmV0LzIwMTkvMDYvMjEvNWQwYzljM2I1ZjcxODI2MzQwLnBuZw==.png)\r\n\r\n由于要带走的行李实在是太多了，小 Y 必须尽量缩小这套玩具所占的体积。“由于箱子的厚度是一定的，我只要适当的摆放这些基块，使得包含它们的矩形面积最小就可以了。”小 Y 想。但这并不是一个容易的问题，小 Y 试了很长时间都没有成功，你能帮帮他吗？\n"},{"title":"输入格式","format":"markdown","require":["katex"],"content":"\n输入文件 `graduate1.in` 到 `graduate10.in` 已经放在附加文件中。\r\n\r\n每个输入文件的第一行都是一个整数 $n$，表示基块的数目。接下来是每个基块的形状描述，共有 $n$ 个部分，每个部分的第一行是一个整数 $r$，表示包含这个基块的最小矩形纵向上的单位小正方形的个数，接下来 $r$ 行每行用一个字符串来描述基块的形状，组成该基块的单位小正方形用字符“`*`”来表示。数据保证每个基块的所有的单位小正方形是四连通的。\r\n\r\n\r\n\n"},{"title":"输出格式","format":"markdown","require":["katex"],"content":"\n本题是一道提交答案式的题目，你需要提交十个输出文件从 `graduate1.out` 到 `graduate10.out`。\r\n\r\n每个文件的第一行包含两个整数 $H$ 和 $W$，分别表示包含这些基块的最小矩形的纵向和横向尺寸。\r\n\r\n接下来的 $n$ 行，每行包含三个整数 $k$，$x$ 和 $y$。$k$ 是 $0$，$1$，$2$，$3$ 四个数中的一个，表示每个基块的旋转角度，$0$ 表示不旋转，$1$ 表示顺时针旋转 $90$ 度，$2$ 表示顺时针旋转 $180$ 度，$3$ 表示顺时针旋转 $270$ 度。$x$ 和 $y$ 表示旋转后，包含该基块的最小矩形的左上角方格的坐标，$x$ 表示该方格所在的行，$y$ 表示该方格所在的列，注意行和列的编号从 $0$ 开始。\r\n\n"},{"title":"样例","format":"markdown","require":["katex"],"content":"\n#### 样例输入\r\n```plain\r\n3\r\n3\r\n*****\r\n*   *\r\n*****\r\n2\r\n*\r\n*\r\n5\r\n****\r\n*\r\n*\r\n*\r\n*\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n4 6\r\n0 0 1\r\n1 1 2\r\n3 0 0\r\n```\r\n\r\n#### 样例说明\r\n基块的摆放方法如图 3 所示\r\n\r\n![](/source/guoj/1240/img/aHR0cHM6Ly9pLmxvbGkubmV0LzIwMTkvMDYvMjEvNWQwYzlkMjQyZjkwNTM4MjgzLnBuZw==.png)\n"},{"title":"数据范围与提示","format":"markdown","require":["katex"],"content":"\n#### 评分方法\r\n- 如果你输出的矩形的长或者宽超过 $500$，该测试点 $0$ 分。\r\n- 如果你输出的方案不合法，即 $k, x, y$ 的范围不符合题目规定、某个基块超出边界或者基块之间有重叠等，该测试点 $0$ 分。\r\n- 否则该测试点的得分按如下公式计算\r\n$$\r\nyour\\_score=\\left\\lfloor\\frac{best\\_area}{your\\_area}\\times 9\\right\\rfloor+1\r\n$$\r\n\r\n其中，$your\\_area$ 为你输出的矩形的面积，$best\\_area$ 为我们的最优结果。\r\n\r\n#### 你如何测试你的输出\r\n我们提供 `graduate_check` 这个工具作为测试你的输出文件的办法。使用这个工具的方法是：\r\n```plain\r\ngraduate_check <测试点编号X>\r\n```\r\n在你调用这个文件后，`graduate_check` 将根据输入文件 `graduateX.in` 和你给出的输出文件 `graduateX.out` 给出测试的结果。\r\n\r\n检查程序的第一步是读取选手输出并尝试进行放置。程序按照输入文件的顺序依次处理各个块，如果无法按照输出的要求放置，会输出以下信息之一：\r\n- `Error: toy xxx is OUT OF BOARD!`\r\n- `Error: toy xxx is overlapping some previously placed toy!`\r\n\r\n第一种信息表示有某个基块超出了边界，第二种信息表示某两个基块有重叠。\r\n\r\n由于程序对于每个基块只按顺序处理一次，所以只报告与当前已经放置好的基块有重叠的基块。也就是说，第一个基块是不会被报第二种错误的。\r\n\r\n第一种错误出现时，程序继续，伸出矩形之外的部分不予考虑；第二种错误出现时，程序继续，在重叠的地方以“`!`”标记。\r\n\r\n检查程序的第二步是输出放置方案。位于矩形之外的部分不会画出，而重叠的地方用“`!`”标记。\r\n\r\n检查程序的最后一步是输出汇总信息，有以下几种可能：\r\n- `Some toys are MISSING...`\r\n- `Some toys are OUT OF BOARD...`\r\n- `Some toys are overlapping some others...`\r\n- `Correct! area = xxx`\r\n\r\n其中第一种信息表示有某个基块缺失，这是因为有基块的坐标 $x$、$y$ 至少有一个为负。为了方便选手，本测试程序允许选手只放置部分基块观察结果，坐标中有负数的基块将被忽略，但是这在最后的评分程序中会被视为非法解。\r\n\r\n特别提示：由于 `graduate_check` 输出摆放结果，每行可能会超过 $80$ 个字符，行数也可能很多，建议采用重定向的方式把输出结果保存为文件，在编辑器中打开分析。命令为：`graduate_check <测试点编号X> > result.txt`\r\n\n\n\n"}]}