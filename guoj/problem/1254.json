{"title":"「NOI2007」货币兑换                              ","time_limit":1000,"memory_limit":128,"url":"https://guoj.icu/problem/1254","statement":[{"title":"# 题目描述","format":"markdown","require":["katex"],"content":"\n小 Y 最近在一家金券交易所工作。该金券交易所只发行交易两种金券：A 纪念券（以下简称 A 券）和 B 纪念券（以下简称 B 券）。每个持有金券的顾客都有\r\n一个自己的帐户。金券的数目可以是一个实数。\r\n\r\n每天随着市场的起伏波动，两种金券都有自己当时的价值，即每一单位金券当天可以兑换的人民币数目。我们记录第 $K$ 天中 A 券和 B 券的价值分别为 $A_K$ 和\r\n$B_K$（元/单位金券）。\r\n\r\n为了方便顾客，金券交易所提供了一种非常方便的交易方式：比例交易法。\r\n\r\n比例交易法分为两个方面：\r\n\r\na) 卖出金券：顾客提供一个 $[0,100]$ 内的实数 $OP$ 作为卖出比例，其意义为：将 $OP\\%$ 的 A 券和 $OP\\%$ 的 B 券以当时的价值兑换为人民币；\r\n\r\nb) 买入金券：顾客支付 $IP$ 元人民币，交易所将会兑换给用户总价值为 $IP$ 的金券，并且，满足提供给顾客的 A 券和 B 券的比例在第 $K$ 天恰好为 $Rate_K$；\r\n\r\n例如，假定接下来 $3$ 天内的 $A_k$、$B_k$、$Rate_K$ 的变化分别为：\r\n\r\n|时间|$A_k$|$B_k$|$Rate_k$|\r\n|:-:|:-:|:-:|:-:|\r\n|第一天|$1$<!---->|$1$|$1$<!---->|\r\n|第二天|$1$|$2$<!---->|$2$|\r\n|第三天|$2$<!---->|$2$|$3$|\r\n\r\n假定在第一天时，用户手中有 $100$ 元人民币但是没有任何金券。\r\n\r\n用户可以执行以下的操作：\r\n\r\n|时间|用户操作|人民币(元)|A 券的数量|B 券的数量|\r\n|:-:|:-:|:-:|:-:|:-:|\r\n|开户|无|$100$|$0$<!---->|$0$|\r\n|第一天|买入 $100$ 元|$0$|$50$<!---->|$50$|\r\n|第二天|卖出 $50\\%$|$75$|$25$<!---->|$25$|\r\n|第二天|买入 $60$ 元|$15$|$55$|$40$|\r\n|第三天|卖出 $100\\%$|$205$|$0$<!---->|$0$|\r\n\r\n注意到，同一天内可以进行多次操作。\r\n\r\n小 Y 是一个很有经济头脑的员工，通过较长时间的运作和行情测算，他已经知道了未来 $N$ 天内的 A 券和 B 券的价值以及 $Rate$。他还希望能够计算出来，如果开始时拥有 $S$ 元钱，那么 $N$ 天后最多能够获得多少元钱。\n"},{"title":"# 输入格式","format":"markdown","require":["katex"],"content":"\n第一行两个正整数 $N$、$S$，分别表示小 Y 能预知的天数以及初始时拥有的钱数。\r\n\r\n接下来 $N$ 行，第 $K$ 行三个实数 $A_K$、$B_K$、$Rate_K$，意义如题目中所述。\n"},{"title":"# 输出格式","format":"markdown","require":["katex"],"content":"\n只有一个实数 $MaxProfit$，表示第 $N$ 天的操作结束时能够获得的最大的金钱数目。答案保留 $3$ 位小数。\n"},{"title":"# 样例","format":"markdown","require":["katex"],"content":"\n#### 样例输入\r\n```plain\r\n3 100\r\n1 1 1\r\n1 2 2\r\n2 2 3\r\n```\r\n#### 样例输出\r\n```plain\r\n225.000\r\n```\r\n#### 样例说明\r\n|时间|用户操作|人民币(元)|A 券的数量|B 券的数量|\r\n|:-:|:-:|:-:|:-:|:-:|\r\n|开户|无|$100$|$0$|$0$<!---->|\r\n|第一天|买入 $100$ 元|$0$|$50$<!---->|$50$|\r\n|第二天|卖出 $100\\%$|$150$|$0$<!---->|$0$|\r\n|第二天|买入 $150$ 元|$0$|$75$|$37.5$|\r\n|第三天|卖出 $100\\%$|$225$|$0$<!---->|$0$|\n"},{"title":"# 数据范围与提示","format":"markdown","require":["katex"],"content":"\n#### 评分方法\r\n本题没有部分分，你的程序的输出只有和标准答案相差不超过 $0.001$ 时，才能获得该测试点的满分，否则不得分。\r\n\r\n#### 数据规模和约定\r\n\r\n测试数据设计使得精度误差不会超过 $10^{-7}$。\r\n\r\n对于 $40\\%$ 的测试数据，满足 $N\\le 10$；\r\n对于 $60\\%$ 的测试数据，满足 $N\\le 1 000$；\r\n对于 $100\\%$ 的测试数据，满足 $N\\le 100 000$；\r\n\r\n对于 $100\\%$ 的测试数据，满足：\r\n\r\n$0< A_K\\le 10$；  \r\n$0< B_K\\le 10$；  \r\n$0< Rate_K\\le 100$；  \r\n$MaxProfit\\le 10^9$；\r\n\r\n#### 提示\r\n\r\n输入文件可能很大，请采用快速的读入方式。\r\n\r\n必然存在一种最优的买卖方案满足：\r\n- 每次买进操作使用完所有的人民币；\r\n- 每次卖出操作卖出所有的金券。\n\n\n"}]}