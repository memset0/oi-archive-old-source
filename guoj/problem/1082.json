{"title":"「余姚中学 2019 联测 Day 2」Radio Ga Ga                              ","time_limit":3000,"memory_limit":1024,"url":"https://guoj.icu/problem/1082","statement":[{"title":"题目描述","format":"markdown","require":["katex"],"content":"\n> \"All we hear is radio ga ga\r\n>\r\n> radio goo goo\r\n>\r\n> radio ga ga\r\n>\r\n> All we hear is radio ga ga\r\n>\r\n> radio blah blah\r\n>\r\n> Radio what's new?\"\r\n\r\nRoger 是个长得有点帅的鼓手，\"Radio Ga Ga\"就是他为 Queen 所作的词曲作品。\r\n\r\nRoger 想起来了儿时躺在家中听着收音机的日子，为了记下那些日子，作为一个高智商的（~~牙医~~）鼓手，他决定用自己喜欢的架子鼓来做点有意思的事情。\r\n\r\nRoger 一共有 $n$ 个架子鼓（如果你要问为什么 Roger 可以弹 $10^9$ 个鼓，那可能是因为他比较帅吧），这 $n$ 个架子鼓排成一排，按照 $1..n$ 的顺序编号。\r\n\r\nRoger 决定按照某个顺序来打鼓：\r\n\r\n一开始他选择第 $s$ 个架子鼓来打，然后假设每一次他要打鼓前，他已经打过编号在区间 $[l,r]$ 内的鼓，那么他有两种选择：\r\n\r\n- 若 $l>1$，那么他可以选择去打编号为 $l-1$ 的鼓\r\n- 若 $r<n​$，那么他可以选择去打编号为 $r+1​$ 的鼓\r\n\r\nRoger 一定打完所有鼓才结束。\r\n\r\nRoger 还有着特殊的喜好，有 $m​$ 种特殊情况会让他更开心，第 $i​$ 种特殊情况形如“若 Roger 第 $k_i​$ 次打的鼓是第 $x_i​$ 个鼓，那么 Roger 会获得 $w_i​$ 的愉悦值”，Roger 最终获得的愉悦值的和为所有符合的情况的 $w_i$ 的和。\r\n\r\n作为 Roger 的迷弟，你深深的被 Roger 的颜值折服了，但与此同时，你的脑海里蹦出了 $q$ 个问题，每个问题都形如“如果 Roger 第一次选择的架子鼓是第 $s_i$ 个，那么 Roger 能获得的愉悦值的和最大是多少”\n"},{"title":"输入格式","format":"markdown","require":["katex"],"content":"\n从标准输入读入。\r\n\r\n第一行三个整数 $n,m,q​$，表示架子鼓的数量，特殊情况的数量和询问数。\r\n\r\n接下来 $m​$ 行，每行三个整数 $k_i,x_i,w_i$ ，表示若 Roger 第 $k_i​$ 次打的鼓是第 $x_i$ 个鼓，那么 Roger 会获得 $w_i$ 的愉悦值。\r\n\r\n接下来 $q$ 行，每行一个整数 $s_i$，询问如果 Roger 第一次选择的架子鼓是第 $s_i$ 个，那么 Roger 能获得的愉悦值的和最大是多少。\n"},{"title":"输出格式","format":"markdown","require":["katex"],"content":"\n输出到标准输出。\r\n\r\n共 $q​$ 行，其中第 $i$ 行表示第 $i$ 次询问的答案。\n"},{"title":"样例","format":"markdown","require":["katex"],"content":"\n#### 样例输入1\r\n\r\n```plain\r\n7 7 7\r\n1 7 3\r\n1 3 80\r\n4 1 9\r\n4 5 83\r\n2 2 28\r\n2 1 26\r\n5 2 92\r\n1\r\n2\r\n3\r\n4\r\n5\r\n6\r\n7\r\n```\r\n\r\n#### 样例输出1\r\n\r\n```plain\r\n28\r\n83\r\n191\r\n92\r\n92\r\n92\r\n3\r\n```\n"},{"title":"数据范围与提示","format":"markdown","require":["katex"],"content":"\n本题采用捆绑测试。\r\n\r\n对于所有数据，$1\\le n\\le 10^9,1\\le m,q\\le 5\\times 10^5,0\\le w_i\\le 10^9,1\\le k_i,x_i,s_i\\le n$\r\n\r\n保证不存在两种特殊情况 $i,j​$ 满足 $k_i=k_j$ 且 $x_i=x_j​$\r\n\r\n子任务如下：\r\n\r\n- Subtask1（10分）$n\\le 20$\r\n- Subtask2（20分）$n,m,q\\le 1000$\r\n- Subtask3（10分）$m,q\\le 1000$\r\n- Subtask4（20分）$m,q\\le 10^5$\r\n- Subtask5（20分）$m,q\\le 3\\times 10^5$\r\n- Subtask6（20分）无特殊限制。\r\n\r\n命题人：samjia2000\n\n\n"}]}