{"title":"「余姚中学 2019 联测 Day 8」二                              ","time_limit":2000,"memory_limit":512,"url":"https://guoj.icu/problem/1099","statement":[{"title":"题目描述","format":"markdown","require":["katex"],"content":"\n**这是一道交互题，本题仅支持 `C++` 语言，请务必注意。**\r\n\r\n**由于一些原因，请不要选择带有 (`NOI`) 的语言进行提交。**\r\n\r\n**请不要攻击交互库，如果有攻击行为会更换交互库并重测。**\r\n\r\n9012年，Byteland。作为A国的头号间谍，你终于成功地侵入了B国核心机房。\r\n\r\n据传，核心机房中存储着一个 $0,1 \\cdots n-1$ 的排列 $p_0,p_1 \\cdots p_{n-1}$，代号为Elephant的B国最高机密即使用该排列作为私钥加密。\r\n\r\n你失望地发现，硬盘上的排列经过了层层加密，对外部开放的只有一个接口。接口每次可以接受不超过 $70$ 对 $(a,b)$，对于每一对 $(a,b)$ 接口会返回 $p_a$ 和 $p_b$ 的大小关系。\r\n\r\n自动防火墙已经触发，留给你的时间已经不多了。你需要调用尽量少次接口，还原出这个排列。调用的接口次数越少你的得分越高，评分细则可参见**数据范围与提示**一节。\r\n\r\n### 关于交互库的说明\r\n\r\n附加文件中有 `dwa.hpp` 、`sample.cpp` 两个文件，以下是详细说明，如果懒得看的话你也可以直接参照 `sample.cpp` 编写代码。（编译时需要使用 `C++11` 或以上版本）\r\n\r\n你需要在你代码的开头 `#include \"dwa.hpp\"` 来与交互库交互，你不应该实现 `main` 函数或试图进行任何文件输入输出，你只需要实现一个函数：`std::vector<int> work(int n)`，它接受选手数 $n$，返回一个长度为 $n$ 的 `std::vector`，表示 $p_0,p_1 \\cdots p_{n-1}$。\r\n\r\n你可以使用交互库提供的一个函数：`std::vector<int> ask(std::vector<std::pair<int,int>> v)`，这个函数接受 $\\{(a_0,b_0),(a_1,b_1) \\cdots (a_{t-1},b_{t-1})\\}$，返回 $\\{[p_{a_0}<p_{b_0}],[p_{a_1}<p_{b_1}]\\cdots [p_{a_{t-1}}<p_{b_{t-1}}]\\}$。你需要保证 $t \\leq 70$，**并且每次调用的 $t$ 之和不超过 $5 \\times 10^6$**。\r\n\r\n样例交互库（下发的 `dwa.hpp`）会从标准输入读入 $n$ 和 $p_0,p_1 \\cdots p_{n-1}$。\r\n\r\n\n"},{"title":"样例","format":"markdown","require":["katex"],"content":"\n#### 样例输入1\r\n```\r\n7\r\n5 1 4 2 3 0 6\r\n```\r\n#### 样例输出1\r\n```\r\nGood job! You used 1234 queries.\r\n```\r\n需要注意的是，实际测试时的数据不包含这个样例，并且均满足 $n=10^5$。测试时使用的交互库可能有不同的输入输出格式。\n"},{"title":"数据范围与提示","format":"markdown","require":["katex"],"content":"\n$n=10^5$，排列 $p$ 在所有可能排列中均匀随机生成。\r\n\r\n本题有 $7$ 个测试点，你本题的得分是每个测试点的得分的最小值。\r\n\r\n对于某个测试点，若你没有正确还原出 $p$ 或调用不合法（例如传入的 $a,b$ 不在 $[0,n)$ 范围内、传入的 $t$ 总和超过 $5 \\times 10^6$），该测试点得 $0$ 分。\r\n\r\n否则设你使用了 $x$ 个询问，设 $y=\\{31500,34000,37000,40000,50000,70000,90000,200000,500000,3000000\\}$，若 $y$ 中有 $a$ 个大于等于 $x$ 的元素，则该测试点得 $10a$ 分。\r\n\r\n交互库是 **non-adaptive** 的，即在你的函数运行之前交互库中已经得到了 $p$，不会随着你调用的询问而改变。保证正常交互（即你可能获得分数）时交互库占用不超过 $0.5s$ 时间和 $100M$ 空间。\r\n\r\n给 Dev-C++ 用户的提示：请不要直接编译 `dwa.hpp`，如果你已经这么做了，你可以删除目录下的 `.gch` 文件。\r\n\r\n命题人：fjzzq2002\n\n\n"}]}