{"title":"「SNOI2019」纸牌                              ","time_limit":1000,"memory_limit":256,"url":"https://guoj.icu/problem/1168","statement":[{"title":"# 题目描述","format":"markdown","require":["katex"],"content":"\n有一副纸牌。牌一共有 $n$ 种，分别标有 $1, 2, \\dots , n$，每种有 $C$ 张。故这副牌共有 $nC$ 张。\r\n\r\n三张连号的牌（$i, i+1, i+2$）或三张相同的牌 $(i,i,i)$ 可以组成一**叠**。如果一组牌可以分成若干（包括零）**叠**，就称其为一组**王牌**。\r\n\r\n你从牌堆中摸了一些初始牌。现在你想再挑出一些牌组成一组王牌，请问有多少种可能组成的王牌呢？答案对 $998244353$ 取模。\r\n\r\n两组牌相同当且仅当它们含有的每一种牌数量都相同。\n"},{"title":"# 输入格式","format":"markdown","require":["katex"],"content":"\n第 $1$ 行两个整数 $n,C$ 表示牌的种类数和每种的张数；\r\n\r\n第 $2$ 行一个整数 $X$ 表示初始牌的种类数；\r\n\r\n接下来 $X$ 行每行两个整数 $k_i, a_i$，表示初始牌中有 $a_i$ 张 $k_i$ 号牌。每行的 $k_i$ 依次递增。\r\n\n"},{"title":"# 输出格式","format":"markdown","require":["katex"],"content":"\n输出 $1$ 行 $1$ 个自然数表示答案，对 $998244353$ 取模。\r\n\n"},{"title":"# 样例","format":"markdown","require":["katex"],"content":"\n#### 样例输入 1\r\n\r\n```plain\r\n3 3\r\n0\r\n```\r\n\r\n#### 样例输出 1\r\n\r\n```plain\r\n10\r\n```\r\n\r\n#### 样例解释 1\r\n\r\n所有方案如下：\r\n\r\n1. $\\{\\}$（不选任何牌）\r\n\r\n2. $\\{1,1,1\\}$\r\n\r\n3. $\\{2,2,2\\}$\r\n\r\n4. $\\{3,3,3\\}$\r\n\r\n5. $\\{1,2,3\\}$\r\n\r\n6. $\\{1,1,1,2,2,2\\}$\r\n\r\n7. $\\{1,1,1,3,3,3\\}​$\r\n\r\n8. $\\{2,2,2,3,3,3\\}$\r\n\r\n9. $\\{1,1,2,2,3,3\\}$\r\n\r\n10. $\\{1,1,1,2,2,2,3,3,3\\}$\r\n\r\n#### 样例输入 2\r\n\r\n```plain\r\n9 4\r\n9\r\n1 3\r\n2 1\r\n3 1\r\n4 1\r\n5 1\r\n6 1\r\n7 1\r\n8 1\r\n9 3\r\n```\r\n\r\n#### 样例输出 2\r\n\r\n```plain\r\n3521\r\n```\r\n\r\n#### 样例 3\r\n\r\n见附加文件。\r\n\n"},{"title":"# 数据范围与提示","format":"markdown","require":["katex"],"content":"\n对于所有数据，$1\\le n\\le 10^{18},0\\le a_i\\le C\\le 1000,0\\le X\\le 1000$。注意 $a_i$ 和 $C$ 可能为 $0$。\r\n\r\n* 对于 $20\\%$ 的数据，$n=9,C=4$；\r\n* 对于另外 $15\\%$ 的数据，$n\\le 10^5, C = 2$；\r\n* 对于另外 $15\\%$ 的数据，$X\\le 5, C \\le 10$；\r\n* 对于另外 $10\\%$ 的数据，$X=0$；\r\n* 对于另外 $20\\%$ 的数据，$n\\le 10^5$；\r\n* 对于余下 $20\\%$ 的数据，无特殊限制。\n\n\n"}]}