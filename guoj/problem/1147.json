{"title":"「GXOI / GZOI2019」与或和                              ","time_limit":2000,"memory_limit":512,"url":"https://guoj.icu/problem/1147","statement":[{"title":"# 题目描述","format":"markdown","require":["katex"],"content":"\nFreda 学习了位运算和矩阵以后，决定对这种简洁而优美的运算，以及蕴含深邃空间的结构进行更加深入的研究。\r\n\r\n对于一个由非负整数构成的矩阵，她定义矩阵的 $\\texttt{AND}$ 值为矩阵中所有数二进制 $\\texttt{AND(&)}$ 的运算结果；定义矩阵的 $\\texttt{OR}$ 值为矩阵中所有数二进制 $\\texttt{OR(|)}$ 的运算结果。\r\n\r\n给定一个 $N \\times N$ 的矩阵，她希望求出：\r\n1. 该矩阵的所有子矩阵的 $\\texttt{AND}$ 值之和（所有子矩阵 $\\texttt{AND}$ 值相加的结果）。\r\n2. 该矩阵的所有子矩阵的 $\\texttt{OR}$ 值之和（所有子矩阵 $\\texttt{OR}$ 值相加的结果）。\r\n\r\n接下来的剧情你应该已经猜到——Freda 并不想花费时间解决如此简单的问题，所以这个问题就交给你了。\r\n\r\n由于答案可能非常的大，你只需要输出答案对 $1,000,000,007 (10^9 + 7)$ 取模后的结果。\n"},{"title":"# 输入格式","format":"markdown","require":["katex"],"content":"\n输入文件的第一行是一个正整数 $N$，表示矩阵的尺寸。  \r\n接下来 $N$ 行，每行 $N$ 个自然数，代表矩阵的一行。相邻两个自然数之间由一个或多个空格隔开。\n"},{"title":"# 输出格式","format":"markdown","require":["katex"],"content":"\n输出只有一行，包含两个用空格隔开的整数，第一个应为所有子矩阵 $\\texttt{AND}$ 值之和除以 $10^9 + 7$ 的余数，第二个应为所有子矩阵 $\\texttt{OR}$ 值之和除以 $10^9 + 7$ 的余数。\n"},{"title":"# 样例","format":"markdown","require":["katex"],"content":"\n#### 样例输入 1\r\n```plain\r\n3\r\n1 0 0\r\n0 0 0\r\n0 0 0\r\n```\r\n\r\n#### 样例输出 1\r\n```plain\r\n1 9\r\n```\r\n\r\n#### 样例解释 1\r\n该 $3 \\times 3$ 矩阵共有 $9$ 个 $1 \\times 1$ 子矩阵、$6$ 个 $1 \\times 2$ 子矩阵、$6$ 个 $2 \\times 1$ 子矩阵、$4$ 个 $2 \\times 2$ 子矩阵、3 个 $1 \\times 3$ 子矩阵、$3$ 个 $3 \\times 1$ 子矩阵、$2$ 个 $2 \\times 3$ 子矩阵、$2$ 个 $3 \\times 2$ 子矩阵和 $1$ 个 $3 \\times 3$ 子矩阵。  \r\n只有一个子矩阵（仅由第一行第一列的那个元素构成的 $1 \\times 1$ 矩阵）$\\texttt{AND}$ 值为 $1$，其余子矩阵的 $\\texttt{AND}$ 值均为 $0$，总和为 $1$。  \r\n包含第一行第一列那个元素的子矩阵有 $9$ 个，它们的 $\\texttt{OR}$ 值为 $1$，其余子矩阵的 $\\texttt{OR}$ 值为 $0$，总和为 $9$。\r\n\r\n#### 样例输入 2\r\n```plain\r\n3\r\n1 2 3\r\n4 5 6\r\n7 8 9\r\n```\r\n\r\n#### 样例输出 2\r\n```plain\r\n73 314\r\n```\n"},{"title":"# 数据范围与提示","format":"markdown","require":["katex"],"content":"\n所有测试数据的范围和特点如下表所示：\r\n\r\n|测试点编号|$n$ 的规模|矩阵中的自然数|\r\n|:-:|:-:|:-:|\r\n|$1$|$1 \\le n \\le 10$|$\\le 100$|\r\n|$2$|$1 \\le n \\le 10$|$\\le 100$|\r\n|$3$|$1 \\le n \\le 100$|$\\le 100$|\r\n|$4$|$1 \\le n \\le 100$|$\\le 100$|\r\n|$5$|$1 \\le n \\le 100$|$\\le 100$|\r\n|$6$|$1 \\le n \\le 1,000$|$\\le 2^{31} - 1$|\r\n|$7$|$1 \\le n \\le 1,000$|$\\le 2^{31} - 1$|\r\n|$8$|$1 \\le n \\le 1,000$|$\\le 2^{31} - 1$|\r\n|$9$|$1 \\le n \\le 1,000$|$\\le 2^{31} - 1$|\r\n|$10$|$1 \\le n \\le 1,000$|$\\le 2^{31} - 1$|\n\n\n"}]}