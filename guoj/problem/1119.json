{"title":"「HNOI 2018 省队集训 Day 5」platform                              ","time_limit":1000,"memory_limit":512,"url":"https://guoj.icu/problem/1119","statement":[{"title":"题目描述","format":"markdown","require":["katex"],"content":"\n走过奈何桥有一个名叫望乡台的土台, 望乡台边有个名曰孟婆的老妇人在卖孟婆汤. 一生爱恨情仇, 一世浮沉得失, 都可以随这碗孟婆汤遗忘得干干净净.\r\n\r\n现在有$n$碗孟婆汤摆成一排, 汤的品种不超过$26$种, 因此我们用小写字母 a~z 来表示一种汤, 每碗汤还有一个权值$val_i$.\r\n\r\n你需要选出若干碗连续摆放的汤喝下去, 这些汤必须满足下列条件:\r\n\r\n- 至少有一碗汤.\r\n- 这个子串 (也就是那些汤) 在原串的所有子串中的字典序降序排名等于这一段汤的权值之和.\r\n\r\n现在你需要知道有多少种选汤的方案.\r\n\r\n注意出现在不同位置、本质相同的子串的排名是相同的且要重复计算方案数, 如`aaa`这个串, 排名为$1$的子串为`aaa`, 出现了一次; 排名为$2$的子串为`aa`, 出现了两次; 排名为$3$的子串为`a`, 出现了三次. (若还没明白题意的可以看样例1, 3的解释)\n"},{"title":"输入格式","format":"markdown","require":["katex"],"content":"\n第一行一个长度为$n$由小写字母组成的字符串, 每个字符代表一碗汤.\r\n\r\n第二行$n$个非负整数, 表示$val_i$.\n"},{"title":"输出格式","format":"markdown","require":["katex"],"content":"\n一行一个整数, 表示能被选的子串个数$S$.\r\n\r\n接下来$S$行每行两个整数$L, R$, 分别表示每个可选子串的左端点与右端点, 按照左端点升序为第一关键字, 右端点升序为第二关键字排序.\n"},{"title":"样例","format":"markdown","require":["katex"],"content":"\n**样例 1 输入**\r\n```\r\nabcd\r\n10 0 1 1\r\n```\r\n\r\n**样例 1 输出**\r\n```\r\n3\r\n1 1\r\n3 4\r\n4 4\r\n```\r\n\r\n**样例 1 解释**\r\n\r\n我们把所有的子串按照字典序从大到小排名: `d, cd, c, bcd, bc, b, abcd, abc, ab, a`.\r\n\r\n那么串`d`的排名为$1$ (第一大) , 权值和为$1$, 可以被选.\r\n\r\n串`cd`的排名为$2$, 权值和为$2$, 可以被选.\r\n\r\n串`a`的排名为$10$, 权值和为$10$, 可以被选.\r\n\r\n其他串则不满足这个条件，故有三个串可以被选.\r\n\r\n**样例 2 输入**\r\n```\r\naaaa\r\n1 1 1 1\r\n```\r\n\r\n**样例 2 输出**\r\n```\r\n0\r\n```\r\n\r\n**样例 3 输入**\r\n```\r\naaa\r\n1 1 1\r\n```\r\n\r\n**样例 3 输出**\r\n```\r\n2\r\n1 2\r\n2 3\r\n```\r\n\r\n**样例 3 解释**\r\n\r\n串`a`的排名是$3$, 权值和都是$1$.\r\n\r\n串`aa`的排名是$2$, 权值和都是$2$, 共有两个串`aa`, 位置分别为$1 \\ 2$和$2 \\ 3$.\r\n\r\n串`aaa`的排名是$1$, 权值和都是$3$.\r\n\r\n**样例 4 输入**\r\n```\r\nabdacdbcecbd\r\n1 3 1 3 3 4 2 2 4 2 1 1\r\n```\r\n\r\n**样例 4 输出**\r\n```\r\n2\r\n3 8\r\n9 9\r\n```\n"},{"title":"数据范围与提示","format":"markdown","require":["katex"],"content":"\n本题共有十个测试点.\r\n\r\n对于第$1$个测试点, 满足$n \\leq 50$,\r\n\r\n对于第$2, 3$个测试点, 满足$n \\leq 1000$,\r\n\r\n对于第$4$个测试点, 满足字符串只由一种字符组成, $n \\leq 50000$,\r\n\r\n对于第$5$个测试点, 满足所有汤的权值相同, $n \\leq 50000$,\r\n\r\n对于第$6, 7$个测试点, 满足$n \\leq 50000$,\r\n\r\n对于第$8, 9, 10$个测试点, 满足$n \\leq 200000$.\r\n\r\n保证$0 \\leq val_i \\leq 10000$, 且每个测试点满足要求的子串个数不超过$200000$个.\r\n\r\n<!--出题人：thkkk & shinetism-—->\r\n\r\n来源：HNOI 2018 省队集训 Day 5 T3\n\n\n"}]}