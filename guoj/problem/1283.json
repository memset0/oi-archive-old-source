{"title":"「NOIP2014」联合权值                              ","time_limit":1000,"memory_limit":128,"url":"https://guoj.icu/problem/1283","statement":[{"title":"题目描述","format":"markdown","require":["katex"],"content":"\n无向连通图 $ G $ 有 $ n $ 个点，$ n - 1 $ 条边。点从 $ 1 $ 到 $ n $ 依次编号，编号为 $ i $ 的点的权值为 $ W_i $，每条边的长度均为 $ 1 $。图上两点 $ (u, v) $ 的距离定义为 $ u $ 点到 $ v $ 点的最短距离。对于图 $ G $ 上的点对 $ (u, v) $，若它们的距离为 $ 2 $，则它们之间会产生$ W_v \\times W_u $ 的联合权值。\r\n\r\n请问图 $ G $ 上所有可产生联合权值的有序点对中，联合权值最大的是多少？所有联合权值之和是多少？\n"},{"title":"输入格式","format":"markdown","require":["katex"],"content":"\n第一行包含 $ 1 $ 个整数 $ n $。\r\n\r\n接下来 $ n - 1 $ 行，每行包含 $ 2 $ 个用空格隔开的正整数 $ u, v $，表示编号为 $ u $ 和编号为 $ v $ 的点之间有边相连。\r\n\r\n最后 $ 1 $ 行，包含 $ n $ 个正整数，每两个正整数之间用一个空格隔开，其中第 $ i $ 个整数表示图 $ G $ 上编号为 $ i $ 的点的权值为 $ W_i $。\r\n\n"},{"title":"输出格式","format":"markdown","require":["katex"],"content":"\n输出共 $ 1 $ 行，包含 $ 2 $ 个整数，之间用一个空格隔开，依次为图 $ G $ 上联合权值的最大值和所有联合权值之和。  \r\n**由于所有联合权值之和可能很大，输出它时要对 $ 10007 $ 取余。**\n"},{"title":"样例","format":"markdown","require":["katex"],"content":"\n#### 样例输入\r\n```plain\r\n5\r\n1 2\r\n2 3\r\n3 4\r\n4 5\r\n1 5 2 3 10\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n20 74\r\n```\n"},{"title":"数据范围与提示","format":"markdown","require":["katex"],"content":"\n对于 $ 30\\% $ 的数据，$ 1 < n \\leq 100 $；  \r\n对于 $ 60\\% $ 的数据，$ 1 < n \\leq 2000 $；  \r\n对于 $ 100\\% $ 的数据，$ 1 < n \\leq 200000, 0 < W_i \\leq 10000 $。\r\n\r\n保证一定存在可产生联合权值的有序点对。\r\n\n\n\n"}]}