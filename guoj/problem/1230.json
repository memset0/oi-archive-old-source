{"title":"「NOI2003」文本编辑器                              ","time_limit":1000,"memory_limit":128,"url":"https://guoj.icu/problem/1230","statement":[{"title":"题目描述","format":"markdown","require":["katex"],"content":"\n很久很久以前，DOS3.x 的程序员们开始对 EDLIN 感到厌倦。于是，人们开始纷纷改用自己写的文本编辑器……\r\n\r\n多年之后，出于偶然的机会，小明找到了当时的一个编辑软件。进行了一些简单的测试后，小明惊奇地发现：那个软件每秒能够进行上万次编辑操作（当然，你\r\n不能手工进行这样的测试）！于是，小明废寝忘食地想做一个同样的东西出来。你能帮助他吗？\r\n\r\n为了明确目标，小明对“文本编辑器”做了一个抽象的定义：\r\n\r\n<b>文本：</b>由 0 个或多个 ASCII 码在闭区间[32, 126]内的字符构成的序列。\r\n\r\n<b>光标：</b>在一段文本中用于指示位置的标记，可以位于文本首部，文本尾部或文本的某两个字符之间。\r\n\r\n<b>文本编辑器：</b>由一段文本和该文本中的一个光标组成的，支持如下操作的数据结构。如果这段文本为空，我们就说这个文本编辑器是空的。\r\n\r\n|操作名称|输入文件中的格式|功能|\r\n|:-:|:-:|:-:|\r\n|$MOVE(k)$|`Move k`|将光标移动到第 $k$ 个字符之后，如果 $k=0$，将光标移到文本开头|\r\n|$INSERT(n,s)$|`Insert n s`|在光标处插入长度为 $n$ 的字符串 $s$，光标位置不变，$n\\ge 1$|\r\n|$DELETE(n)$|`Delete n`|删除光标后的 $n$ 个字符，光标位置不变，$n\\ge 1$|\r\n|$GET(n)$|`Get n`|输出光标后的 $n$ 个字符，光标位置不变，$n\\ge 1$|\r\n|$PREV()$|`Prev`|光标前移一个字符|\r\n|$NEXT()$|`Next`|光标后移一个字符|\r\n\r\n比如一个空的文本编辑器依次执行操作 $INSERT(13, “Balanced tree”)$，$MOVE(2)$，$DELETE(5)$，$NEXT()$，$INSERT(7,“editor”)$，$MOVE(0)$，$GET(16)$ 后，会输出“`Bad editor tree`”。\r\n\r\n你的任务是：\r\n- 建立一个空的文本编辑器。\r\n- 从输入文件中读入一些操作并执行。\r\n- 对所有执行过的 $GET$ 操作，将指定的内容写入输出文件。\n"},{"title":"输入格式","format":"markdown","require":["katex"],"content":"\n输入的第一行是指令条数 $t$，以下是需要执行的 $t$ 个操作。其中：\r\n\r\n为了使输入文件便于阅读，$Insert$ 操作的字符串中可能会插入一些回车符，请忽略掉它们（如果难以理解这句话，可以参照样例）。\r\n\r\n除了回车符之外，输入文件的所有字符的 ASCII 码都在闭区间 $[32, 126]$ 内。且行尾没有空格。\n"},{"title":"输出格式","format":"markdown","require":["katex"],"content":"\n输出的每行依次对应输入文件中每条 $Get$ 指令的输出。\n"},{"title":"样例","format":"markdown","require":["katex"],"content":"\n#### 样例输入\r\n```plain\r\n15\r\nInsert 26\r\nabcdefghijklmnop\r\nqrstuv wxy\r\nMove 16\r\nDelete 11\r\nMove 5\r\nInsert 1\r\n^\r\nNext\r\nInsert 1\r\n_\r\nNext\r\nNext\r\nInsert 4\r\n.\\/.\r\nGet 4\r\nPrev\r\nInsert 1\r\n^\r\nMove 0\r\nGet 22\r\n```\r\n\r\n#### 样例输出\r\n```plain\r\n.\\/.\r\nabcde^_^f.\\/.ghijklmno\r\n```\n"},{"title":"数据范围与提示","format":"markdown","require":["katex"],"content":"\n对于全部的数据：\r\n\r\n- $MOVE$ 操作不超过 $50000$ 个，$INSERT$ 和 $DELETE$ 操作的总个数不超过 $4000$，$PREV$ 和 $NEXT$ 操作的总个数不超过 $200000$。\r\n- 所有 $INSERT$ 插入的字符数之和不超过 $2\\mathrm{M}$（$1\\mathrm{M}=1024\\times 1024$ 字节），正确的输出文件长度不超过 $3\\mathrm{M}$ 字节。\r\n- $DELETE$ 操作和 $GET$ 操作执行时光标后必然有足够的字符。$MOVE$、$PREV$、$NEXT$ 操作必然不会试图把光标移动到非法位置。\r\n- 输入文件没有错误。\n\n\n"}]}