{"title":"「SDOI2019」快速查询                              ","time_limit":2000,"memory_limit":256,"url":"https://guoj.icu/problem/1159","statement":[{"title":"# 题目描述","format":"markdown","require":["katex"],"content":"\n<!-- 从 Vijos 导入。 -->\r\n\r\n给定一个长度为 $n$ 的整数数列，里面的元素依次编号为 $a_1,a_2,a_3,\\cdots,a_n$。初始的时候，所有元素都为零。现在按照时间顺序提供了若干次关于这个数列的修改或询问，每一次修改或询问一定为以下六种情况之一：\r\n\r\n* $1\\ i\\ \\text{val}$：将 $a_i$ 赋值为给定整数 $\\text{val}$；\r\n* $2\\ \\text{val}$：将所有元素同时加上 $\\text{val}$；\r\n* $3\\ \\text{val}$：将所有元素同时乘上 $\\text{val}$；\r\n* $4\\ \\text{val}$：将所有元素同时赋值为 $\\text{val}$；\r\n* $5\\ i$：询问第 $i$ 个元素 $a_i$ 现在的值是多少；\r\n* $6$：询问现在所有元素的和。\n"},{"title":"# 输入格式","format":"markdown","require":["katex"],"content":"\n为了避免读入太大，输入文件采取如下的形式。\r\n\r\n第一行给定整数 $n$，表示给定数列长度为 $n$。  \r\n第二行给定整数 $q$，并且之后的 $q$ 行，每一行提供一个修改或询问，输入的格式与题目所述一致，请参见样例。  \r\n我们称上述给定的修改或询问为标准操作。  \r\n之后给定一个整数 $t$，并且之后的 $t$ 行每行给定两个正整数 $a_i$ 和 $b_i$，这里的下标 $i$ 依次记为 $1$ 到 $t$。\r\n\r\n你需要对初始值全为零的长度为 $n$ 的序列做总计 $t\\times q$ 次操作。  \r\n其中第 $\\Big((i-1)q+j\\Big)$ 次操作形如第 $\\Big((a_i + j b_i) \\bmod{q} + 1\\Big)$ 个给定的标准操作（$1\\le i\\le t$ 且 $1\\le j\\le q$）。\n"},{"title":"# 输出格式","format":"markdown","require":["katex"],"content":"\n输出一个整数，表示所有询问答案的累计和。\r\n\r\n因为答案可能很大，只要求输出其结果关于 $p=10^7+19$ 取模后的值。\r\n\r\n注意：若最终的累计和 $\\text{ans}$ 小于零，你应该输出 $\\big((\\text{ans} \\bmod{p})+p\\big)\\bmod{p})$。\n"},{"title":"# 样例","format":"markdown","require":["katex"],"content":"\n#### 样例输入\r\n\r\n```plain\r\n7\r\n28\r\n6\r\n4 -192321079\r\n3 418379342\r\n1 3 189801569\r\n3 -840249197\r\n4 -751917965\r\n3 649799919\r\n1 5 -92666141\r\n6\r\n4 451258008\r\n5 1\r\n4 696880327\r\n3 772574465\r\n6\r\n4 301010289\r\n3 480168068\r\n5 3\r\n5 2\r\n4 840536237\r\n5 5\r\n5 4\r\n1 7 -792284106\r\n2 604521872\r\n3 966540578\r\n2 -381646699\r\n3 -939378260\r\n2 -20129935\r\n6\r\n2\r\n0 1\r\n197 199\r\n```\r\n\r\n#### 样例输出\r\n\r\n```plain\r\n2816930\r\n```\n"},{"title":"# 数据范围与提示","format":"markdown","require":["katex"],"content":"\n子任务 $1$（$50$ 分）：$1\\le n\\le 500000$，$1\\le q\\le 10^5$ 且 $1\\le t\\le 5$，所有在输入中出现的 $\\text{val}$ 满足 $-10^9\\le \\text{val}\\le 10^9$，所有 $a_i$ 和 $b_i$ 满足 $0\\le a_i,b_i\\le 10^9$。\r\n\r\n子任务 $2$（$50$ 分）：$1\\le n\\le 10^9$，$1\\le q\\le 10^5$ 且 $1\\le t\\le 100$，所有在输入中出现的 $\\text{val}$ 满足$-10^9\\le \\text{val}\\le 10^9$，所有 $a_i$ 和 $b_i$ 满足 $0\\le a_i,b_i\\le 10^9$。\n\n\n"}]}