{"title":"mx的仙人掌","time_limit":5000,"memory_limit":512,"url":"http://uoj.ac/problem/87","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n<p>如果一个无向连通图的任意一条边最多属于一个简单环，我们就称之为仙人掌。所谓简单环即不经过重复的结点的环。</p>\n<p><img class=\"img-responsive center-block\" src=\"//img.uoj.ac/utility/what-is-cactus.png\" alt=\"什么是仙人掌\"/></p>\n<p>现给定一棵仙人掌，每条边有一个正整数权值，每次给 $k$ 个点（<strong>可以存在相同点</strong>），问从它们中选出两个点（<strong>可以相同</strong>），它们之间<strong>最短路的最大值</strong>是多少。</p>\n"},{"title":"输入格式","format":"html","require":["katex"],"content":"\n\n<p>第一行两个非负整数 $n, m$，表示仙人掌的点数和边数。</p>\n<p>接下来 $m$ 行，每行三个正整数 $v, u, w$ $(1 \\le v, u \\le n)$，表示 $v$ 与 $u$ 之间有一条边权为 $w$ 的无向边。点从 $1$ 开始编号。</p>\n<p>保证输入的图是一棵仙人掌，保证没有自环，但可能有重边。</p>\n<p>接下来一行一个非负整数 $Q$，表示询问个数。</p>\n<p>接下来 $Q$ 行每行第一个数是正整数 $\\mathrm{cnt}$ 表示点数，接下来 $\\mathrm{cnt}$ 个数表示给定的点。</p>\n"},{"title":"输出格式","format":"html","require":["katex"],"content":"\n\n<p>对每个询问输出一个数，表示该询问对应的最大值。</p>\n"},{"title":"样例一","format":"html","require":["katex"],"content":"\n\n<h4>input</h4>\n<pre>10 14\n10 7 1\n3 8 7\n1 6 9\n7 2 10\n8 9 9\n1 7 1\n8 5 2\n4 5 4\n1 7 4\n2 9 8\n9 3 3\n8 4 2\n1 6 5\n7 9 10\n6\n2 9 5\n2 8 10\n3 8 7 6\n2 6 4\n3 3 4 2\n1 10\n\n</pre>\n\n<h4>output</h4>\n<pre>11\n20\n25\n27\n19\n0\n\n</pre>\n\n<h4>explanation</h4>\n<p>前五个询问的答案路径分别为(如果有重边则显然走较短的边):</p>\n<p>$9 \\rightarrow 8 \\rightarrow 5$</p>\n<p>$8 \\rightarrow 9 \\rightarrow 7 \\rightarrow 10$</p>\n<p>$8 \\rightarrow 9 \\rightarrow 7 \\rightarrow 1 \\rightarrow 6$</p>\n<p>$4 \\rightarrow 8 \\rightarrow 9 \\rightarrow 7 \\rightarrow 1 \\rightarrow 6$</p>\n<p>$2 \\rightarrow 9 \\rightarrow 8 \\rightarrow 4$</p>\n<p>最后一个询问的答案显然是$0$。</p>\n"},{"title":"限制与约定","format":"html","require":["katex"],"content":"\n\n<p>边权不超过 $2 ^ {31} - 1$。</p>\n<p>$\\mathrm{tot}$ 表示询问的总点数。</p>\n<p>对于 5% 的数据，$n, \\mathrm{tot} \\le 7$。</p>\n<p>对于 10% 的数据，$n, \\mathrm{tot} \\le 5000$。</p>\n<p>对于另外 10% 的数据，$Q \\le 10$，其中存在 $Q \\le 2$ 的数据。</p>\n<p>对于另外 30% 的数据，$m = n - 1$。</p>\n<p>对于 100% 的数据，$n, \\mathrm{tot} \\le 300000$。</p>\n<p>此外为了照顾被卡常数的同学，本题存在过渡数据。</p>\n<p><strong>时间限制：</strong>$5\\texttt{s}$</p>\n<p><strong>空间限制：</strong>$512\\texttt{MB}$</p>\n"},{"title":"来源","format":"html","require":["katex"],"content":"\n\n<p>matthew99</p>\n"},{"title":"题解","format":"html","require":["katex"],"content":"\n\n<p><a href=\"https://matthew99.blog.uoj.ac/blog/241\">https://matthew99.blog.uoj.ac/blog/241</a></p>\n"},{"title":"下载","format":"html","require":["katex"],"content":"\n\n<p><a href=\"/download.php?type=problem&amp;id=87\">样例数据下载</a></p>\n\n"}]}