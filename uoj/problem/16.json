{"title":"【NOIP2014】联合权值","time_limit":1000,"memory_limit":128,"url":"http://uoj.ac/problem/16","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n<p>无向连通图 $G$ 有 $n$ 个点，$n-1$ 条边。点从 $1$ 到 $n$ 依次编号,编号为 $i$ 的点的权值为 $W_i$，每条边的长度均为 $1$。图上两点 $(u, v)$ 的距离定义为 $u$ 点到 $v$ 点的最短距离。对于图 $G$ 上的点对 $(u, v)$，若它们的距离为 $2$，则它们之间会产生$W_v \\times W_u$ 的联合权值。</p>\n<p>请问图 $G$ 上所有可产生联合权值的有序点对中，联合权值最大的是多少？所有联合权值之和是多少？</p>\n"},{"title":"输入格式","format":"html","require":["katex"],"content":"\n\n<p>第一行包含 $1$ 个整数 $n$。</p>\n<p>接下来 $n-1$ 行,每行包含 $2$ 个用空格隔开的正整数 $u,v$，表示编号为 $u$ 和编号为 $v$ 的点之间有边相连。</p>\n<p>最后 $1$ 行,包含 $n$ 个正整数，每两个正整数之间用一个空格隔开，其中第 $i$ 个整数表示图 $G$ 上编号为 $i$ 的点的权值为 $W_i$。</p>\n"},{"title":"输出格式","format":"html","require":["katex"],"content":"\n\n<p>输出共 $1$ 行,包含 $2$ 个整数，之间用一个空格隔开,依次为图 $G$ 上联合权值的最大值和所有联合权值之和。<strong>由于所有联合权值之和可能很大，输出它时要对$10007$取余</strong>。</p>\n"},{"title":"样例一","format":"html","require":["katex"],"content":"\n\n<h4>input</h4>\n<pre>5\n1 2\n2 3\n3 4\n4 5\n1 5 2 3 10\n\n</pre>\n\n<h4>output</h4>\n<pre>20 74\n\n</pre>\n\n<h4>explanation</h4>\n<p>距离为 2 的有序点对有$(1,3), (2,4), (3,1), (3,5), (4,2), (5,3)$。其联合权值分别为 $2, 15, 2, 20, 15, 20$。其中最大的是 $20$，总和为 $74$。</p>\n"},{"title":"限制与约定","format":"html","require":["katex"],"content":"\n\n<p>对于30%的数据，$1 &lt; n \\leq 100$；</p>\n<p>对于60%的数据，$1 &lt; n \\leq 2000$；</p>\n<p>对于100%的数据，$1 &lt; n \\leq 200000, 0 &lt; W_i \\leq 10000$。</p>\n<p>保证一定存在可产生联合权值的有序点对。</p>\n<p><strong>时间限制：</strong>$1\\texttt{s}$</p>\n<p><strong>内存限制：</strong>$128\\texttt{MB}$</p>\n"},{"title":"下载","format":"html","require":["katex"],"content":"\n\n<p><a href=\"/download.php?type=problem&amp;id=16\">样例数据下载</a></p>\n\n"}]}