{"title":"【集训队作业2018】小Z的礼物","time_limit":1000,"memory_limit":512,"url":"http://uoj.ac/problem/422","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n<p>小Z有一个神奇的自动售货机，里面有 $n \\times m$ 种物品，分别放在 $n$ 行 $m$ 列个格子中。每当小Z向自动售货机中投入一枚硬币，他就能获得一对相邻格子中的物品（已经获得的物品可能再次获得），获得每一对相邻格子中的物品的概率是相等的。在这 $n \\times m$ 种物品中，有一些物品是小Z喜欢的（小Z喜欢的用 * [星号] 表示，其他的用 .[英文句号] 表示），他想把这些物品包装成一份礼物。小Z想知道，期望投入多少枚硬币后，就可以获得这些他喜欢的物品。</p>\n"},{"title":"输入格式","format":"html","require":["katex"],"content":"\n\n<p>第一行两个整数 $n$ 和 $m$。</p>\n<p>接下来 $n$ 行，每行一个长度为 $m$ 的字符串，字符串中仅包含 * 和 . 两种字符。</p>\n"},{"title":"输出格式","format":"html","require":["katex"],"content":"\n\n<p>一个整数，表示在模 $998244353$ 意义下的答案。</p>\n"},{"title":"样例一","format":"html","require":["katex"],"content":"\n\n<h4>input</h4>\n<pre><code>1 3\n***</code></pre>\n<h4>output</h4>\n<pre><code>3</code></pre>\n"},{"title":"样例二","format":"html","require":["katex"],"content":"\n\n<h4>input</h4>\n<pre><code>3 3\n..*\n*.*\n.*.</code></pre>\n<h4>output</h4>\n<pre><code>404051295</code></pre>\n"},{"title":"限制和约定","format":"html","require":["katex"],"content":"\n\n<p>对于所有数据，保证 $1 \\leq n \\leq 6, 2 \\leq m \\leq 100$。</p>\n<p>本题使用捆绑测试。每个子任务有若干个测试点，分为 $5$ 个子任务，你只有通过一个子任务的所有测试点才能得到这个子任务的分数。</p>\n<p>为方便表示，设 $cnt$ 为输入中 * 的数量， $s$ 为由 * 组成的最大连通块(四连通)的大小。</p>\n<table class=\"table table-bordered table-text-center table-vertical-middle\"><thead><tr><th>子任务</th><th>分值</th><th>限制</th></tr></thead><tbody><tr><td>1</td><td>10</td><td>$cnt \\leq 6$</td></tr><tr><td>2</td><td>20</td><td>$cnt \\leq 20$</td></tr><tr><td>3</td><td>20</td><td>$s \\leq 1$</td></tr><tr><td>4</td><td>20</td><td>$s \\leq 16$</td></tr><tr><td>5</td><td>30</td><td>无特殊限制</td></tr></tbody></table><p><strong>时间限制</strong>：$1\\texttt{s}$</p>\n<p><strong>空间限制</strong>：$512\\texttt{MB}$</p>\n\n"}]}