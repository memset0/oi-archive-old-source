{"title":"新年的五维几何","time_limit":1000,"memory_limit":256,"url":"http://uoj.ac/problem/352","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n<p>在你的帮助下，SingleDog们终于进入了计算中心内部，他们惊讶的发现，计算中心的核心——AlphaGo的三台主机所在的地方，居然是一个多维空间！</p>\n<p>简单点说，核心是 $n \\leq 5$ 维空间里一个点集，位于一个 $n$ 维长方体的方框内部。方框内部由所有满足 $l_i\\le x_i \\le r_i$ 的点 $(x_1,x_2,\\cdots,x_n)$ 构成，而核心则由所有位于方框内部且满足 $x_i - x_j \\ge a_{i,j}$ 的点$(x_1, x_2 \\cdots,x_n)$ 构成，其中 $l_i,r_i,a_{i,j}$ 均为给定的整数。</p>\n<p>现在SingleDog们想知道的就是这个核心的“体积”占方框的体积的比例。</p>\n<p>为了方便理解题意，一个<strong>等价</strong>的题目描述是：</p>\n<p>设 $x_1,x_2,\\cdots,x_n$ 是 $n$ 个实数变量，其中第 $i$ 个变量 $x_i$ 在区间 $[l_i,r_i]$ 内均匀随机生成，所有 $l_i$ 和 $r_i$ 均为给定的整数且 $l_i\\le r_i$（约定 $l_i=r_i$ 时，$[l_i,r_i]$ 表示单元素集合 $\\{l_i\\}$）。</p>\n<p>给定 $n\\times n$ 的整数矩阵，矩阵的每个元素代表一个约束，其中第 $i$ 行第 $j$ 列的元素 $a_{i,j}$ 代表约束\n$$x_i-x_j\\ge a_{i,j}$$</p>\n<p>求这 $n\\times n$ 个约束同时被满足的概率。</p>\n"},{"title":"# 输入格式","format":"html","require":["katex"],"content":"\n\n<p>第一行包含一个正整数 $n$，表示实数变量个数。</p>\n<p>接下来 $n$ 行，第 $i$ 行两个整数 $l_i,r_i$，描述第 $i$ 个区间。</p>\n<p>接下来 $n$ 行，每行 $n$ 个整数，给出整数矩阵 $a_{i,j}$。</p>\n"},{"title":"# 输出格式","format":"html","require":["katex"],"content":"\n\n<p>输出一行，包含一个实数，表示所求的概率。</p>\n<p>你的答案与参考答案的绝对误差不超过 $10^{-7}$ 时被认为是正确的。</p>\n"},{"title":"# 样例一","format":"html","require":["katex"],"content":"\n\n<h4>input</h4>\n<pre>1\n0 10\n-10\n\n</pre>\n\n<h4>output</h4>\n<pre>1.000000000000\n\n</pre>\n\n<h4>explanation</h4>\n<p>无论变量 $x_1$ 的值是多少，约束 $x_1-x_1\\ge-10$ 恒成立，故满足约束的概率为 $1$。</p>\n"},{"title":"# 样例二","format":"html","require":["katex"],"content":"\n\n<h4>input</h4>\n<pre>2\n5 5\n3 7\n0 1\n-3 0\n\n</pre>\n\n<h4>output</h4>\n<pre>0.2500000000\n\n</pre>\n\n<h4>explanation</h4>\n<p>$x_1=5$，$3\\le x_2\\le 7$。仅当 $3\\le x_2\\le 4$ 时才能同时满足所有约束，故满足所有约束的概率为 ${1\\over 4}=0.25$。</p>\n"},{"title":"# 样例三","format":"html","require":["katex"],"content":"\n\n<h4>input</h4>\n<pre>2\n4 5\n3 6\n-10 2\n-10 -10\n\n</pre>\n\n<h4>output</h4>\n<pre>0.0000000000\n\n</pre>\n\n<h4>explanation</h4>\n<p>满足 $4\\le x_1\\le 5$，$3\\le x_2\\le 6$ 的 $x_1,x_2$ 有无穷多个，但只有一组值 $x_1=5,x_2=3$ 是满足约束的，故满足约束的概率为 $0$。</p>\n"},{"title":"# 样例四","format":"html","require":["katex"],"content":"\n\n<h4>input</h4>\n<pre>2\n3 10\n0 8\n-1 1\n-7 0\n\n</pre>\n\n<h4>output</h4>\n<pre>0.5982142857\n\n</pre>\n\n<h4>explanation</h4>\n<p>满足约束的概率为 ${67\\over 112}$。你输出的答案应当在 $[{67\\over 112}-10^{-7},{67\\over 112}+10^{-7}]$ 范围内。</p>\n"},{"title":"# 样例五","format":"html","require":["katex"],"content":"\n\n<h4>input</h4>\n<pre>3\n0 10\n2 10\n2 9\n0 -9 -10\n4 0 -3\n1 -4 0\n\n</pre>\n\n<h4>output</h4>\n<pre>0.1491071429\n\n</pre>\n\n"},{"title":"# 样例六","format":"html","require":["katex"],"content":"\n\n<h4>input</h4>\n<pre>4\n0 5\n0 9\n4 10\n0 5\n0 -8 -9 -5\n1 0 -4 3\n1 -6 0 3\n-4 -10 -10 0\n\n</pre>\n\n<h4>output</h4>\n<pre>0.2622839506\n\n</pre>\n\n"},{"title":"# 样例七","format":"html","require":["katex"],"content":"\n\n<h4>input</h4>\n<pre>5\n0 10\n0 10\n4 4\n0 9\n0 7\n-10 -9 -10 -10 -10\n-10 -10 2 -10 -10\n-10 -10 -10 1 -10\n-10 -10 -10 -10 -5\n-10 -10 -10 -10 -10\n\n</pre>\n\n<h4>output</h4>\n<pre>0.1191269841\n\n</pre>\n\n"},{"title":"# 样例八","format":"html","require":["katex"],"content":"\n\n<h4>input</h4>\n<pre>5\n0 2\n1 8\n7 10\n2 7\n6 10\n0 -10 -10 -9 -10\n-10 0 -7 -4 -8\n3 3 0 1 -6\n3 -6 -5 0 -5\n-2 3 -9 1 0\n\n</pre>\n\n<h4>output</h4>\n<pre>0.1713095238\n\n</pre>\n\n"},{"title":"# 限制与约定","format":"html","require":["katex"],"content":"\n\n<p>由于一些原因，本题使用捆绑测试。每个子任务有若干个测试点，分为 8 个子任务，你只有通过一个子任务的所有测试点才能得到这个子任务的分数。</p>\n<div class=\"table-responsive\">\n <table class=\"table table-bordered table-text-center table-vertical-middle\"><thead><tr><th>子任务</th>\n    <th>分值</th>\n    <th>$n$</th>\n    <th>其它限制</th>\n   </tr></thead><tbody><tr><td>1</td>\n    <td>5</td>\n    <td>$=1$</td>\n    <td>无</td>\n   </tr><tr><td>2</td>\n    <td>10</td>\n    <td rowspan=\"3\">$=2$</td>\n    <td>$l_1=r_1$</td>\n   </tr><tr><td>3</td>\n    <td>20</td>\n    <td>若 $j\\ne i+1$，则 $a_{i,j}=-10$</td>\n   </tr><tr><td>4</td>\n    <td>15</td>\n    <td rowspan=\"3\">无</td>\n   </tr><tr><td>5</td>\n    <td>10</td>\n    <td>$=3$</td>\n   </tr><tr><td>6</td>\n    <td>10</td>\n    <td>$=4$</td>\n   </tr><tr><td>7</td>\n    <td>20</td>\n    <td rowspan=\"2\">$=5$</td>\n    <td>若 $j\\ne i+1$，则 $a_{i,j}=-10$</td>\n   </tr><tr><td>8</td>\n    <td>10</td>\n    <td>无</td>\n   </tr></tbody></table></div>\n\n<p>对于所有数据，$1\\le n\\le 5$，$0\\le l_i\\le r_i\\le 10$，$-10\\le a_{i,j}\\le 10$。</p>\n<p><strong>时间限制：</strong>$1\\texttt{s}$</p>\n<p><strong>空间限制：</strong>$256\\texttt{MB}$</p>\n"},{"title":"# 下载","format":"html","require":["katex"],"content":"\n\n<p><a href=\"/download.php?type=problem&amp;id=352\">样例数据下载</a></p>\n\n"}]}