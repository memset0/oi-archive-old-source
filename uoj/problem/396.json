{"title":"【NOI2018】屠龙勇士","time_limit":2000,"memory_limit":512,"url":"http://uoj.ac/problem/396","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n<p>小 D 最近在网上发现了一款小游戏。游戏的规则如下：</p>\n<ul><li>游戏的目标是按照编号 $1 \\sim n$ 顺序杀掉 $n$ 条巨龙，每条巨龙拥有一个初始的生命值 $a_i$ 。同时每条巨龙拥有恢复能力，当其使用恢复能力时，它的生命值就会每次增加 $p_i$，直至生命值非负。只有在<strong><em>攻击结束后</em></strong>且当生命值<strong><em>恰好</em></strong>为 $0$ 时它才会死去。</li>\n<li>游戏开始时玩家拥有 $m$ 把攻击力已知的剑，每次面对巨龙时，玩家只能选择一把剑，当杀死巨龙后这把剑就会消失，但作为奖励，玩家会获得全新的一把剑。</li>\n</ul><p>小 D 觉得这款游戏十分无聊，但最快通关的玩家可以获得 ION2018 的参赛资格， 于是小 D 决定写一个笨笨的机器人帮她通关这款游戏，她写的机器人遵循以下规则：</p>\n<ul><li>每次面对巨龙时，机器人会选择当前拥有的，攻击力不高于巨龙初始生命值中<strong><em>攻击力最大</em></strong>的一把剑作为武器。如果没有这样的剑，则选择<strong><em>攻击力最低</em></strong>的一把剑作为武器。</li>\n<li>机器人面对每条巨龙，它都会使用上一步中选择的剑攻击巨龙<strong><em>固定的</em></strong> $x$ 次，使巨龙的生命值减少 $x \\times ATK$。</li>\n<li>之后，巨龙会不断使用恢复能力，每次恢复 $p_i$ 生命值。若在使用恢复能力前或某一次恢复后其生命值为 $0$，则巨龙死亡，玩家通过本关。</li>\n</ul><p>那么显然机器人的<strong><em>攻击次数</em></strong>是决定能否最快通关这款游戏的关键。小 D 现在得知了每条巨龙的所有属性，她想考考你，你知道应该将机器人的攻击次数 $x$ 设置为多少，才能用最少的攻击次数通关游戏吗？</p>\n<p>当然如果无论设置成多少都无法通关游戏，输出 $-1$ 即可。</p>\n"},{"title":"# 输入格式","format":"html","require":["katex"],"content":"\n\n<p>从标准输入读入数据。</p>\n<p>第一行一个整数 $T$，代表数据组数。</p>\n<p>接下来 $T$ 组数据，每组数据包含 $5$ 行。</p>\n<ul><li>每组数据的第一行包含两个整数，$n$ 和 $m$，代表巨龙的数量和初始剑的数量；</li>\n<li>接下来一行包含 $n$ 个正整数，第 $i$ 个数表示第 $i$ 条巨龙的初始生命值 $a_i$；</li>\n<li>接下来一行包含 $n$ 个正整数，第 $i$ 个数表示第 $i$ 条巨龙的恢复能力 $p_i$；</li>\n<li>接下来一行包含 $n$ 个正整数，第 $i$ 个数表示杀死第 $i$ 条巨龙后奖励的剑的攻击力；</li>\n<li>接下来一行包含 $m$ 个正整数，表示初始拥有的 $m$ 把剑的攻击力。</li>\n</ul>"},{"title":"# 输出格式","format":"html","require":["katex"],"content":"\n\n<p>输出到标准输出中。</p>\n<p>一共 $T$ 行。</p>\n<p>第 $i$ 行一个整数，表示对于第 $i$ 组数据，能够使得机器人通关游戏的最小攻击次数 $x$，如果答案不存在，输出 $-1$。</p>\n"},{"title":"# 样例一","format":"html","require":["katex"],"content":"\n\n<h4>input</h4>\n<pre>2\n3 3\n3 5 7\n4 6 10\n7 3 9\n1 9 1000\n3 2\n3 5 6\n4 8 7\n1 1 1\n1 1\n\n</pre>\n\n<h4>output</h4>\n<pre>59\n-1\n\n</pre>\n\n<h4>explanation</h4>\n<p>第一组数据：</p>\n<ul><li>开始时拥有的剑的攻击力为 $\\{1,9,1000\\}$，第 $1$ 条龙生命值为 $3$，故选择攻击力为 $1$ 的剑，攻击 $59$ 次，造成 $59$ 点伤害，此时龙的生命值为 $-56$，恢复 $14$ 次后生命值恰好为 $0$，死亡。</li>\n<li>攻击力为 $1$ 的剑消失，拾取一把攻击力为 $7$ 的剑，此时拥有的剑的攻击力为 $\\{7,9,1000\\}$，第 $2$ 条龙生命值为 $5$，故选择攻击力为 $7$ 的剑，攻击 $59$ 次，造成 $413$ 点伤害，此时龙的生命值为 $-408$，恢复 $68$ 次后生命值恰好为 $0$，死亡。</li>\n<li>此时拥有的剑的攻击力为 $\\{3,9,1000\\}$，第 $3$ 条龙生命值为 $7$，故选择攻击力为 $3$ 的剑，攻击 $59$ 次，造成 $177$ 点伤害，此时龙的生命值为 $-170$，恢复 $17$ 次后生命值恰好为 $0$，死亡。</li>\n<li>没有比 $59$ 次更少的通关方法，故答案为 $59$。</li>\n</ul><p>第二组数据：</p>\n<ul><li>不存在既能杀死第一条龙又能杀死第二条龙的方法，故无法通关，输出 $-1$。</li>\n</ul>"},{"title":"# 样例二","format":"html","require":["katex"],"content":"\n\n<p>见下载文件中的 <code>ex_dragon2.in</code> 与 <code>ex_dragon2.ans</code>。</p>\n"},{"title":"# 限制与约定","format":"html","require":["katex"],"content":"\n\n<table class=\"table table-bordered table-text-center table-vertical-middle\"><thead><tr><th>测试点编号</th><th>$n$</th><th>$m$</th><th>$p_i$</th><th>$a_i$</th><th>攻击力</th><th>其他限制</th></tr></thead><tbody><tr><td>1</td><td>$\\le 10^5$</td><td>$=1$</td><td>$=1$</td><td>$\\le 10^5$</td><td>$=1$</td><td>无</td></tr><tr><td>2</td><td>$\\le 10^5$</td><td>$=1$</td><td>$=1$</td><td>$\\le 10^5$</td><td>$=1$</td><td>无</td></tr><tr><td>3</td><td>$\\le 10^5$</td><td>$=1$</td><td>$=1$</td><td>$\\le 10^5$</td><td>$\\le 10^5$</td><td>无</td></tr><tr><td>4</td><td>$\\le 10^5$</td><td>$=1$</td><td>$=1$</td><td>$\\le 10^5$</td><td>$\\le 10^5$</td><td>无</td></tr><tr><td>5</td><td>$\\le 10^3$</td><td>$\\le 10^3$</td><td>$\\le 10^5$</td><td>$\\le 10^5$</td><td>$\\le 10^5$</td><td>特性 1、特性 2</td></tr><tr><td>6</td><td>$\\le 10^3$</td><td>$\\le 10^3$</td><td>$\\le 10^5$</td><td>$\\le 10^5$</td><td>$\\le 10^5$</td><td>特性 1、特性 2</td></tr><tr><td>7</td><td>$\\le 10^3$</td><td>$\\le 10^3$</td><td>$\\le 10^5$</td><td>$\\le 10^5$</td><td>$\\le 10^5$</td><td>特性 1、特性 2</td></tr><tr><td>8</td><td>$=1$</td><td>$=1$</td><td>$\\le 10^8$</td><td>$\\le 10^8$</td><td>$\\le 10^6$</td><td>特性 1</td></tr><tr><td>9</td><td>$=1$</td><td>$=1$</td><td>$\\le 10^8$</td><td>$\\le 10^8$</td><td>$\\le 10^6$</td><td>特性 1</td></tr><tr><td>10</td><td>$=1$</td><td>$=1$</td><td>$\\le 10^8$</td><td>$\\le 10^8$</td><td>$\\le 10^6$</td><td>特性 1</td></tr><tr><td>11</td><td>$=1$</td><td>$=1$</td><td>$\\le 10^8$</td><td>$\\le 10^8$</td><td>$\\le 10^6$</td><td>特性 1</td></tr><tr><td>12</td><td>$=1$</td><td>$=1$</td><td>$\\le 10^8$</td><td>$\\le 10^8$</td><td>$\\le 10^6$</td><td>特性 1</td></tr><tr><td>13</td><td>$=1$</td><td>$=1$</td><td>$\\le 10^8$</td><td>$\\le 10^8$</td><td>$\\le 10^6$</td><td>特性 1</td></tr><tr><td>14</td><td>$=10^5$</td><td>$=10^5$</td><td>$=1$</td><td>$\\le 10^8$</td><td>$\\le 10^6$</td><td>无特殊限制</td></tr><tr><td>15</td><td>$=10^5$</td><td>$=10^5$</td><td>$=1$</td><td>$\\le 10^8$</td><td>$\\le 10^6$</td><td>无特殊限制</td></tr><tr><td>16</td><td>$\\le 10^5$</td><td>$\\le 10^5$</td><td>所有 $p_i$ 是质数</td><td>$\\le 10^{12}$</td><td>$\\le 10^6$</td><td>特性 1</td></tr><tr><td>17</td><td>$\\le 10^5$</td><td>$\\le 10^5$</td><td>所有 $p_i$ 是质数</td><td>$\\le 10^{12}$</td><td>$\\le 10^6$</td><td>特性 1</td></tr><tr><td>18</td><td>$\\le 10^5$</td><td>$\\le 10^5$</td><td>无特殊限制</td><td>$\\le 10^{12}$</td><td>$\\le 10^6$</td><td>特性 1</td></tr><tr><td>19</td><td>$\\le 10^5$</td><td>$\\le 10^5$</td><td>无特殊限制</td><td>$\\le 10^{12}$</td><td>$\\le 10^6$</td><td>特性 1</td></tr><tr><td>20</td><td>$\\le 10^5$</td><td>$\\le 10^5$</td><td>无特殊限制</td><td>$\\le 10^{12}$</td><td>$\\le 10^6$</td><td>特性 1</td></tr></tbody></table><p>特性 1 是指：对于任意的 $i$，$a_i \\le p_i$。</p>\n<p>特性 2 是指：$\\operatorname{lcm}(p_i) \\le 10^6$，即所有 $p_i$ 的最小公倍数不大于 $10^6$。</p>\n<p>对于所有的测试点，$T \\le 5$，所有武器的攻击力 $\\le 10^6$，所有 $p_i$ 的<strong><em>最小公倍数</em></strong> $\\le 10^{12}$。</p>\n<p>保证 $ T, n, m $ 均为正整数。</p>\n"},{"title":"# 提示","format":"html","require":["katex"],"content":"\n\n<p>你所用到的中间结果可能很大，注意保存中间结果的变量类型。</p>\n<p><strong>时间限制</strong>：$2\\texttt{s}$</p>\n<p><strong>空间限制</strong>：$512\\texttt{MB}$</p>\n"},{"title":"# 下载","format":"html","require":["katex"],"content":"\n\n<p><a href=\"/download.php?type=problem&amp;id=396\">样例数据下载</a></p>\n\n"}]}