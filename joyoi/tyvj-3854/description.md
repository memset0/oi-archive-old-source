# 

 
 # 题目描述 
<p>定义一个&ldquo;自动识别机&rdquo;为一个n个点m条有向边（权值为0或者1的）的图，编号从1开始。该图中有一个特殊的点s，被称为起点。有一群特殊的点t1,t2,&hellip;,tm，被称为终点。任意一条从起点s到终点ti的路径(可以经过重复的点，边)，将所经过的边的边权按顺序写下来，可以得到一个01字符串，我们称这个字符串可以被该图识别。【该字符串可以是空串】</p>

<p>若任意能被自动机A识别的字符串也能被自动机B识别，且任意能被自动机B识别的字符串也能被A识别，则我们称两个自动机等价。</p>

<p>现在给定两个自动识别机，询问他们所能识别的字符串集合是否相等。</p> 

 
 # 输入格式 
<p>输入包含多组数据，读到文件结束为止。</p>

<p>每组数据格式如下：</p>

<p>第一行n1,m1,T1,S1表示自动机A的点数、边数、终点集合大小，起点编号</p>

<p>接下来m1行，每行为x,y,z，表示A从点x到点y，有一条权值为z的有向边</p>

<p>接下来一行T1个整数，表示A的终点集合的编号</p>

<p>第一行n2,m2,T2,S2表示自动机B的点数、边数、终点集合大小，起点编号</p>

<p>接下来m2行，每行为x,y,z，表示B从点x到点y，有一条权值为z的有向边</p>

<p>接下来一行T2个整数，表示B的终点集合的编号</p>

<p><em><strong>数据保证：从任意点x出发的边的权值互不相同。可能有重边，自环。</strong></em></p> 

 
 # 输出格式 
<p>对应每组输入数据，输出一行：Yes或者No</p>

<p>Yes表示A与B等价，No表示A与B不等价。</p> 

 
 # 提示 
<p>对于30%的数据，保证自动机的点数小于等于5，并且无环</p>

<p>对于70%的数据，保证自动机的点数小于等于100</p>

<p>对于100%的数据，保证自动及的点数小于等于1000</p>

<p>保证数据组数小于等于10</p> 
# 样例数据
<style>
        table,table tr th, table tr td { border:1px solid #0094ff; }
        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   
    </style>
<table>
	<tr>
		<td>输入样例</td>
		<td>输出样例</td>
	</tr>
<tr><td>3 6 2 1
1 3 0
1 3 1
2 1 0
2 3 1
3 2 0
3 3 1
3 2
6 12 4 6
6 1 0
6 4 1
5 2 0
5 4 1
3 5 0
3 4 1
2 5 0
2 1 1
4 2 0
4 4 1
1 3 0
1 1 1
1 4 2 3
3 6 2 1
1 1 0
1 2 1
2 1 0
2 2 1
3 2 0
3 2 1
3 2
6 12 4 2
2 6 0
2 1 1
6 2 0
6 1 1
1 2 0
1 5 1
5 6 0
5 5 1
4 1 0
4 5 1
3 1 0
3 1 1
3 4 5 1</td><td>No
Yes</td></tr><tr><td>3 2 1 1
1 2 0
2 3 0
3
3 2 1 1
1 3 0
3 2 0
2
4 4 1 1
1 2 0
2 3 0
1 4 1
4 3 0
3
4 3 1 1
1 2 0
1 2 1
2 3 0
3</td><td>Yes
Yes</td></tr></table>
