{"title":"Hide 捉迷藏","time_limit":4000,"memory_limit":161,"url":"http://www.joyoi.cn/problem/tyvj-3526","statement":[{"title":"","format":"markdown","require":["katex"],"content":"\n# \n\n \n # 题目描述 \n<p>\n捉迷藏\r<br>Jiajia和Wind是一对恩爱的夫妻，并且他们有很多孩子。某天，Jiajia、Wind和孩子们决定在家里玩捉迷藏游戏。他们的家很大且构造很奇特，由N个屋子和N-1条双向走廊组成，这N-1条走廊的分布使得任意两个屋子都互相可达。\r<br>游戏是这样进行的，孩子们负责躲藏，Jiajia负责找，而Wind负责操纵这N个屋子的灯。在起初的时候，所有的灯都没有被打开。每一次，孩子们只会躲藏在没有开灯的房间中，但是为了增加刺激性，孩子们会要求打开某个房间的电灯或者关闭某个房间的电灯。为了评估某一次游戏的复杂性，Jiajia希望知道可能的最远的两个孩子的距离（即最远的两个关灯房间的距离）。\r<br>\r<br> \t         我们将以如下形式定义每一种操作：\r<br>\r<br>C(hange) i\t改变第i个房间的照明状态，若原来打开，则关闭；若原来关闭，则打开。\r<br>G(ame)     \t开始一次游戏，查询最远的两个关灯房间的距离。\r<br></p> \n\n \n # 输入格式 \n<p>\n第一行包含一个整数N，表示房间的个数，房间将被编号为1,2,3…N的整数。接下来N-1行每行两个整数a, b，表示房间a与房间b之间有一条走廊相连。接下来一行包含一个整数Q，表示操作次数。接着Q行，每行一个操作，如上文所示。\r<br></p> \n\n \n # 输出格式 \n<p>\n对于每一个操作Game，输出一个非负整数到hide.out，表示最远的两个关灯房间的距离。若只有一个房间是关着灯的，输出0；若所有房间的灯都开着，输出-1。\r<br></p> \n\n \n # 提示 \n<p>\n对于20%的数据，\tN ≤50, M ≤100；\r<br>对于60%的数据，\tN ≤3000, M ≤10000；\r<br>对于100%的数据，\tN ≤100000, M ≤500000。\r<br></p> "},{"title":"# 样例数据","format":"markdown","require":["katex"],"content":"<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>输入样例</td>\n\t\t<td>输出样例</td>\n\t</tr>\n<tr><td>8\r\n1 2\r\n2 3\r\n3 4\r\n3 5\r\n3 6\r\n6 7\r\n6 8\r\n7\r\nG\r\nC 1\r\nG\r\nC 2\r\nG\r\nC 1\r\nG\r\n</td><td>4\r\n3\r\n3\r\n4\r</td></tr></table>\n\n"}]}