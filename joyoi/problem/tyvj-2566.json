{"title":"Milk Team Select","time_limit":1000,"memory_limit":64,"url":"http://www.joyoi.cn/problem/tyvj-2566","statement":[{"title":"","format":"markdown","require":["katex"],"content":"\n# \n\n \n # 题目描述 \n<p>\nFarmer John's N (1 <= N <= 500) cows are trying to select the\r<br>milking team for the world-famous Multistate Milking Match-up (MMM)\r<br>competition. As you probably know, any team that produces at least\r<br>X (1 <= X <= 1,000,000) gallons of milk is a winner.\r<br>\r<br>Each cow has the potential of contributing between -10,000 and\r<br>10,000 gallons of milk. (Sadly, some cows have a tendency to knock\r<br>over jugs containing milk produced by other cows.)\r<br>\r<br>The MMM prides itself on promoting family values. FJ's cows have\r<br>no doubt that they can produce X gallons of milk and win the contest,\r<br>but to support the contest's spirit, they want to send a team with\r<br>as many parent-child relationships as possible (while still producing\r<br>at least X gallons of milk). Not surprisingly, all the cows on FJ's\r<br>farm are female.\r<br>\r<br>Given the family tree of FJ's cows and the amount of milk that each\r<br>would contribute, compute the maximum number of parent-child\r<br>relationships that can exist in a winning team. Note that a set of\r<br>cows with a grandmother-mother-daughter combination has two\r<br>parent-child relationships (grandmother-mother, mother-daughter).\r<br></p> \n\n \n # 输入格式 \n<p>\n* Line 1: Two space-separated integers, N and X.\r<br>\r<br>* Lines 2..N+1: Line i+1 contains two space-separated integers\r<br>        describing cow i. The first integer is the number of gallons\r<br>        of milk cow i would contribute. The second integer (range\r<br>        1..N) is the index of the cow's mother. If the cow's mother is\r<br>        unknown, the second number is 0. The family information has no\r<br>        cycles: no cow is her own mother, grandmother, etc.\r<br>\r<br>\r<br>N头牛,要选出一些来使其产奶量大于等于X.\r<br>问最多可选出几对父子关系出来.\r<br>如果选出来的集合中有爷爷点,父亲点,儿子点，则交有两对父子关系.</p> \n\n \n # 输出格式 \n<p>\n* Line 1: The maximum number of parent-child relationships possible on\r<br>        a winning team. Print -1 if no team can win.\r<br></p> "},{"title":"# 样例数据","format":"markdown","require":["katex"],"content":"<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>输入样例</td>\n\t\t<td>输出样例</td>\n\t</tr>\n<tr><td>5 8\r\n-1 0   //第一个数字代表这头奶的产量,第二个数字代表其父亲点是哪一个.\r\n3 1\r\n5 1\r\n-3 3\r\n2 0\r\n\r\nINPUT DETAILS:\r\n\r\nThere are 5 cows. Cow 1 can produce -1 gallons and has two daughters, cow\r\n2 and 3, who can produce 3 and 5 gallons, respectively. Cow 3 has a\r\ndaughter (cow 4) who can produce -3 gallons. Then there's cow 5, who can\r\nproduce 2 gallons.\r\n\r\n</td><td>2\r\n\r\nOUTPUT DETAILS:\r\n\r\nThe best team consists of cows 1, 2, 3, and 5. Together they produce\r\n(-1)+3+5+2 = 9 >= 8 gallons and have 2 parent-child relationships\r\n(1--2 and 1--3). Note that a team with cows 2, 3, and 5 would be\r\nable to produce more milk (10 gallons), but would have fewer\r\nparent-child relationships (0).</td></tr></table>\n\n"}]}