{"title":"疏散演习","time_limit":1000,"memory_limit":256,"url":"http://www.joyoi.cn/problem/tyvj-3948","statement":[{"title":"","format":"markdown","require":["katex"],"content":"\n# \n\n \n # 题目背景 \n<p>THU是一所历史悠久的名校，这里萦绕了太多人难以忘怀的记忆。wyx记得，在一次地震疏散演习中，同学们从教室出发，到达不同的路口，最后聚集在操场。对此，小A认为所有人都到达操场会使得场地变得拥挤，他想请你来解决下面的问题。</p> \n\n \n # 题目描述 \n<p>我们设学校中共有<em>n</em>个区域，不同的区域之间由<em>n</em>&nbsp;&ndash;&nbsp;1条无向边连接，构成一棵无根树，其中第<em>i</em>个区域有<em>a<sub>i</sub></em>个人。在一次演习中，第<em>x</em>个区域和第<em>y</em>个区域将被作为<strong><u>聚集点</u></strong>。定义第<em>i</em>个区域到第<em>j</em>个区域的距离为D(i,j)，这个值表示从第<em>i</em>个区域到第<em>j</em>个区域所经过的最少边数。定义C(i,j)表示将区域<em>i</em>的人全部转移到区域<em>j</em>所需要的<strong><u>转移代价</u></strong>，C(i,j)&nbsp;=&nbsp;<i>a<sub><font size=\"2\">i</font></sub></i>&nbsp;*&nbsp;D(i,j)。定义<strong><u>总转移代价</u></strong>&nbsp;T=&sum;(1~n)&nbsp;min{C(i,x),&nbsp;C(i,y)}。小A想请你来决定<em>x</em>和<em>y</em>的值，使得<em>T&nbsp;</em>的值最小。</p> \n\n \n # 输入格式 \n<p>第一行包括一个正整数<em>n</em>表示区域数。</p>\r\n\r\n<p>接下来<em>n</em>&nbsp;&ndash;&nbsp;1行每行两个正整数<em>u</em>和<em>v</em>，表示区域<em>u</em>和区域<em>v</em>之间有一条无向边连接。</p>\r\n\r\n<p>接下来一行包含<em>n</em>个正整数，第<em>i</em>个正整数为<em>a<sub>i</sub></em>，表示第<em>i</em>个区域的人数。</p> \n\n \n # 输出格式 \n<p>只有一个整数，表示<em>T&nbsp;</em>的最小值。</p> \n\n \n # 提示 \n<p>【数据规模与约定】</p>\r\n\r\n<p>所有测试点的数据规模如下：</p>\r\n\r\n<table align=\"center\" border=\"1\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 290px;\" width=\"435\">\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">测试点编号</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>的规模</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">1</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;2</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">2</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;3</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">3</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;50</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">4</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;100</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">5</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;300</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">6</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;500</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">7</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;800</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">8</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;1,000</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">9</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;3,000</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">10</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;5,000</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">11</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;8,000</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">12</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;10,000</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">13</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;15,000</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">14</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;20,000</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">15</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;25,000</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">16</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;30,000</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">17</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;35,000</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">18</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;40,000</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">19</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;45,000</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\">20</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 145px;\">\r\n\t\t\t<p align=\"center\"><em>n</em>&nbsp;=&nbsp;50,000</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<div style=\"clear: both;\">&nbsp;</div>\r\n\r\n<p>对于全部测试数据满足1&nbsp;&le;&nbsp;<em>a<sub>i</sub></em>&nbsp;&le;&nbsp;1,000。</p>\r\n\r\n<p>【关于数据中无根树的生成方式】</p>\r\n\r\n<p>首先随机生成一个1到<em>n</em>的排列<em>x<sub>i</sub></em>。对于第<em>i</em>条边，令这条边的某一个端点为<em>i</em>&nbsp;+&nbsp;1，另一个端点为取值在1到<em>i</em>之间的某个随机数，我们设此时这条边的两个端点分别为<em>p</em>和<em>q</em>，接下来执行<em>p</em>&nbsp;&larr;&nbsp;<em>x<sub>p</sub></em>，<em>q</em>&nbsp;&larr;&nbsp;<em>x<sub>q</sub></em>。最后将这<em>n</em>&nbsp;&ndash;&nbsp;1条边打乱输出至输入文件中。</p> "},{"title":"# 样例数据","format":"markdown","require":["katex"],"content":"<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>输入样例</td>\n\t\t<td>输出样例</td>\n\t</tr>\n<tr><td>5\r\n1 2\r\n1 3\r\n3 4\r\n3 5\r\n5 7 6 5 4\r\n</td><td>14\r\n</td></tr><tr><td>28\r\n1 2\r\n1 4\r\n1 6\r\n1 11\r\n1 20\r\n1 26\r\n2 3\r\n2 21\r\n3 8\r\n3 15\r\n4 5\r\n4 13\r\n4 16\r\n5 9\r\n6 7\r\n6 10\r\n6 18\r\n7 17\r\n9 12\r\n10 27\r\n11 14\r\n11 22\r\n14 24\r\n18 19\r\n20 25\r\n22 23\r\n23 28\r\n502 712 636 657 292 518 612 471 858 420 254 579 560 187 235 321 938 329 955 191 137 454 606 465 984 848 467 277\r\n</td><td>26850\r\n</td></tr></table>\n\n"}]}