{"title":"地震啦","time_limit":1000,"memory_limit":128,"url":"http://www.joyoi.cn/problem/tyvj-1997","statement":[{"title":"","format":"markdown","require":["katex"],"content":"\n# \n\n \n # 题目描述 \n&nbsp;&nbsp;&nbsp;&nbsp;LYQ最近没事开始回望人生的岁月,突然他又想到了他的小学生活,于是他出了一道弱智题.<br>&nbsp;&nbsp;&nbsp;&nbsp;LYQ的小学是一个教师职工关系复杂的屌丝专用小学,这个小学有n个人,两个人之间有可能有直接上下级关系,相对应的,如果a是b的上级,b是c的上级,那么a就是c的上级.但是如果a是b的上级,a又是c的上级,则b和c的关系是不一定确定的.为了简化这个问题,我们用1~n的编号来称呼每一个人.输入x&nbsp;y代表x是y的直接上级.显然所有人的最高上级都是校长,校长没有上级,学生也不会有下属.在某些平行世界中(具体为数据8~20),由于某些人不愿意让自己的权利白费,所以除学生外,每个人的直接下属个数的平均数严格大于2.<br>&nbsp;&nbsp;&nbsp;&nbsp;突然有一天我靠地震了,由于是纯种屌丝小学豆腐渣工程,大楼很快就要塌了!大家都准备逃命.这时和善的校领导跑出来了!说大家千万不要慌,排成一列有序出楼,让领导先走!然后校长第一个冲了出去.同学们都被校长身先士卒的精神感动得痛哭流涕.<br>&nbsp;&nbsp;&nbsp;&nbsp;LYQ想知道,如果按照让领导先走的原则,也就是每个人不能在自己上级离开前离开,到底有多少种出楼的顺序呢?LYQ肯定不知道,于是他找到了会编程的聪明的你来解决.由于顺序太多了,你只要告诉LYQ这个个数MOD一个质数P的结果就可以了.<br> \n\n \n # 输入格式 \n一行,两个整数n<br>\t接下来n-1行,每行两个正整数x&nbsp;y,表示x是y的直接上级.<br> \n\n \n # 输出格式 \n一个整数ans,表明出楼顺序个数MOD&nbsp;P的结果.<br> "},{"title":"# 样例数据","format":"markdown","require":["katex"],"content":"<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>输入样例</td>\n\t\t<td>输出样例</td>\n\t</tr>\n<tr><td>样例1\n4 100000007\n1 2\n1 3\n2 4\n\n样例2\n6 100000007\n1 2\n2 3\n1 4\n3 5\n5 6\n\n</td><td>样例1\n3\n\n样例2\n5\n\n</td></tr></table>\n\n"}]}