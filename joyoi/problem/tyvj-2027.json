{"title":"复杂的按钮","time_limit":1000,"memory_limit":128,"url":"http://www.joyoi.cn/problem/tyvj-2027","statement":[{"title":"","format":"markdown","require":["katex"],"content":"\n# \n\n \n # 题目描述 \n&nbsp;&nbsp;&nbsp;&nbsp;小k在遗迹探险时遇到了n个按钮，刚开始所有按钮都处于开状态，小k的经验告诉他把所有按钮都关上会有“好事”发生，可是有些按钮按下时会让其他一些已经闭合的按钮弹开。经过研究，每个按钮都对应着一个固定的弹开集合，这个按钮按下时，弹开集合中所有的按钮都会变为开状态。现在小k想知道是否能让所有的按钮变为闭状态。如果能，打印最少步数以及方案。否则，打“no&nbsp;solution\"。<br> \n\n \n # 输入格式 \n&nbsp;&nbsp;&nbsp;&nbsp;第一行一个整数n，表示n个按钮<br>&nbsp;&nbsp;&nbsp;&nbsp;接下来n行，表示编号为l到n个按钮&nbsp;的弹开集合<br>&nbsp;&nbsp;&nbsp;&nbsp;格式为mi，B1B2&nbsp;B3…Bmi。<br>&nbsp;&nbsp;&nbsp;&nbsp;表示编号为i的按钮按下，会让编号为B1B2&nbsp;B3…Bmi&nbsp;的按钮弹开(注：其中不会出现重&nbsp;&nbsp;复)<br><br> \n\n \n # 输出格式 \n&nbsp;&nbsp;&nbsp;&nbsp;如果无解，输出\"no&nbsp;solution\"．<br>&nbsp;&nbsp;&nbsp;&nbsp;否则，第一行输出最少步数ans，第二行输出用空格分开的ans个数，表示按顺序按下<br>编号为这些数的按钮就可以解决。<br>&nbsp;&nbsp;&nbsp;&nbsp;如果有多种方案，输出字典序最小的方案。<br> \n\n \n # 提示 \n&nbsp;&nbsp;&nbsp;&nbsp;l≤n≤30000<br>&nbsp;&nbsp;&nbsp;&nbsp;令M=m1+m2+…+mn<br>&nbsp;&nbsp;&nbsp;&nbsp;0≤M≤1000000<br><br><br> "},{"title":"# 样例数据","format":"markdown","require":["katex"],"content":"<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>输入样例</td>\n\t\t<td>输出样例</td>\n\t</tr>\n<tr><td>6\n2 2 3\n0\n2 4 5\n0\n0\n0\n\n</td><td>6\nl 2 3 4 5 6\n\n\n</td></tr></table>\n\n"}]}