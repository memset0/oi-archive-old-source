{"title":"盒子与球","time_limit":1000,"memory_limit":64,"url":"http://www.joyoi.cn/problem/tyvj-3089","statement":[{"title":"","format":"markdown","require":["katex"],"content":"\n# \n\n \n # 题目描述 \n<p>\n　　现有r个互不相同的盒子和n个互不相同的球，要将这n个球放入r个盒子中，且不允许有空盒子。问有多少种方法？\r<br>　　例如：有2个不同的盒子（分别编为1号和2号）和3个不同的球（分别编为1、2、3号），则有6种不同的方法：\r<br>1号盒子　1号球　　　　1、2号球　　　1、3号球　　　2号球　　　　2、3号球　　　　　3号球\r<br>2号盒子　2、3号球　　　3号球　　　　 2号球　　　　1、3号球　　　1号球　　　　　1、2号球\r<br>\r<br></p> \n\n \n # 输入格式 \n<p>\n　　两个整数，n和r，中间用空格分隔。（0≤n, r≤10）</p> \n\n \n # 输出格式 \n<p>\n　　仅一行，一个整数（保证在长整型范围内）。表示n个球放入r个盒子的方法。</p> \n\n \n # 提示 \n<p>\n【知识准备】\r<br>　　第二类Stirling数。\r<br>【算法分析】\r<br>　　先考虑三种情况：\r<br>　　　　（1）若盒子数r大于球数n，根据题意不允许有空盒的要求，放置的方法数为零；\r<br>　　　　（2）若r＝1，则只有一种放法；\r<br>　　　　（3）若r＝n，相当于将n个不同的球进行排列，故有n！种。\r<br>　　下面考虑1<r<n的情况。\r<br>　　n个不同的球放入r个不同的盒子中，可以先把r个盒子视为相同的，即先求出n个不同的球放入r个相同的盒子中，且不允许有空盒子的不同方案数，设为S(n, r)；再将r个盒子进行全排列，共有r!。\r<br>　　记号f(n, r)为n个不同的球放入r个不同盒子中，且不允许有空盒子的不同放法，根据乘法原理，有f(n, r)=S(n, r)&#8226;r!\r<br>　　如何求S(n, r)?请看如下定义：\r<br>　　定义  n个有区别的球放入r个相同的盒子中，要求无一空盒，其不同的方案数s(n, r)称为第二类Stirling数。\r<br>　　例如：红(k)、黄(y)、蓝(b)、白(w)四种颜色的球，放入两个无区别的盒子里，不允许空盒，其方案数共有如下7种：\r<br>方案　　　1\t2\t3\t4\t5\t6\t7\r<br>第1盒子　r\ty\tb\tw\try\trb\trw\r<br>第2盒子　ybw\trbw\tryw\tryb\tbw\tyw\tyb\r<br>　　所以S(4, 2)=7\r<br>　　下面就1≤n≤5，1≤r≤n列出各个S(n, r)的植如下\r<br>r\r<br>n\t1\t2\t3\t4\t5\r<br>1\t1\t\t\t\t\r<br>2\t1\t1\t\t\t\r<br>3\t1\t3\t1\t\t\r<br>4\t1\t7\t6\t1\t\r<br>5\t1\t15\t25\t10\t1\r<br>　　定理   第二类Stirling数满足下面的递推关系\r<br>　　S(n, r)=r&#8226;S(n-1, r)+S(n-1, r-1)  （n>1, r≥1）\r<br>　　证明：设n个不同的球为b1, b2, …, bn，从中取一个球设为b1。把这n个球放入r个盒子无一空盒的方案全体可分为两类：\r<br>　　　　　（1）b1独占一盒，其余n-1个球放入r-1个盒子无一空盒的方案数为S(n-1，r-1)\r<br>　　　　　（2）b1不独占一盒，这相当于先将b2, b3, …, bn。这n-1个球放入r个盒子，不允许有空盒的方案数共有S(n-1, r)，然后将b1放入其中一盒，这一盒子有r种可挑选，故b1不独占一盒的方案数为r&#8226;S(n-1, r)。\r<br>　　根据加法原理，则有：\r<br>　　S(n, r)＝r&#8226;S(n-1, r)+S(n-1, r-1)(n>1，r≥1)\r<br>　　对于n＝r，或r＝1，显然有S(n, n)＝1，S(n, 1)＝1。\r<br>　　综上所述，本题的算法可用第二类Stirling数的递推关系先求出S(n, r)，再乘上r!，即得所求方案数。\r<br>　　主要算法描述如下：\r<br>　　（1）数据结构\r<br>　　　　　const maxn=10\t{球的最大数目}\r<br>　　　　　var s:array[0..maxn, 0..maxn]of longint;\t{存放第二类数}\r<br>　　（2）用下列二重循环求S(n, r)\r<br>　　　　① 置S[0, 0]=1;\r<br>　　　　② for i:=1 to n do\r<br>　　　　　　　for j:=1 to r do\r<br>　　　　　　　　　S(i, j)=i*S(i-1,j)+S(i-1, j-1)\r<br>　　　　③ 计算方案数S\r<br>　　　　　　S:=S[n, r]\r<br>　　　　　　For i:=1 to r do S:=S*I;\r<br></p> "},{"title":"样例数据","format":"markdown","require":["katex"],"content":"<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>输入样例</td>\n\t\t<td>输出样例</td>\n\t</tr>\n<tr><td>3 2</td><td>6</td></tr></table>\n\n"}]}