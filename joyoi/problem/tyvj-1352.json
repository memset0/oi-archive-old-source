{"title":"圣战","time_limit":1000,"memory_limit":128,"url":"http://www.joyoi.cn/problem/tyvj-1352","statement":[{"title":"","format":"markdown","require":["katex"],"content":"\n# \n\n \n # 题目描述 \n&nbsp;\t联络完毕的圣战的战士们，终于等到了集结的号角。他们蜂拥而上，前往与Bugall军团交锋的战场。<BR><BR>Varpro已经准备好了一辆通往战场的飞艇，按照他的计划，这个飞艇将能容纳最多N个战士，当然他希望这N个战士总战斗力最强。<BR><BR>不幸的是，由于组织者没有进行合理的秩序安排，战士们在通往战场的飞艇前挤成了一个大堆；由于时间和空间关系，Varpro已经无法对战士按照战斗力重新列队，只能从这一堆人中靠前的挑选战士。<BR><BR>我们可以将圣战的战士们挤成的一个堆抽象成一个树的模型；树的根就是飞艇。一个战士可以进入飞艇，当且仅当他到飞艇上的路径中的战士已经全部进入了飞艇。当然，Varpro已经在飞艇上等待大家了（我们可以认为他，也就是树根，是0号节点），他可是拥有4千万战斗力的勇士呢。<BR><BR>现在请你帮Varpro计算，他最多可以带上的勇士的战斗力之和最大是多少。<BR><BR><BR> \n\n \n # 输入格式 \n第一行包括两个数M，N，分别代表战士的总人数和飞艇上能容纳的战士数。<BR>第2~m+1行每行描述了一个战士，分别代表该战士之前的战士（树中的父节点）的编号xi，和这个战士的战斗力wi。<BR><BR> \n\n \n # 输出格式 \n只有一行，飞艇最多可以带的勇士的战斗力之和（包括已经在飞艇上的Varpro的战斗力）。<BR> \n\n \n # 提示 \n20%的数据保证：1&lt;=m,n&lt;=50；<BR>70%的数据保证：1&lt;=m,n&lt;=500；<BR>100%的数据保证：1&lt;=m&lt;=10000，1&lt;=n&lt;=500，0&lt;=xi&lt;=n，0&lt;=wi&lt;=500。<BR>提示：对于已经在飞艇上的Varpro，他的战斗力是常量40000000并且不在数据中出现。<BR><BR> "},{"title":"样例数据","format":"markdown","require":["katex"],"content":"<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>输入样例</td>\n\t\t<td>输出样例</td>\n\t</tr>\n<tr><td>7 5\r\n2 2\r\n0 1\r\n0 4\r\n2 1\t\r\n7 1\r\n7 6\r\n2 2\r\n\r\n\r\n</td><td>40000013\r\n</td></tr></table>\n\n"}]}