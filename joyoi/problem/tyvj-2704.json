{"title":"ALADIN","time_limit":1000,"memory_limit":64,"url":"http://www.joyoi.cn/problem/tyvj-2704","statement":[{"title":"","format":"markdown","require":["katex"],"content":"\n# \n\n \n # 题目描述 \n<p>\n有一个长度为 N 的序列P 和两种操作，共 Q个： \r<br>1.  给定 L, R, A, B，将第 L 到第 R 个之间的每个元素 Px 变成（（X-L+1）×A）mod B  。  \r<br>2.  给定 L, R，询问第 L 到第 R 个元素的和。 \r<br>数据规模：N≤10^9  ，Q≤50000  ，  A, B≤106\r<br> </p> \n\n \n # 输入格式 \n<p>\nThe first line contains two integers N i Q (1 ≤ N ≤ 1 000 000 000) (1 ≤ Q ≤ 50 \r<br>000), number of boxes and number of queries.\r<br>The next Q lines contain information about the simulation.\r<br>If the line starts with 1, than it follows the format \"1 L R A B\" (1 ≤ L ≤ R ≤ N) (1 \r<br>≤ A, B ≤ 1 000 000), meaning that Aladin keyed in numbers L, R, A and B in the \r<br>device and allowed the device to do its job.\r<br>If the line starts with 2, than it follows the format \"2 L R\" (1 ≤ L ≤ R ≤ N). \r<br>Meaning that Aladin wonders how many stones in total are ther stones are in \r<br>boxes labeled L to R (inclusive).</p> \n\n \n # 输出格式 \n<p>\nFor each query beginning with 2 output the answer to that particular query. \r<br>Queries should be processed in the order they are given in the input.</p> \n\n \n # 提示 \n<p>\nThe boxes start containing {0, 0, 0, 0, 0, 0}, 0 stones in total. \r<br>After that the device sets the stones to {1 mod 2, 2 mod 2, 3 mod 2, 4 mod 2, \r<br>5 mod 2, 0} = {1,0,1,0,1,0}, or 3 stones in total.</p> "},{"title":"样例数据","format":"markdown","require":["katex"],"content":"<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>输入样例</td>\n\t\t<td>输出样例</td>\n\t</tr>\n<tr><td>6 3\r\n2 1 6\r\n1 1 5 1 2\r\n2 1 6\r\n</td><td>0\r\n3</td></tr></table>\n\n"}]}