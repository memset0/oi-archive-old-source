{"title":"Lis-The Postman","time_limit":1000,"memory_limit":64,"url":"http://www.joyoi.cn/problem/tyvj-2394","statement":[{"title":"","format":"markdown","require":["katex"],"content":"\n# \n\n \n # 题目描述 \n<p>\n每天早上邮递员都要走过每条街道来递送邮件. 所有的道路都是单向的. 两个岔路口间最多有两条边并且方向不同. 岔路口从1 到 编号.\r<br>邮递员从Byteotian邮政总部出发并且最终回到总部, 他可以自由选择自己喜欢的线路.最近他的上司给了他新的任务. 他被分派了一些路径的片段- 即一些需要依次经过的岔路口序列. 邮递员要选择一条路径使得: \r<br>·\t经过每条街道一次, \r<br>·\t包含所有给定的路径片段, \r<br>·\t从第一个路口出发并回到第一个路口. \r<br>很不行,很可能这样的路径不一定存在. 请你帮邮递员找出一条可行的路径. \r<br></p> \n\n \n # 输入格式 \n<p>\n第一行两个整数 和 , , , 表示岔路口数目以及街道的数目. 接下来行每行两个数字, , , , 表示一条单向道路. 每一队 在数据中最多出现一次. 接下来一行一个整数, , 表示给定的路径片段数目. 接下来行用来描述这些路径片段. 每行开始一个整数 , , 并且一个序列 表示需要经过的路口总数以及这些路口的编号. 所有路径片段的总长不超过.\r<br></p> \n\n \n # 输出格式 \n<p>\n第一行输出: \r<br>·\tTAK - 如果存在一条满足条件的路径, \r<br>·\tNIE – 如果路径不·\t存在. \r<br></p> \n\n \n # 提示 \n<p>\n<img border=\"0\" src=\"/source/joyoi/tyvj-2394/img/aHR0cDovL3d3dy5qb3lvaS5jbi9wcm9ibGVtL3R5dmotMjM5NC9wcm9ibGVtc19pbWFnZXMvMjc5MC8xNTE1LmpwZw==.jpg\">\r<br></p> "},{"title":"样例数据","format":"markdown","require":["katex"],"content":"<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>输入样例</td>\n\t\t<td>输出样例</td>\n\t</tr>\n<tr><td>6 10\r\n1 5\r\n1 3\r\n4 1\r\n6 4\r\n3 6\r\n3 4\r\n4 3\r\n5 6\r\n6 2\r\n2 1\r\n4\r\n3 1 5 6\r\n3 3 4 3\r\n4 4 3 6 4\r\n3 5 6 2\r\n</td><td>TAK\r</td></tr></table>\n\n"}]}