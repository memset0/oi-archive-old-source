{"title":"Jigsaw Puzzles","time_limit":1000,"memory_limit":161,"url":"http://www.joyoi.cn/problem/tyvj-2472","statement":[{"title":"","format":"markdown","require":["katex"],"content":"\n# \n\n \n # 题目描述 \n<p>\nThe cows have taken up alphabetical jigsaw puzzles. In these puzzles\r<br>with R (1 <= R <= 10) rows and C (1 <= C <= 10) columns, the edges\r<br>are not funny-shaped cardboard shapes but rather are letters.\r<br>\r<br>Each piece has a serial number and 4 letters (or borders) that must\r<br>be aligned as in a regular jigsaw puzzle. The pseudo-letter '0'\r<br>(the digit 0) will represent a border (and a piece can have several\r<br>borders if it is a corner piece or even the top of column in a,\r<br>e.g., 4x1 puzzle).  Below is a set of six pieces (the borders are\r<br>marked with lines instead of '0's) assembled in one way (of many)\r<br>that completes the puzzle:\r<br>\r<br>              +---+  +---+  +---+\r<br>              | 1 c  c 3 d  d 5 |\r<br>              +-d-+  + a +  +-e-+\r<br>\r<br>              +-d-+  +-a-+  +-e-+\r<br>              | 2 b  b 4 b  b 6 |\r<br>              +---+  +---+  +---+\r<br>\r<br>Note that each edge letter of each piece matches the border letter\r<br>of the piece adjacent to it; the borders appear properly on the top,\r<br>bottom, and sides.\r<br>\r<br>Pieces are represented by a serial number and a clockwise list of\r<br>their four edges (where edges are the letters a..z and 0). Pieces\r<br>might require rotation when placed in the puzzle.\r<br>\r<br>Given a set of pieces, find at least one way to assemble them into\r<br>a puzzle. Test data for puzzles with larger R and C are easier to\r<br>solve because they have a more varied set of edge letters.\r<br>\r<br>奶牛们玩字母拼图游戏，拼图有R(1<=R<=10)行C(1<=C<=10)列，每个格子有上下左右4条边，\r<br>边可以是abcd四种字母或边界（用'0' 表示），如图是一种拼法。\r<br>注意到两个相邻格子所对的边上的字母互相匹配，边界出现在拼图的上下左右边缘上。\r<br>每个格子用序号表示，按顺时针方向给出它们的四条边，可以旋转。要求找出一组可行解。\r<br>输入 ： 第一行R,C。接下来2..R*C+1行，每行描述一个格子，第一个数是它的序号，接下来四个数为它的四条边。\r<br>输出 ： 共R*C行，第(i-1)*C+j行5个数，第一个数为放在（i，j)处的格子序号，接下来按上右下左的顺序为它的四条边。</p> \n\n \n # 输入格式 \n<p>\n* Line 1: Two space-separated integers: R and C\r<br>\r<br>* Lines 2..R*C+1: Each line contains five space-separated entities: an\r<br>        integer serial number and four edge identifiers\r<br>\r<br></p> \n\n \n # 输出格式 \n<p>\n* Lines 1..R*C: Line R*(i-1)+j describes the puzzle piece placed a row\r<br>        i, column j with an integer and five space-separated entities:\r<br>        the serial number of the puzzle piece and the four piece edge\r<br>        identifiers in the order top, right, bottom, left.\r<br>\r<br></p> "},{"title":"样例数据","format":"markdown","require":["katex"],"content":"<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>输入样例</td>\n\t\t<td>输出样例</td>\n\t</tr>\n<tr><td>2 3\r\n1 c d 0 0\r\n2 0 d b 0\r\n3 c 0 d a\r\n4 b a b 0\r\n5 d 0 0 e\r\n6 0 0 b e\r\n\r\nINPUT DETAILS:\r\n\r\nDescribes the input puzzle although with some of the pieces rotated\r\ncompared to the sample solution.\r\n\r\n\r\n</td><td>1 0 c d 0\r\n3 0 d a c\r\n5 0 0 e d\r\n2 d b 0 0\r\n4 a b 0 b\r\n6 e 0 0 b\r\n\r\nOUTPUT DETAILS:\r\n\r\nAs shown in the diagram in the task text. Other solutions (like\r\nreflections) are possible; a grading program will check your answer.\r\n\r</td></tr></table>\n\n"}]}