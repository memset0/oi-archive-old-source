{"title":"图书检索问题","time_limit":1000,"memory_limit":64,"url":"http://www.joyoi.cn/problem/tyvj-3176","statement":[{"title":"","format":"markdown","require":["katex"],"content":"\n# \n\n \n # 题目描述 \n<p>\n【背景】 \r<br>小 ba 家里藏书千卷。小 ba 是一位程序员，他为自己编制了一套先进的图书查询系统。\r<br>小 ba 的朋友阿 bu 经常挂电话来借书： \r<br>阿 bu：喂，小 ba 啊，《The are of Computer Programming》有没有啊？ \r<br>小 ba：我查查……哦，有啊，Donald E.Knuth 的经典之作，一共三卷，其中第一卷和第三卷由管纪文、苏运霖翻译，国防工业大学出版社 1980 年翻译出版。另外清华大学出版社即将出版影印本，我已经预订。 \r<br>阿 bu：哦，好厉害啊！ \r<br>可是有一次图书查询系统却让小 ba 非常失望。 \r<br>阿 bu：喂，小 ba 啊，我知道你的查询系统非常先进，你一定能帮我吧。 \r<br>小 ba：没问题！你说吧。 \r<br>阿 bu：我今天听说一本信息学奥林匹克辅导书，名字和作者我不记得了，只记得封面有一个大大的红色的 IOI 字样，左右下角各有一个小人，好像还有清华大学出版社的防伪标签，大约 400 页的样子，你能查到吗？ \r<br>小 ba：这个……这个……我电脑怎么出毛病了……明天告诉你结果，好吗？ \r<br>这次经历使得小 ba 感到尴尬，他决心改进自己的查询系统，不仅仅能够按照书名、作者查询，还能够根据书的某些特征查询。 \r<br>【任务】 \r<br>小 ba 抽样调查了他的部分藏书，总结出结论：每个出版社出版的图书往往有自己的风格特点，而不同出版社的图书有时也有相似的地方。小 ba 总结出图书最常见的 n 个特征，于是他用一个 n 位由 01 组成的串表示一本图书的特点，称为这本图书的特征串。如果一本图书具有特征 i，那么这本图书特征串的第 i位就是 1。小 ba 还需要生成一套查询器，每次查询的时候先找到适合的查询器，再在查询器的返回值里面查找需要的书。查询器是一个长度为 n 的串，如果第 i位是 t（t=0或 1），表示所有的输出的第 i位都是t；如果第 i位是_（下划线） ，那么输出的第 i位可以任意取值。运行查询器将返回一个由满足条件的特征串组成的集合，称为输出集。从理论上讲，所有不同的查询器个数将达到\r<br><br><center><img src=\"/source/joyoi/tyvj-3176/img/aHR0cDovL3d3dy5qb3lvaS5jbi9wcm9ibGVtL3R5dmotMzE3Ni9wcm9ibGVtc19pbWFnZXMvMTQ2NS8xLmJtcA==.bmp\"></img></center>，这显然太多了。于是小 ba 对查询器作了更严格的要求：对于任意一个查询器：  \r<br>1、 （保证查询器的有效性） ：该查询器的输出集是小 ba 藏书的集合的子集。 \r<br>2、 （保证查询器无重复） ：该查询器的输出集不是任何其他查询器的输出集的子集。\r<br>某些书本可以被不同的查询器查找到，但是也有些书本可能只能被一个查询器查询到。这样的查询器显然是不可或缺的，我们称之为关键查询器。 然而一天时间非常短暂，小 ba 还要为他的千卷藏书生成特征串。因此请你为小 ba 的系统编写最核心的部分：生成所有查询器和所有关键查询器。</p> \n\n \n # 输入格式 \n<p>\n输入数据的第一行是 2 个正整数 n，m（n<=10） 。其中n 表示所有特征的总数，m 表示小 ba 藏书的总数。 \r<br>以下一共 m 行，每行是一本书的特征串。 </p> \n\n \n # 输出格式 \n<p>\n输出文件的第 1 行是一个整数 r，表示得到的所有查询器的个数。之后r 行，每行是一个查询器，这 r 行的输出顺序不是重要的。 \r<br>输出文件的第 n+1 行是一个整数 t，表示得到的所有关键查询器的个数。之后 t 行每行是一个关键查询器，这 t 行的输出顺序不是重要的。 </p> \n\n \n # 提示 \n<p>\n样例输入2：\r<br>4 16 \r<br>0000 \r<br>0001 \r<br>0010 \r<br>0011 \r<br>0100 \r<br>0101 \r<br>0110 \r<br>0111 \r<br>1000 \r<br>1001 \r<br>1010 \r<br>1011 \r<br>1100 \r<br>1101 \r<br>1110 \r<br>1111 \r<br>\r<br>样例输出2：\r<br>1 \r<br>____ \r<br>1 \r<br>____ </p> "},{"title":"# 样例数据","format":"markdown","require":["katex"],"content":"<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>输入样例</td>\n\t\t<td>输出样例</td>\n\t</tr>\n<tr><td>4 4 \r\n0000 \r\n0001 \r\n0011 \r\n0111 </td><td>3 \r\n000_ \r\n00_1 \r\n0_11 \r\n2 \r\n000_ \r\n0_11 </td></tr></table>\n\n"}]}