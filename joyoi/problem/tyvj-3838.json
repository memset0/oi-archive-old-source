{"title":"DQS和序列（by 帝江&Darkfalmes）","time_limit":1000,"memory_limit":97,"url":"http://www.joyoi.cn/problem/tyvj-3838","statement":[{"title":"","format":"markdown","require":["katex"],"content":"\n# \n\n \n # 题目背景 \n<p>在儿童节，一个熊孩子来到了哲学的圣城，企图膜拜王♂の哲学。由于熊孩子本性大发，将哲学圣城弄得十分脏乱。DQS对他非常生气。这也不能说DQS的脾气差，因为他弄丢了很多重要的东西。尤其是dc最喜欢的哲学序列。幸运的是DQS记得如何修复。于是乎他必须快一点，在dc敢来之前修复好.</p>\r\n\r\n<p><strong>注意：请使用I64输出</strong></p> \n\n \n # 题目描述 \n<p>最初，DQS需要创建一个整数的序列a1,a2,&hellip;&hellip;&hellip;&hellip;an。然后DQS就可以执行以下操作：</p>\r\n\r\n<p>1.打印操作:给定两个整数l,k&nbsp;打印区间[l,k]内所有数的和</p>\r\n\r\n<p>2.取模操作:给定三个整数l,k,x对于[l,k]区间内的每一个数a[i],l&lt;=i&lt;=k,a[i]=a[i]mod&nbsp;x;</p>\r\n\r\n<p>3.设置操作:给定两个整数k,x使a[k]=x;</p>\r\n\r\n<p>话说如果是平时DQS可以一边上舰一边修复数列，可是dc快要回来了，dc若是看见了又要大发雷霆，所以DQS找到了你，希望你能帮他解决。</p> \n\n \n # 输入格式 \n<p>输入的第一行包含了两个整数：n,m。第二行包含了n个整数，分别表示a1，a2&hellip;&hellip;&hellip;an的初始值。</p>\r\n\r\n<p>一下m行分别对应着m条指令。每条指令的第一个整数对应着指令的类型</p>\r\n\r\n<p>如果某行第一个整数是1，对应着打印操作，后面跟着两个整数l,k；</p>\r\n\r\n<p>如果某行第一个整数是2，对应着取模操作，后面跟着三个整数l,k,x</p>\r\n\r\n<p>如果某行第一个整数是3，对应着设置操作，后面跟着两个整数k,x</p> \n\n \n # 输出格式 \n<p>对于每个打印操作，输出一行结果。</p>\r\n\r\n<p>注意，输出数据可能超过32位整数范围</p> \n\n \n # 提示 \n<h1>样例输入</h1>\r\n\r\n<p>3&nbsp;1</p>\r\n\r\n<p>1&nbsp;2&nbsp;3</p>\r\n\r\n<p>1&nbsp;1&nbsp;3</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h1>样例输出</h1>\r\n\r\n<p>6</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>对于30%数据，m，n&lt;=50000;</p>\r\n\r\n<p>对于50%的数据，m,n&lt;=100000;</p>\r\n\r\n<p>对于75%的数据，m,n&lt;=500000;</p>\r\n\r\n<p>对于100%的数据，m,n&lt;=700000;a[i]&lt;=2^30-1并且所有输出均longlong以内.</p> \n\n"}]}