{"title":"✪ω✪游戏王","time_limit":1000,"memory_limit":64,"url":"http://www.joyoi.cn/problem/tyvj-4551","statement":[{"title":"","format":"markdown","require":["katex"],"content":"\n# \n\n \n # 题目背景 \n<p>shy喜欢玩游戏王(Yu-Gi-Oh)。在shy看来，游戏王是个比较坑的游戏，介于KONAMI的各种奇葩新卡，游戏王一度退化成剪刀石头布。。</p>\r\n\r\n<p>跟许多游戏一样，游戏王也有OTK（一回杀）一说。于是shy想知道在已知卡组顺序的情况下，m回合能输出的最大伤害是多少（假设对手没有任何操作，且任一方玩家都没有发动能洗切卡组的效果）。这题会简单说明YGO的规则，请注意将与原规则有许多不同之处。</p> \n\n \n # 题目描述 \n<p>第一回合起手5张卡，之后每回合从卡顶抽1张卡。</p>\r\n\r\n<p align=\"left\">本题主卡组中只有怪兽卡。怪兽卡有名称、星级、攻击力、防御力四个属性。<strong>每回合通常召唤怪兽的方法有2种，每种最多使用1次</strong>。4星以下的怪兽可以直接召唤；5星以上的怪兽需要解放1只怪兽上级召唤（<strong>这里的解放是指将场上已有的怪兽返回手卡</strong>；上级召唤属于通常召唤）。自己场上怪兽最多5只。召唤完成后，每回合每只怪兽可以攻击1次，伤害计算的场合将给对方造成攻击怪兽攻击力数值的伤害。</p> \n\n \n # 输入格式 \n<p>第一行n,m，40&le;n&le;60，m&le;n-4，n表示卡组数量，m表示历经的回合。</p>\r\n\r\n<p>第二行开始n行，每行有name,star,atk,def四个参数分别表示卡名、星级、攻击力、防御力。name是一个不会太长的字符串且不含空格，1&le;star&le;12，0&le;atk,def&le;5000。</p>\r\n\r\n<p>卡池中的所有卡都是可以在游戏王OCG/TCG中找到原型的，但名称会与官方的略有不同。比如「魔偶甜点」shy更喜欢以前的翻译「魔式甜点」、「黑魔术少女」shy更喜欢以前的翻译「黑魔导女孩」。</p> \n\n \n # 输出格式 \n<p>一个数damage，表示最大伤害。</p> \n\n \n # 提示 \n<p>此题源自游戏王但为了简化还是有许多区别的，请游戏王玩家注意以下若干点：</p>\r\n\r\n<p>1怪兽一律忽略效果，不论效果是必发还是选发，是无种类效果、诱发效果还是永续效果。例如样例一，召唤「铁皮金鱼」后不能发动效果把手卡中4星的「铁皮金鱼」特殊召唤。</p>\r\n\r\n<p>2回合结束时，手卡大于6张的场合不丢弃手卡。例如样例三，从第三回合的结束阶段起，后面任一回合的结束阶段都不需要丢弃任何「黑魔导女孩」或「眼盯盯☆魔导辣妹」。</p>\r\n\r\n<p>3决斗中没有主要阶段2。即主要阶段1时就完成了本回合的操作，战斗阶段结束后直接回合结束。这么做对于伤害最大化显然并非最优，但是shy考虑到不少OIer们可能没怎么玩过游戏王，所以就这样子吧~</p>\r\n\r\n<p>4第一回合可以攻击宣言。</p>\r\n\r\n<p>5不存在额外卡组、副卡组。</p>\r\n\r\n<p>6灵摆怪兽不可以当做魔法卡发动。</p>\r\n\r\n<p>7卡片没有任何限制。即某张卡无论禁止/限制/准限制/无限制都可以任意数量出现在卡组中。</p>\r\n\r\n<p>8融合/同调/超量怪兽也可以出现在主卡组中，并当做通常怪兽使用。超量怪兽的阶级算作等级。</p>\r\n\r\n<p>（反正，说了一堆就是不要把游戏王的世界观代入这题）</p>\r\n\r\n<p><u>Thanks&nbsp;for&nbsp;viewing&nbsp;this&nbsp;problem.</u></p> "},{"title":"样例数据","format":"markdown","require":["katex"],"content":"<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>输入样例</td>\n\t\t<td>输出样例</td>\n\t</tr>\n<tr><td>10 6\r\n黑魔导女孩 6 2000 1700\r\n黑魔导女孩 6 2000 1700\r\n黑魔导女孩 6 2000 1700\r\n黑魔导女孩 6 2000 1700\r\n黑魔导女孩 6 2000 1700\r\n眼盯盯☆魔导辣妹 6 2400 2000\r\n眼盯盯☆魔导辣妹 6 2400 2000\r\n眼盯盯☆魔导辣妹 6 2400 2000\r\n眼盯盯☆魔导辣妹 6 2400 2000\r\n眼盯盯☆魔导辣妹 6 2400 2000</td><td>0\r\n\r\n（无法做出任何召唤）\r\n</td></tr><tr><td>6 2\r\n铁皮金鱼 4 800 2000\r\n铁皮金鱼 4 800 2000\r\n铁皮金鱼 4 800 2000\r\n铁皮金鱼 4 800 2000\r\n铁皮金鱼 4 800 2000\r\n燃料电池人 6 2100 0</td><td>3700\r\n\r\n（第一回合召唤铁皮金鱼，第二回合解放之上级召唤燃料电池人并召唤铁皮金鱼）\r\n</td></tr><tr><td>6 2\r\n哥布林德伯格 4 1400 0\r\n哥布林德伯格 4 1400 0\r\n哥布林德伯格 4 1400 0\r\n哥布林德伯格 4 1400 0\r\n哥布林德伯格 4 1400 0\r\n机壳工具丑恶 5 1000 2800</td><td>4200\r\n\r\n（第一回合、第二回合都只召唤哥布林德伯格）\r\n</td></tr></table>\n\n"}]}