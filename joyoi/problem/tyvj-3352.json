{"title":"数字编码","time_limit":1000,"memory_limit":64,"url":"http://www.joyoi.cn/problem/tyvj-3352","statement":[{"title":"","format":"markdown","require":["katex"],"content":"\n# \n\n \n # 题目描述 \n<p>\n数字编码（coding.pas\\c\\cpp） \r<br>\r<br>【题目描述】 \r<br>　　一列有顺序的非负整数，需要把它们编码成一个0、1字符串进行传送。设这一列数为P={P1，P2，...，Pn}，其中0<=Pi<32767，具体的编码方法为：把P分成k个段 S1，S2，...，Sk，在第i个段Si 中有a(i)个数字，且该段中每个数字都用b(i)位0、1串来编码表示，另外为了正确解码，还要在该段前面附加上一个消息头，用来指出该段有多少个数字以及每个数字的编码位数，消息头的格式规定如下：首先用8位二进制位表示a(i)，这导致0<a(i)<256，另外由于0<=Pi<32767，即序列中每个数字最多用15位0、1串编码，因此接着用4位二进制位表示b(i) 。因此Si段编码后需要8+4+a(i)*b(i)位。按此格式，序列{P1，P2，...，Pn}的编码总位数为a(1)*b(1)+a(2)*b(2)+...+a(k)*b(k)+12*k 位，不同的分段方式可能对应不同的编码位数。\r<br>　　例如，对数字序列{ 7，6，16，2，1，88，250，222}，其最优分段方式是分为2段{7，6，16，2，1}和{88，250，222}，a(1)=5，b(1)=5，a(2)=3，b(2)=8，所以该数字序列的最优编码位数为25+24+24=73位。\r<br>　　你的问题是对于给定的数字序序列，按照上述编码规则，求最小的编码位数。\r<br></p> \n\n \n # 输入格式 \n<p>\n　　输入文件coding.in：\r<br>　　包含n+1整数，其中第一个为正整数n (n<=30000)，表示序列的长度，之后是n个非负整数，表示待编码的数字序列。数与数之间用空格隔开。\r<br></p> \n\n \n # 输出格式 \n<p>\n　　输出文件coding.out：\r<br>　　只包含一个数，表示你计算出的最小编码位数。\r<br></p> "},{"title":"样例数据","format":"markdown","require":["katex"],"content":"<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>输入样例</td>\n\t\t<td>输出样例</td>\n\t</tr>\n<tr><td>8  7  6  16  2  1  88  250  222</td><td>73</td></tr></table>\n\n"}]}