{"title":"摸鱼的刀客塔","time_limit":1000,"memory_limit":128,"url":"https://oj.seucpc.club/problem/227","statement":[{"title":"# 题目描述","format":"markdown","require":["katex"],"content":"\n> 博士，您还有许多事情需要处理。现在还不能休息哦。\r\n\r\n作为罗德岛的精神领袖，刀客塔被助理阿米驴要求每天 $25$ 小时高强度办公。\r\n\r\n刀客塔的一天有 $n$ 个时刻。在每一个时刻中，刀客塔只能处理 $1$ 份文件，并在该时刻的结束处理完这份文件。\r\n\r\n同时，他一共会收取 $m$ 次新文件。准确地说，他会在 $t_i$ 时刻的开始收到 $a_i$ 份待处理的文件。\r\n\r\n助理阿米驴会安排 $k$ 次检查，每次检查的时刻为 $b_i$。若在 $b_i$ 时刻中，刀客塔未处理完的文件数超过 $w$，那么阿米驴会在 $c_i$ 时刻之前（包含 $c_i$ 时刻）一直在控制中枢督促刀客塔办公；否则阿米驴会立即离开（这种情况下可以认为她在 $b_i$ 时刻不在控制中枢）。\r\n\r\n为了节省所剩不多的理智，刀客塔决定在阿米驴不在的时候偷偷摸鱼。他可以选择一些时刻不处理文件（但是仍然会收取新文件），每个不处理文件的时刻记为 $1$ 次摸鱼。\r\n\r\n现在，失去理智的刀客塔已经无法完成任何计算了，只好来求助你。请你告诉他他最多能摸鱼多少次，给予他继续工作的动力。\n"},{"title":"# 输入格式","format":"markdown","require":["katex"],"content":"\n第一行有一个正整数 $T(1\\leq T\\leq 20)$，表示数据的组数。\r\n\r\n对于每组数据，第一行有 $4$ 个正整数 $n(1\\leq n\\leq 10^9)$，$m,k(1\\leq m,k\\leq 10^5,1\\leq \\sum m,\\sum k\\leq 10^6)$，$w(1\\leq w\\leq 10^9)$，分别表示 $n$ 个时刻、收取 $m$ 次新文件、安排 $k$ 次检查、对于未处理文件数的限制 $w$。\r\n\r\n接下来 $m$ 行，每行有 $2$ 个正整数 $t_i(1\\leq t_i\\leq n),a_i(1\\leq a_i\\leq 10^5)$，分别表示在 $t_i$ 时刻收取 $a_i$ 份新文件。**数据保证**有 $t_i<t_{i+1},1\\leq i<m$。\r\n\r\n接下来 $k$ 行，每行有 $2$ 个正整数 $b_i,c_i(1\\leq b_i,c_i\\leq n)$，分别表示在 $b_i$ 时刻进行检查，若检查不合格则阿米驴将在办公室停留至 $c_i$ 时刻。**数据保证**有 $b_i\\leq c_i<b_{i+1},1\\leq i<k$。\n"},{"title":"# 输出格式","format":"markdown","require":["katex"],"content":"\n对于每组数据，输出一个整数，表示刀客塔最多摸鱼多少次。\n"},{"title":"# 样例","format":"markdown","require":["katex"],"content":"\n#### 样例输入\r\n\r\n```plain\r\n2\r\n5 5 3 10\r\n1 2\r\n2 2\r\n3 1\r\n4 2\r\n5 6\r\n1 1\r\n4 4\r\n5 5\r\n10 3 2 10\r\n1 7\r\n4 4\r\n7 5\r\n4 5\r\n8 10\r\n```\r\n\r\n#### 样例输出\r\n\r\n```plain\r\n4\r\n6\r\n```\r\n\r\n#### 样例解释\r\n\r\n在第一组样例中，刀客塔可以选择在$1,2,3,4$时刻摸鱼。\r\n\r\n在第二组样例中，刀客塔可以选择在$2,3,4,5,6,7$时刻摸鱼。\n"}]}