{"title":"Graph","time_limit":2000,"memory_limit":64,"url":"https://acm.uestc.edu.cn/problem/graph/description","statement":[{"title":"Content","format":"markdown","require":["katex"],"content":"\nSaerdna likes travelling, but he can not afford the GPS. He only has a broken map with him. However, he could only find out the approximate locations of the tourist attractions with the map which is too dilapidated. After arriving there, he could ask for the specific destination. Can you help him?\n"},{"title":"Standard Input","format":"markdown","require":["katex"],"content":"\nThe first line of the input is an integer $T$($T\\leq 10$), which represents that there are $T$ test cases.\n\nEach test case starts with two integers $R$, $U$($U\\leq 20$) representing the number of points and the number of connected blocks in the map. \n\nAnd then $U$ blocks follow. \n\nThe first line of each block contains two integers $K$($K\\leq 20$), $I$($I\\leq K^2$), which represent the number of points and the number of edges in each connected block.\n\nThis is followed by $I$ lines, each line contains three integers $a$, $b$, $c$, which represents that there is an edge between $a$ and $b$ with the length $c$($c\\leq 100000$).\n\nAfter the $U$ blocks, there is an integer $Q$ ($Q\\leq 5000$), for $Q$ queries.\n\nNext there are $Q$ lines; each line has one of the two forms as follow:\n* `add a b c`\n* `query a b`\n"},{"title":"Standard Output","format":"markdown","require":["katex"],"content":"\nEach case starts with `Case :S` ($S$ represents for the case number).\n\nThen for each query, print the shortest path between $a$ and $b$, if there is no path, print $-1$.Print each answer in a line.\n"},{"title":"Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>1\n4 2\n2 1\n0 1 1\n2 1\n2 3 1\n3\nquery 0 3\nadd 1 2 2\nquery 0 3</td><td>Case :1\n-1\n4</td></tr></table>\n\n"},{"title":"Note","format":"markdown","require":["katex"],"content":"\n1. We guarantee that $a$ and $b$ are not in the same connected block when add edge.\n2. Point numbers in the same connected block are continues.\n"}]}