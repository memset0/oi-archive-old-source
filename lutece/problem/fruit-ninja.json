{"title":"Fruit Ninja","time_limit":3000,"memory_limit":64,"url":"https://acm.uestc.edu.cn/problem/fruit-ninja/description","statement":[{"title":"Content","format":"markdown","require":["katex"],"content":"\nThese days wolf5x is addicted to a game on the mobile phone called Fruit Ninja. In this game, some fruits will be thrown up into the air, while the player should swipe his finger as a blade across the screen to slash them. Sometimes bombs are thrown out too, and he must avoid them, for he doesnâ€™t want to be blown to pieces. But wolf5x is really a poor player and often misses the target. He thinks this is because the blade is so difficult to use. So he changes his weapon to a rectangular BanZhuan. Now wolf5x wants to use this to smash as many fruits as possible while no bomb is touched. Also he wants to know how many ways there are to reach the goal. Can you help him to figure out the answer?\n\nTo make it clear, we regard the fruits and bombs as points on the plane. The BanZhuan is an $H\\times W$ rectangle. We require that the $W$-edge of the BanZhuan be paralleled to the $X$-axis, and the $H$-edge be paralleled to the $Y$-axis. The fruits or the bombs on the edge of the BanZhuan are considered touched. Two ways are different if the BanZhuan doesn't smash exactly the same area.\n"},{"title":"Standard Input","format":"markdown","require":["katex"],"content":"\nMultiple cases. On the first line is an integer $T$ indicating the case number.\n\nIn each case, first come three integers $N, H, W$ in a line separated by spaces. $N$ is the number of objects(fruits and bombs in total). $H$ and $W$ are the height and the width of the BanZhuan.\n\nThen follow $N$ lines in the format $L, X, Y$, where $L$ is letter `G` or `B`, indicating this is a Good fruit or a Bomb. $X$ and $Y$ are integers. $(X,Y)$ is the coordinate of the object. No two objects are overlapped.\n\nFor all cases, $1\\leq N\\leq 50000$, $1\\leq X,Y,H,W\\leq 25000$.\n"},{"title":"Standard Output","format":"markdown","require":["katex"],"content":"\nFirst line, if there are finite ways to get maximum number of fruits, output an integer, the number of ways. Otherwise output `so many!`.\n\nSecond line, and integer, the maximum number of fruits wolf5x can smash at one time.\n\nOutput a blank line after each case.\n"},{"title":"Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>3\n4 2 3\nG 0 1\nG 0 2\nG 1 2\nG 3 0\n4 2 3\nB 0 1\nB 0 2\nG 1 2\nG 3 0\n4 2 3\nB 0 1\nB 1 2\nG 1 1\nB 3 0</td><td>1\n4\n\nso many!\n2\n\nso many!\n0</td></tr></table>\n\n"},{"title":"Note","format":"markdown","require":["katex"],"content":"\nIn the first sample, if we put the lower-left vertex of the BanZhuan at $(0,0)$ and the upper-right vertex at $(3,2)$, then we can smash all the four fruits. And this is the only way to get all of them.\n"}]}