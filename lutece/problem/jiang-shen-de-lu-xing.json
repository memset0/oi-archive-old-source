{"title":"酱神的旅行","time_limit":1000,"memory_limit":64,"url":"https://acm.uestc.edu.cn/problem/jiang-shen-de-lu-xing/description","statement":[{"title":"Content","format":"markdown","require":["katex"],"content":"\n酱神要去一棵树上旅行。\n\n酱神制定了一个旅行计划，他要按顺序去$m$个树上的结点，$a1,a2,a3,...,am$。\n\n酱神有一辆车，树上的每一条边既可以开车通过，也可以走过去，两种方法需要不同的时间。如果选择走路，酱神需要先把车停在结点上，在他下一次要开车的时候，必须先回到停车的结点取车。\n\n酱神和他的爱车一开始都在$a1$结点上，酱神要依次访问完这$m$个结点最少需要多少时间。\n"},{"title":"Standard Input","format":"markdown","require":["katex"],"content":"\n第一行两个数$n, m$。\n\n$1=<n, m<=5000$\n\n接下来$n-1$行，每行$4$个数，$u, v, walk, drive$。表示结点$u$和结点$v$之间有一条走路耗时为$walk$，开车耗时为$drive$的边。\n\n$1=<u, v<=n$\n\n$1=<walk, drive<={10}^{9}$\n\n最后输入$m$个数，$a1,a2,a3,...,am$， 酱神要按顺序访问的结点。\n\n$1=<ai<=n$\n"},{"title":"Standard Output","format":"markdown","require":["katex"],"content":"\n输出一个数，酱神的最小耗时。\n"},{"title":"Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>2 2\n1 2 3 100\n1 2\n</td><td>3\n</td></tr><tr><td>4 4\n1 2 1 20\n3 2 100 1\n2 4 1 100\n1 2 3 4\n</td><td>23\n</td></tr></table>\n\n"}]}