{"title":"复读机的新游戏4","time_limit":1000,"memory_limit":128,"url":"https://acm.uestc.edu.cn/problem/fu-du-ji-de-xin-you-xi-4/description","statement":[{"title":"# Content","format":"markdown","require":["katex"],"content":"\n今夜，狂欢夜，复读机要反击了。\n\n子弹？复读机们拉来了意大利炮！\n\n群管理现在面对着一个长度为 $n$ 的小写字母组成的串 $s$，以及 $q$ 颗炮弹。\n\n每颗炮弹上标着两个数 $l,r$ ，其威力为其子串 $s[l\\ldots r]$ 的所有可能被复读的长度之和。（例如`aba `可能被复读长度为 $2$ 或 $3$）\n\n群管理只有猜对每颗炮弹的威力才能抵御下这些炮弹，作为临时管理员，你要帮忙抵御下这些子弹。\n\n准备迎敌吧！阿 sir！\n"},{"title":"# Standard Input","format":"markdown","require":["katex"],"content":"\n第一行一个长度为 $n$ 的字符串 $s$。\n第二行一个数，表示有 $q$ 颗炮弹。\n接下来 $q$ 行，每行两个整数 $l$, $r$。\n"},{"title":"# Standard Output","format":"markdown","require":["katex"],"content":"\n输出 $q$ 行，每行一个整数，表示炮弹的威力。\n"},{"title":"# Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>aaaa\n4\n1 1\n1 2\n1 3\n1 4</td><td>1\n3\n6\n10</td></tr></table>\n\n"},{"title":"# Constraints","format":"markdown","require":["katex"],"content":"\n$1\\leq n,q \\leq 100000$\n$1\\leq l, r \\leq n$\n"},{"title":"# Note","format":"markdown","require":["katex"],"content":"\n第一组询问，子串为`a`，有周期 $1$（即被复读长度可能为 $1$），所以答案为 $1$。\n第二组询问，子串为`aa`，有周期 $1,2$（即被复读长度可能为 $1,2$），所以答案为 $1+2=3$。\n第三组询问，子串为`aaa`，有周期 $1,2,3$（即被复读长度可能为 $1,2,3$），所以答案为 $1+2+3=6$。\n第四组询问，子串为`aaaa`，有周期 $1,2,3,4$（即被复读长度可能为 $1,2,3,4$），所以答案为 $1+2+3+4=10$。\n"}]}