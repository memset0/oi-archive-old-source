{"title":"The Urge to Merge","time_limit":1000,"memory_limit":64,"url":"https://acm.uestc.edu.cn/problem/the-urge-to-merge/description","statement":[{"title":"# Content","format":"markdown","require":["katex"],"content":"\nThe Acme Consulting Group has sent you into a new technology park to enhance dynamism, synergy\nand sustainability. You're not sure what any of these terms mean, but you're pretty good at making\nmoney, which is what you plan on doing. The park consists of a $3\\times n$ grid of facilities. Each facility\nhouses a start-up with an inherent value. By facilitating mergers between neighboring start-ups, you\nintend to increase their value, thereby allowing you to fulfill your life-long dream of opening your own\nchain of latte-and-burrito shops.\n\nDue to anti-trust laws, any individual merger may only involve two start-ups and no start-up may be\ninvolved in more than one merger. Furthermore, two start-ups may only merge if they are housed in\nadjacent facilities (diagonal doesn't count). The added value generated by a merger is equal to the\nproduct of the values of the two start-ups involved. You may opt to not involve a given start-up in any\nmerger, in which case no added value is generated. Your goal is to find a set of mergers with the largest\ntotal added value generated. For example, the startup values shown in the figure on the left, could be\noptimally merged as shown in the figure on the right for a total added value of $171$.\n\n![title](/source/lutece/the-urge-to-merge/img/aHR0cHM6Ly9hY20udWVzdGMuZWR1LmNuL21lZGlhL2ltYWdlL3Byb2JsZW0vODc0LzIwMTQwNTEwMTkxMzIxMzI3MzAucG5n.png)\n"},{"title":"# Standard Input","format":"markdown","require":["katex"],"content":"\nThe first line of each test case will contain a single positive integer $n \\leq 1000$ indicating the width of the\nfacilities grid. This is followed by three lines, each containing $n$ positive integers (all $\\leq 100$) representing\nthe values of each start-up. A line containing a single $0$ will terminate input.\n"},{"title":"# Standard Output","format":"markdown","require":["katex"],"content":"\nFor each test case, output the maximum added value attainable via mergers for that set of start-ups.\n"},{"title":"# Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>4\n7 2 4 9\n3 5 9 3\n9 5 1 8\n0</td><td>Case 1: 171</td></tr></table>\n\n"}]}