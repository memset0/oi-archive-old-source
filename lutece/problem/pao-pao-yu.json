{"title":"泡泡鱼","time_limit":1000,"memory_limit":64,"url":"https://acm.uestc.edu.cn/problem/pao-pao-yu/description","statement":[{"title":"# Content","format":"markdown","require":["katex"],"content":"\nFish是一条生活在海里的鱼，有一天他很无聊，想起了一个人类玩的游戏泡泡龙，于是他打算玩一把泡泡鱼。\n\nFish并不是特别清楚泡泡龙的规则（我们也是），于是他采用自己定的近似规则。\n\n这里我们把海底想象成一个平面区域，它的上边界离发射点距离为$H$，左右边界离发射点的距离均为$W$。起初时在这个区域的某些位置上有一些各种颜色的泡泡，\n且每个泡泡的直径为$2$（这里视泡泡为圆形）。如果两个相同颜色的泡泡相切，我们就说这两个泡泡**相邻**。\n如果两个相同颜色的泡泡**相邻**或者可以通过第三个相同颜色的泡泡**相连**，我们就说这两个泡泡**相连**。\n\n为了方便描述，我们定义发射点的坐标为$(0,0)$，每次Fish会在发射点以某个给定角度发射某种颜色的泡泡。\n如果泡泡撞到墙壁或者其他泡泡（即在某个时间第一次与墙壁或者其他泡泡相切），这个泡泡就会停住。\n如果这个泡泡与超过一个泡泡相连，那么这些泡泡就会消失，而Fish就会得到消失泡泡数量的平方的分数值。\n\n请注意，初始时如果有超过两个泡泡相连，这些泡泡并不会消失。\n\n现在已知初始泡泡的情况和每次发射泡泡的颜色和角度（相对于$+x$轴逆时针方向），请你给出最终的总得分。\n\n注意，在上一次发射出去的泡泡停止之前，Fish不能够继续发射泡泡。\n"},{"title":"# Standard Input","format":"markdown","require":["katex"],"content":"\n输入的第一行有两个实数$W$，$H$，表示游戏区域的边界坐标，精确到小数点后六位。\n\n接下来一行有一个整数$n$，表示初始泡泡的个数。\n\n接下来$n$行，第$i$行首先是两个浮点数$x_i$和$y_i$，表示第$i$个泡泡的圆心坐标，精确到小数点后八位，然后是一个整数$c_i$，表示第$i$个泡泡的颜色。\n\n接下来一行有一个整数$q$，表示发射的泡泡的个数。\n\n最后$q$行，第$i$行首先是一个浮点数$\\alpha_i$，精确到小数点后两位，表示第$i$次发射的泡泡的角度，然后是一个整数$c_i$，表示第$i$次发射的泡泡的颜色。\n\n**数据保证刚开始所有的泡泡均在区域内！**\n\n**数据保证泡泡刚发射的位置永远不会停放有泡泡！**\n\n**由于泡泡会在海水中浮动（以及计算机浮点的精度误差），我们认为当$(x_a - x_b)^2 + (y_a - y_b)^2 \\leq (2 \\times 1)^2 + 10^{-6}$成立时，泡泡$a$和泡泡$b$相切！**\n\n**数据保证初始时不存在相交的泡泡**\n\n对于$30\\%$的数据，$1\\leq n\\leq 10$，$1\\leq q\\leq 10$。\n\n另有$50\\%$的数据，$1\\leq n\\leq 1000$，$1\\leq q\\leq 1000$。\n\n剩下$20\\%$的数据，$1\\leq n\\leq 10^5$，$1\\leq q\\leq 10$。\n\n对于所有的数据，有$0<\\alpha<180$，$0<W, H\\leq 1000$，$1\\leq c_i\\leq 100$。\n"},{"title":"# Standard Output","format":"markdown","require":["katex"],"content":"\n输出只有一行，这一行只有一个整数，代表Fish最后的总得分。\n"},{"title":"# Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>4.000000 10.000000\n5\n-2.00000000 9.00000000 3\n1.00000000 7.26794919 10\n-3.00000000 7.26794919 3\n2.00000000 9.00000000 10\n0.00000000 9.00000000 10\n5\n66.60 10\n106.20 3\n88.20 5\n91.80 5\n84.60 5</td><td>34</td></tr></table>\n\n"},{"title":"# Note","format":"markdown","require":["katex"],"content":"\n![.*](/source/lutece/pao-pao-yu/img/aHR0cHM6Ly9hY20udWVzdGMuZWR1LmNuL21lZGlhL2ltYWdlL3Byb2JsZW0vMTMwLzIwMTQwMjAxMTUwMTE3MTM1MTMucG5n.png)\n\n一共获得$4^2 + 3^2 + 3^2 = 34$分。\n"}]}