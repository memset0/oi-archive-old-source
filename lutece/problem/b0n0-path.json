{"title":"B0n0 Path","time_limit":500,"memory_limit":64,"url":"https://acm.uestc.edu.cn/problem/b0n0-path/description","statement":[{"title":"Content","format":"markdown","require":["katex"],"content":"\nThere is a country with $N$ cities, there are roads between some pairs of cities.\n\nFor every pair of cities, there is exactly one path between them, on which there are no cities passed more than once.\n\nSo it is obvious that there are $N-1$ roads and $\\frac{N(N-1)}{2}$ paths.\n\nThe cities number from $1$ to $N$, and the $i^{th}$ city has one number $A\\_i$.\n\nA path is Bono if and only if the numbers $A\\_i$ on the path are **non-strictly** increasing or decreasing.\n\ni.e., if the numbers are $A\\_{b\\_1}, A\\_{b\\_2}, \\dots, A\\_{b\\_m}$, $A\\_{b\\_i}\\leq A\\_{b\\_{i+1}}\\ , \\forall 1\\leq i\\lt m$ or $A\\_{b\\_i}\\geq A\\_{b\\_{i+1}}\\ , \\forall 1\\leq i\\lt m$ should be satisfied.\n\nHow many Bono paths in the country?\n"},{"title":"Standard Input","format":"markdown","require":["katex"],"content":"\nThe first line contains one integer $N$.\n\nThe second line contains $N$ integers, where the $i^{th}$ indicates $A_i$.\n\nFor the next $N-1$ lines, each line contains two integers $u, v$, meaning that there is a road between $u^{th}$ city and $v^{th}$ city.\n\n$1\\leq N\\leq 10^5, 1\\leq u, v\\leq N, 1\\leq A_i \\leq 10^9$\n"},{"title":"Standard Output","format":"markdown","require":["katex"],"content":"\nOne integer indicating the number of bono paths in the country.\n"},{"title":"Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>4\n1 7 1 9\n1 3\n1 4\n2 1</td><td>5</td></tr><tr><td>6\n1 1 2 2 3 3\n1 2\n2 3\n3 4\n4 5\n5 6</td><td>15</td></tr></table>\n\n"},{"title":"Note","format":"markdown","require":["katex"],"content":"\nFor sample 1:\n\n![sample1](/source/lutece/b0n0-path/img/aHR0cHM6Ly9hY20udWVzdGMuZWR1LmNuL21lZGlhL2ltYWdlL3Byb2JsZW0vMTU1OS8yMDE3MDMyMTIxMTU1NTc5MjcucG5n.png)\n\nThe format of the text on $i^{th}$ node is $(i:A_i)$.\n\nThere are 5 bono paths: $(1, 2), (1, 3), (1, 4), (2, 1, 3), (3, 1, 4)$, while path $(2, 1, 4)$ is not bono path.\n\nFor sample 2:\n\n![title](/source/lutece/b0n0-path/img/aHR0cHM6Ly9hY20udWVzdGMuZWR1LmNuL21lZGlhL2ltYWdlL3Byb2JsZW0vMTU1OS8yMDE3MDMyMTIxMjQwNzA4NzgucG5n.png)\n\nAll path are bono paths.\n"}]}