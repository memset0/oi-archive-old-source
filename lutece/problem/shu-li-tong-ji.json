{"title":"数理统计","time_limit":3000,"memory_limit":256,"url":"https://acm.uestc.edu.cn/problem/shu-li-tong-ji/description","statement":[{"title":"Content","format":"markdown","require":["katex"],"content":"\n被概率论整的死去活来的`forgottencsc`总算开始学数理统计了。他不想做作业，所以把作业丢给了你。\n\n你需要对一个长度为$N$的数列做以下三种操作。\n\n1. 将下标在区间$[L,R]$内的数全部加上一个定值$k$。\n\n2. 将下标在区间$[L,R]$内的数加起来并输出。\n\n3. 统计下标在区间$[L,R]$内的数的极差（最大值与最小值的差）。\n\n数列中的数在开始时全为0。\n"},{"title":"Standard Input","format":"markdown","require":["katex"],"content":"\n第一行有两个数$N,Q$，代表数列长度和操作次数\n\n接下来的$Q$行，每行最开始有一个数$o$。\n\n若$o=1$，则接下来有三个数$L,R,k$，代表一次操作1。\n\n若$o=2$，则接下来有两个数$L,R$，代表一次操作2。\n\n若$o=3$，则接下来有两个数$L,R$，代表一次操作3。\n"},{"title":"Standard Output","format":"markdown","require":["katex"],"content":"\n对于每一个操作2或3，你需要输出相应的结果。\n"},{"title":"Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>3 4\n1 1 1 10\n1 3 3 -10\n2 1 3\n3 1 3</td><td>0\n20</td></tr></table>\n\n"},{"title":"Constraints","format":"markdown","require":["katex"],"content":"\n$1 \\leq N,Q \\leq 10^6$\n\n$1 \\leq L \\leq R \\leq N$\n\n$0\\leq |k| \\leq 10^6$\n"},{"title":"Note","format":"markdown","require":["katex"],"content":"\n时限有点紧，请注意常数优化。（仍然是标程的两倍以上，而且标程用的是cin/cout）\n\n读入数据量巨大，请使用scanf/printf。\n\n仍想使用cin/cout的选手请在程序开头加上ios::sync_with_stdio(false); cin.tie(0);\n\n有同学反映用%I64d输出long long会导致WA，请考虑使用%lld。\n"}]}