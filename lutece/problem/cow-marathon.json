{"title":"Cow Marathon","time_limit":1000,"memory_limit":64,"url":"https://acm.uestc.edu.cn/problem/cow-marathon/description","statement":[{"title":"# Content","format":"markdown","require":["katex"],"content":"\nFarmer John's pastoral neighborhood has $N$ farms $(2 \\leq N \\leq 40,000)$, usually numbered/labeled $1 \\cdots N$. A series of $M (1 \\leq M < 40,000)$ vertical and horizontal roads each of varying lengths $(1 \\leq length \\leq 1000)$ connect the farms. A map of these farms might look something like the illustration below in which farms are labeled $F1 \\cdots F7$ for clarity and lengths between connected farms are shown as $(n)$:\n```\n           F1 --- (13) ---- F6 --- (9) ----- F3\n            |                                 |\n           (3)                                |\n            |                                (7)\n           F4 --- (20) -------- F2            |\n            |                                 |\n           (2)                               F5\n            | \n           F7 \n```\nBeing an ASCII diagram, it is not precisely to scale, of course.\n\nEach farm can connect directly to at most four other farms via roads that lead exactly north, south, east, and/or west. Moreover, farms are only located at the endpoints of roads, and some farm can be found at every endpoint of every road. No two roads cross, and precisely one path(sequence of roads) links every pair of farms. \n\nAfter hearing about the epidemic of obesity in the USA, Farmer John wants his cows to get more exercise, so he has committed to create a bovine marathon for his cows to run. The marathon route will include a pair of farms and a path comprised of a sequence of roads between them. Since FJ wants the cows to get as much exercise as possible he wants to find the two farms on his map that are the farthest apart from each other (distance being measured in terms of total length of road on the path between the two farms). Help him determine the distances between this farthest pair of farms.\n"},{"title":"# Standard Input","format":"markdown","require":["katex"],"content":"\n* Line $1$: Two space-separated integers: $N$ and $M$\n\n* Lines $2 \\cdots M+1$: Each line contains four space-separated entities, $F1,\nF2, L,$ and $D$ that describe a road. $F1$ and $F2$ are numbers of\ntwo farms connected by a road, $L$ is its length, and $D$ is a\ncharacter that is either `N`, `E`, `S`, or `W` giving the\ndirection of the road from $F1$ to $F2$.\n"},{"title":"# Standard Output","format":"markdown","require":["katex"],"content":"\nLine $14: An integer giving the distance between the farthest pair of farms.\n"},{"title":"# Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>7 6\n1 6 13 E\n6 3 9 E\n3 5 7 S\n4 1 3 N\n2 4 20 W\n4 7 2 S</td><td>52</td></tr></table>\n\n"},{"title":"# Note","format":"markdown","require":["katex"],"content":"\nThe longest marathon runs from farm $2$ via roads $4, 1, 6$ and $3$ to farm $5$ and is of length $20+3+13+9+7=52$.\n"}]}