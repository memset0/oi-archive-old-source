{"title":"棘手的操作","time_limit":2000,"memory_limit":128,"url":"https://acm.uestc.edu.cn/problem/ji-shou-de-cao-zuo/description","statement":[{"title":"Content","format":"markdown","require":["katex"],"content":"\n有$N$个节点，标号从$1$到$N$，这$N$个节点一开始相互不连通。第$i$个节点的初始权值为$a\\_i$，接下来有如下一些操作：\n* `U x y`: 加一条边，连接第$x$个节点和第$y$个节点\n* `A1 x v`: 将第$x$个节点的权值增加$v$\n* `A2 x v`: 将第$x$个节点所在的连通块的所有节点的权值都增加$v$\n* `A3 v`: 将所有节点的权值都增加$v$\n* `F1 x`: 输出第$x$个节点当前的权值\n* `F2 x`: 输出第$x$个节点所在的连通块中，权值最大的节点的权值\n* `F3`: 输出所有节点中，权值最大的节点的权值\n"},{"title":"Standard Input","format":"markdown","require":["katex"],"content":"\n输入的第一行是一个整数$N$，代表节点个数($N\\leq 300000$，$Q\\leq 300000$)。\n\n接下来一行输入$N$个整数，$a\\_1, a\\_2,\\cdots , a\\_N$($-1000\\leq a\\_1, a\\_2,\\cdots , a\\_N\\leq 1000$)，代表$N$个节点的初始权值。\n\n再下一行输入一个整数$Q$，代表接下来的操作数。\n\n最后输入$Q$行，每行的格式如题目描述所示,其中$-1000\\leq v\\leq 1000$。\n"},{"title":"Standard Output","format":"markdown","require":["katex"],"content":"\n对于操作`F1`, `F2`, `F3`，输出对应的结果，每个结果占一行。\n"},{"title":"Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>3\n0 0 0\n8\nA1 3 -20\nA1 2 20\nU 1 3\nA2 1 10\nF1 3\nF2 3\nA3 -10\nF3</td><td>-10\n10\n10</td></tr></table>\n\n"}]}