{"title":"Reverse Pairs in a Range (Modification ver.)","time_limit":5000,"memory_limit":256,"url":"https://acm.uestc.edu.cn/problem/reverse-pairs-in-a-range-modification-ver/description","statement":[{"title":"Content","format":"markdown","require":["katex"],"content":"\nFor the reason that the problems in the 2017 UESTC Training for Data Structures were too easy, there is another problem for you today!    \nYou are given a list of n integers a[1], ..., a[n].    \nThere are two kinds of operations, one of which is to change a number in the list to another number.    \nThe other is to answer the number of reverse pairs in a given range.    \nYou need to read a operation and immediately do it.   \nYou are not permitted to read the whole operations and answer all questions in the end.\n"},{"title":"Standard Input","format":"markdown","require":["katex"],"content":"\nThe first line contains one integer n.   \nThe second line includes n integers a1, ..., an.   \nThe third line is a integer m: the number of operations.   \nEach of the following m lines contains 3 integers:    \n\n\n0 L R (1<=L<=R<=n): You need to answer the number of reverse pairs in a[L], ..., a[R].  \n\n1 p v (1<=p<=n,1<=v<=n): change a[p] to v.  \n\n\nHowever, L, R, p, v are not correct, you can get correct L, R, p, v using the following formula:   \nL = L xor lastans, R = R xor lastans,   \np = p xor lastans, v = v xor lastans.   \nlastans is the your answer of the previous \"0 L R\".   \nIn the beginning, lastans = 0.\n"},{"title":"Standard Output","format":"markdown","require":["katex"],"content":"\nFor each \"0 L R\", you should print a single line, including one number which is your answer.\n"},{"title":"Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>10\n1 7 5 6 9 4 9 4 4 7\n10\n0 4 6\n0 5 8\n0 1 10\n1 25 19\n0 19 25\n1 14 4\n0 12 12\n0 2 5\n1 8 7\n1 1 10\n</td><td>2\n3\n16\n13\n0\n2\n</td></tr></table>\n\n"},{"title":"Note","format":"markdown","require":["katex"],"content":"\n1<=n<=50000,  \n1<=ai<=n,   \n1<=m<=50000,  \n1<=(L xor lastans)<=(R xor lastans)<=n,  \n1<=(p xor lastans)<=n,  \n1<=(v xor lastans)<=n\n"}]}