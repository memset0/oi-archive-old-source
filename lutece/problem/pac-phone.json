{"title":"PAC-Phone","time_limit":3000,"memory_limit":64,"url":"https://acm.uestc.edu.cn/problem/pac-phone/description","statement":[{"title":"Content","format":"markdown","require":["katex"],"content":"\nSmart phone is one of the most fashion hi-tech things today, and the most profitable. Invited by the Pakiistanii air force, wolf5x joined their project that is aiming at developing a brand new smart phone to compete with IPhone (Tomato says the IPhone he sells is cheap and powerful, so wolf5x wants to design a better one!). Its name will be PAC-Phone!\nNow wolf5x is busy at designing a face recognition system, which can tell whether the picture taken by the camera on the phone belongs to the same person as the one stored in the database. It does the comparison in an ordinary way: First the system calculates some feature values of each picture and generates a new picture with points (no colors, no lines, just black points) for it. Then it compares whether the two newly-generated pictures are similar.\n\nThe work is almost finished; only the comparison module needs to be done. But wolf5x is not good at designing such an algorithm, so he turns to you for help. You can regard a picture as a set of points in the xOy plane. Two pictures are similar if and only if one set of points can be transformed into the other one by applying finite times the operations listed below:\n1. Translation. Move each point in the set from $(X\\_i, Y\\_i)$ to $(X\\_i+DX, Y\\_i+DX)$, where $(X\\_i, Y\\_i)$ is the original coordinate of the $i\\_{th}$ point.\n2. Scaling. Change each point’s coordinate from $(X\\_i, Y\\_i)$ to $(k\\times X\\_i, k\\times Y\\_i)$\n3. Rotation. Rotate each point clockwise around the Origin through a same angle.\n\nPlease help him write this module. To test whether it works, you’ll be given some test data. Use your program to determine whether the two given sets are similar.\n"},{"title":"Standard Input","format":"markdown","require":["katex"],"content":"\nThere are multiple cases. First line contains a single integer $T$, the number of cases.\n\nEach case begins with an integer $N$, the number of points of each set.\n\nThen follow $N$ lines each containing two real numbers $X\\_i$ $Y\\_i$, the coordinate of the $i\\_{th}$ point in the first set.\n\nThen follow $N$ lines each containing two real numbers $X\\_i$ $Y\\_i$, the coordinate of the $i\\_{th}$ point in the second set.\n\nThe input guarantees that $T\\leq 20$, $-20000 \\leq X\\_i, Y\\_i \\leq 20000$. For $90\\%$ cases, $N \\leq 1000$. For all the cases, $1 \\leq N \\leq 20000$.\n"},{"title":"Standard Output","format":"markdown","require":["katex"],"content":"\nOne case per line. First print `Case #i: `, where $i$ is the case number. Then `YES` if two sets are similar, otherwise `NO`.\n"},{"title":"Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>2\n4\n0 0\n1 1\n0 1\n1 0\n0.5 0.5\n1.5 -2.5\n4.5 -1.5\n3.5 1.5\n3\n0 0\n0 4\n-3 0\n0 0\n0 3\n4 3</td><td>Case #1: YES\nCase #2: NO</td></tr></table>\n\n"},{"title":"Note","format":"markdown","require":["katex"],"content":"\nFor sample $1$, transform the first set by: rotate through $atan(3)$ rad $\\rightarrow$ scale by $sqrt(10)$ $\\rightarrow$ translate by $(0.5, 0.5)$. Note that the order the points are given doesn’t matter.\n\nFor sample $2$, you don’t have a mirror, so the first set can never be transformed into the second one.\n"}]}