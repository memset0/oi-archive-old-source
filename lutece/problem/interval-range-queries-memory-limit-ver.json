{"title":"Interval-Range Queries (Memory Limit ver.)","time_limit":5000,"memory_limit":28,"url":"https://acm.uestc.edu.cn/problem/interval-range-queries-memory-limit-ver/description","statement":[{"title":"Content","format":"markdown","require":["katex"],"content":"\nFor the reason that the problems in the 2017 UESTC Training for Data Structures were solved easily by dalaos, there is another problem for you today!     \nYou are given a list of n integers s[1], …, s[n].      \nThere are m queries, each of which contains four integers L, R, a, b. You should answer the number of all different s[x] (L <=x <= R && a <= s[x] <=b).    \n    \nMaybe you can use fast read and output!!!!!!!\n"},{"title":"Standard Input","format":"markdown","require":["katex"],"content":"\nThe first line contains two integers n and m, representing the length of the list s and the number of queries.    \nThe second line includes n integers s[1], …, s[n].    \nEach of the following m lines contains 4 integers L, R, a, b.\n"},{"title":"Standard Output","format":"markdown","require":["katex"],"content":"\nFor each query, output one single line, including one number which is your answer.\n"},{"title":"Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>10 10\n4 4 5 1 4 1 5 1 2 1\n5 9 1 2\n3 4 7 9\n4 4 2 5\n2 3 4 7\n5 10 4 4\n3 9 1 1\n1 4 5 9\n8 9 3 3\n2 2 1 6\n8 9 1 4\n</td><td>2\n0\n0\n2\n1\n1\n1\n0\n1\n2\n</td></tr></table>\n\n"},{"title":"Note","format":"markdown","require":["katex"],"content":"\n1<=n<=100000,    \n1<=m<=1000000,   \n1<=si<=n,   \n1<=l<=r<=n,   \n1<=a<=b<=n   \n  \n  \n样例的部分解释：\n   \n5 9 1 2   \n子序列为4 1 5 1 2   \n在[1,2]里的权值有1,1,2，有2种，因此答案为2。   \n   \n3 4 7 9   \n子序列为5 1   \n在[7,9]里的权值有5，有1种，因此答案为1。   \n   \n4 4 2 5   \n子序列为1   \n没有权值在[2,5]中的，因此答案为0。   \n   \n2 3 4 7   \n子序列为4 5   \n权值在[4,7]中的有4,5，因此答案为2。\n"}]}