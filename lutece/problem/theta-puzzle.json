{"title":"Theta Puzzle","time_limit":1000,"memory_limit":64,"url":"https://acm.uestc.edu.cn/problem/theta-puzzle/description","statement":[{"title":"Content","format":"markdown","require":["katex"],"content":"\nThe Theta Puzzle consists of a base with 6 positions at the vertices of a regular hexagon and another position at the center, connected as shown in the figure below. There are six tokens labeled `A`, `B`, `C`, `D`, `E` and `F`. A single move of the puzzle is to move a token to an adjacent empty position (along an allowed connection â€“ the line segments in the diagram below). The idea of the puzzle is to start with an initial arrangement of tokens with the center empty and, by a sequence of moves, get to the configuration in the figure below.\n\n![title](/source/lutece/theta-puzzle/img/aHR0cHM6Ly9hY20udWVzdGMuZWR1LmNuL21lZGlhL2ltYWdlL3Byb2JsZW0vMzU5LzIwMTQwNDEwMjIyNzE0NDY1MjkuanBn.jpg)\n\nAn initial position for the puzzle is given by a permutation of the letters `A` through `F`. The first letter starts at `A` in the figure, the next at `B` and so on.\n\nA sequence of moves is specified by listing the labels of tokens to be moved, in the order they are to be moved.\n\nFor example, to solve the puzzle `FACDBE`, use the moves `BEFAB`.\n\n![title](/source/lutece/theta-puzzle/img/aHR0cHM6Ly9hY20udWVzdGMuZWR1LmNuL21lZGlhL2ltYWdlL3Byb2JsZW0vMzU5LzIwMTQwNDEwMjIyNzM2MDY0MzAuanBn.jpg)\n\nNote: Not all starting permutations can be solved.\n\nWrite a program which, given an initial permutation, either finds the shortest sequence of moves to solve the puzzle or determines that there is no solution.\n"},{"title":"Standard Input","format":"markdown","require":["katex"],"content":"\nThe first line of input contains a single integer $P$, ($1\\leq P\\leq 1000$), which is the number of data sets that follow. Each data set is a single line that contains the data set number, followed by a space, followed by a permutation of the letters $A$ through $F$ giving the initial puzzle position.\n"},{"title":"Standard Output","format":"markdown","require":["katex"],"content":"\nFor each data set there is a single line of output. If there is no solution, the line contains a decimal\ninteger giving the data set number followed by a single space, followed by the string `NO SOLUTION`.\nIf there is a solution, the line contains a decimal integer giving the data set number followed by a\nsingle space, followed by the number of moves in the solution, followed by a single space, followed\nby the solution as a string of the letters `A` through `F`. If the number of moves is zero ($0$), you should\nstill output the space after the $0$, even though there is no string of letters.\n"},{"title":"Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>12\n1 FACDBE\n2 ABCDEF\n3 ADCEFB\n4 ADCEBF\n5 FEDCBA\n6 FEDCAB\n7 ECBFAD\n8 ECBFDA\n9 DCEBFA\n10 DCEBAF\n11 CBEADF\n12 BDEAFC</td><td>1 5 BEFAB\n2 0 \n3 19 DABFECABFEDBACDEFAB\n4 NO SOLUTION\n5 29 BCDEBCAFBCAFBCEDFAECBAFDCBAFE\n6 NO SOLUTION\n7 19 CBFACBFACDEFACDEFAB\n8 NO SOLUTION\n9 13 CDAFBEDCBEDCB\n10 NO SOLUTION\n11 21 DAEBDAEBDCFEBDCABEFAB\n12 16 FAEDBCAFBCAFEDCB</td></tr></table>\n\n"}]}