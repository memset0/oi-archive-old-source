{"title":"綾波的游戏I","time_limit":1500,"memory_limit":256,"url":"https://acm.uestc.edu.cn/problem/ling-bo-de-you-xi-i/description","statement":[{"title":"# Content","format":"markdown","require":["katex"],"content":"\n在与拉菲、标枪等人相遇几次之后，綾波心里有些烦恼。一天，她独自在港区玩一个既有趣又能提升自己的能力的游戏，在这个游戏中，她面对一面长墙，墙上排列着 $n$ 个点（编号 $1\\sim n$），每个点都带有一个数值（可能为负数），同时，还有一个一定要记住的数值 $k$。\n\n在每一轮游戏中，綾波需要使用鱼雷击中在一个区间（$[l,r]$）内的所有对 $k$ 取模（取**非负最小**剩余）后数值与 $c$ 对 $k$ 取模（同样取**非负最小**剩余）相等的点，每次击中每个点需要一枚鱼雷。\n\n作为港区鱼雷能力最强的驱逐舰，綾波当然不可能因为没有命中而浪费鱼雷。\n\n每轮游戏结束后，该轮目标区间内的所有点的值将增加 $d$（$d$ 可能为负数）。\n\n![PID:80457661](/source/lutece/ling-bo-de-you-xi-i/img/aHR0cHM6Ly9oZXJhbm8uY29kaW5nLm5ldC9wL1BpY1BsYWNlL2QvUGljUGxhY2UvZ2l0L3Jhdy9tYXN0ZXIvODA0NTc2NjFfcDBfcmVzaXplLnBuZw==.png)\n\n*Pixiv ID: 80457661，Author: 伊奈，使用已经过作者授权。*\n\n尽管如此，在知道了墙面上各点初始数值和每轮的任务后，綾波还是希望指挥官能帮她计算她各轮需要的鱼雷数量的说。呐，快来帮帮綾波吧。\n"},{"title":"# Standard Input","format":"markdown","require":["katex"],"content":"\n第一行，两个整数 $n,\\ k$，表示墙面上的点个数和取模时使用的模数。\n第二行，$n$ 个整数，依次表示各点的初始数值。\n第三行，整数 $m$，表示游戏的轮数。\n后面 $m$ 行，每行四个整数 $l$，$r$，$c$，$d$ 表示目标区间 $[l,r]$ 、目标值 $c$、本轮游戏后增加的值 $d$。\n"},{"title":"# Standard Output","format":"markdown","require":["katex"],"content":"\n$m$ 行，每行一个整数，表示每轮需要消耗的鱼雷数量。\n"},{"title":"# Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>5 10\n123 2 42 46 -248\n3\n1 5 2 3\n1 5 5 -11\n5 5 4 0</td><td>3\n3\n1</td></tr></table>\n\n"},{"title":"# Constraints","format":"markdown","require":["katex"],"content":"\n$0<n,m,k\\leq 10^5$\n$1\\leq l\\le r \\leq n$\n其他数均在 $int$ 范围内，即 $-2^{31}\\leq others < 2^{31}$\n"},{"title":"# Note","format":"markdown","require":["katex"],"content":"\n模数取非负最小剩余（大于等于 $0$，小于模数），比如 $-2$ 模 $10$ 要取 $8$。\n\nhint1：请勿滥用 long long\nhint2：正解复杂度不带 log\n"}]}