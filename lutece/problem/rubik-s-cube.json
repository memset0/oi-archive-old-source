{"title":"Rubik's Cube","time_limit":5000,"memory_limit":64,"url":"https://acm.uestc.edu.cn/problem/rubik-s-cube/description","statement":[{"title":"Content","format":"markdown","require":["katex"],"content":"\nThe Rubik's Cube is one of the most famous mechanical puzzles in the world. In a classic $3\\times 3\\times 3$ Rubik's Cube, each of the six faces is covered by nine stickers, among six solid colors (traditionally white, red, blue, orange, green and yellow).\n\n![.*](/source/lutece/rubik-s-cube/img/aHR0cHM6Ly9hY20udWVzdGMuZWR1LmNuL21lZGlhL2ltYWdlL3Byb2JsZW0vMTAzLzIwMTQwMTI5MDAzNzQyMjAyNS5wbmc=.png)\n\nWe can name the six faces as `F`(Front), `B`(Back), `U`(Up), `D`(Down), `L`(Left), `R`(Right).\n\n![.*](/source/lutece/rubik-s-cube/img/aHR0cHM6Ly9hY20udWVzdGMuZWR1LmNuL21lZGlhL2ltYWdlL3Byb2JsZW0vMTAzLzIwMTQwMTI5MDAzNzQ4MDUzNi5wbmc=.png)\n\nA letter followed by a prime symbol `'` means rotating the corresponding face $90$ degrees in counterclockwise direction, while a letter without a prime symbol denotes a clockwise turn. A letter followed by a `2` denotes two turns, in other words, a $180$-degree turn.\n\nOne day, Hongshu performed a sequence of moves, which left the puzzle in a scrambled state. After seeing that, Hongshu began to wonder whether repeating the exact same sequence of moves over and over again would bring the cube back to its initial state --- that is, each of the small stickers must return to the exact same place where it started. Could you help him?\n"},{"title":"Standard Input","format":"markdown","require":["katex"],"content":"\nOne integer $T$ (about $10000$) on the first line indicates the number of cases.\n\nThen followed by $T$ cases, every case contains a single line which is a space-separated list of rotations (no more than $100$ rotations) Hongshu performed.\n"},{"title":"Standard Output","format":"markdown","require":["katex"],"content":"\nFor each case, print an integer $X$ in a single line, which is the smallest number of rounds Hongshu need to perform all the rotations to bring each sticker to where it was in the beginning(including the first round). If no such $X$ exists, print $-1$ instead.\n"},{"title":"Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>2\nF2\nF B'</td><td>2\n4</td></tr></table>\n\n"},{"title":"Note","format":"markdown","require":["katex"],"content":"\nA brute force algorithm may lead to `Time Limited Exceed`.\n"}]}