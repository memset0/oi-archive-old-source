{"title":"Flip Game","time_limit":1000,"memory_limit":64,"url":"https://acm.uestc.edu.cn/problem/flip-game/description","statement":[{"title":"# Content","format":"markdown","require":["katex"],"content":"\nFlip game is played on a rectangular $4\\times 4$ field with two-sided pieces placed on each of its $16$ squares. One side of each piece is white and the other one is black and each piece is lying either it's black or white side up. Each round you flip $3$ to $5$ pieces, thus changing the color of their upper side from black to white and vice versa. The pieces to be flipped are chosen every round according to the following rules:\n\nChoose any one of the $16$ pieces.\nFlip the chosen piece and also all adjacent pieces to the left, to the right, to the top, and to the bottom of the chosen piece (if there are any).\n\n![title](/source/lutece/flip-game/img/aHR0cHM6Ly9hY20udWVzdGMuZWR1LmNuL21lZGlhL2ltYWdlL3Byb2JsZW0vNDEyLzIwMTQwODE0MTc0NDE3ODk1OC5wbmc=.png)\n\nConsider the following position as an example:\n```\nbwbw\nwwww\nbbwb\nbwwb\n```\n\nHere `b` denotes pieces lying their black side up and `w` denotes pieces lying their white side up. If we choose to flip the $1\\_{st}$ piece from the $3\\_{rd}$ row (this choice is shown at the picture), then the field will become:\n```\nbwbw\nbwww\nwwwb\nwwwb\n```\n\nThe goal of the game is to flip either all pieces white side up or all pieces black side up. You are to write a program that will search for the minimum number of rounds needed to achieve this goal.\n"},{"title":"# Standard Input","format":"markdown","require":["katex"],"content":"\nThere are only one test case in the input file.\n\nThe input consists of $4$ lines with $4$ characters `w` or `b` each that denote game field position.\n"},{"title":"# Standard Output","format":"markdown","require":["katex"],"content":"\nWrite to the output file a single integer number - the minimum number of rounds needed to achieve the goal of the game from the given position. If the goal is initially achieved, then write 0. If it's impossible to achieve the goal, then write the word `Impossible` (without quotes).\n"},{"title":"# Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>bwwb\nbbwb\nbwwb\nbwww</td><td>4</td></tr></table>\n\n"}]}