{"title":"三国杀","time_limit":1000,"memory_limit":64,"url":"https://acm.uestc.edu.cn/problem/san-guo-sha/description","statement":[{"title":"Content","format":"markdown","require":["katex"],"content":"\n《三国杀》是一款热门的桌上游戏，融合了西方类似游戏的特点，并结合中国三国时期背景，以身份为线索，以卡牌为形式，集合历史、文学、美术等元素于一身。\n\n相信很多人都玩过这款游戏，在此只对此问题做简单介绍：\n* `【杀】`<br/>\n出牌阶段，攻击范围内对除自己以外的一名角色使用，效果是对该角色造成$1$点伤害。<br/>\n攻击范围是$1$。（当计算距离 $D\\leq 1$ 时，可以使用`【杀】`）\n*`【马】`<br/>\n  1. `- Num 【马】`<br/>\n    当该角色出`【杀】`计算与其他角色的距离时，始终$- Num$。（可以理解为一种进攻上的优势）。\n  2. `+ Num 【马】`<br/>\n    当其他角色出`【杀】`计算与该角色距离时，始终$+ Num$。（可以理解为一种防御上的优势）。\n  3. 一角色最多装备一匹`- Num1【马】` 和 最多一匹 `+ Num2 【马】`，可同时装备两种马。此处$Num\\_1$与$Num\\_2$无关\n\n由于《三国杀》理论上来说是可以没有人数限制的，所以你叫了$N$个人一起来玩，大家坐成了一圈，逆时针依次编号$1$到$N$，现给出$M$个操作，每个操作是以下两种之一：\n1. `N1 S Num`——表示编号为$N\\_1$的玩家将要装备或替换一张`【马】`。<br/>$S$ 为 `+` 或 `-` \n2.  `K A B` ——表示$A$对$B$使用一张`【杀】`询问$A$能否杀到$B$ 。<br/>能则输出`Yes!` ，否则输出`I'm sorry.` 。\n\n如图，赵云装备有一张`+1【马】`。\n\n![title](/source/lutece/san-guo-sha/img/aHR0cHM6Ly9hY20udWVzdGMuZWR1LmNuL21lZGlhL2ltYWdlL3Byb2JsZW0vMzAxLzIwMTQwNDA5MjE0NTI0ODU5Ni5qcGc=.jpg)\n\n此时，赵云杀关羽时距离$D = 1$。而关羽想杀赵云时距离$D = 2$。\n"},{"title":"Standard Input","format":"markdown","require":["katex"],"content":"\n第一行为$T$（$1\\leq T\\leq 10$），表示测试数据组数。\n\n每组数据第一行为两个整数$N$,$M$ 。（$2\\leq N\\leq 1000$ ，$1\\leq M\\leq 1000$）\n\n接下来有$M$行,每一行格式为 \n* `N1 S Num` （$1\\leq N\\_1\\leq N$ ， $S$ 为 `+` 或 `-` ，$1\\leq Num\\leq 100$，$N\\_1$和$Num$均为整数）\n* `K A B` （$1\\leq A,B\\leq N$，$A\\neq B$，$A$、$B$都是整数）\n\n假定游戏中无人阵亡。\n"},{"title":"Standard Output","format":"markdown","require":["katex"],"content":"\n对于为每组数据，先输出一行 `Case #C:`，$C$ 对应数据组数，$C$ 从$1$ 到 $T$ 。\n\n对于每一个格式为 `K A B` 的操作，则输出 `Yes!` 或 `I'm sorry.` 。\n\n**每组数据之后有一个空行。**\n"},{"title":"Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>2\n3 1\nK 1 3\n5 4\nK 1 3\nK 1 2\n1 - 1\nK 1 4</td><td>Case #1:\nYes!\n\nCase #2:\nI'm sorry.\nYes!\nYes!</td></tr></table>\n\n"}]}