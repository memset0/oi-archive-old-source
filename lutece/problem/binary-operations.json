{"title":"Binary Operations","time_limit":1000,"memory_limit":64,"url":"https://acm.uestc.edu.cn/problem/binary-operations/description","statement":[{"title":"# Content","format":"markdown","require":["katex"],"content":"\nBob has a sequence of $N$ integers. They are so attractive, that Alice begs to have a continued part of it(a continued part here also means a continued subsequence). However, Bob only allows Alice to chose it randomly. Can you give the expectation of the result of the bitwise `AND`, `OR`, `XOR` of all the chosen numbers?\n"},{"title":"# Standard Input","format":"markdown","require":["katex"],"content":"\nFirst line of the input is a single integer $T$($1 \\leq T \\leq 50$), indicating there are $T$ test cases.\n\nThe first line of each test case contains a single number $N$($1 \\leq N \\leq 50000$).\n\nThe second line contains $N$ integers, indicating the sequence.\n\nAll the $N$ integers are fit in $[0, 10^9]$.\n"},{"title":"# Standard Output","format":"markdown","require":["katex"],"content":"\nFor each test case, print `Case #t: a b c` , in which t is the number of the test case starting from $1$, $a$ is the expectation of the bitwise `AND`, $b$ is the expectation of `OR` and $c$ is the expectation of `XOR`.\n\nRound the answer to the sixth digit after the decimal point.\n"},{"title":"# Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>3\n2\n1 2\n3\n1 2 3\n3\n2 3 4</td><td>Case #1: 1.000000 2.000000 2.000000\nCase #2: 1.333333 2.500000 1.666667\nCase #3: 1.833333 4.333333 3.666667</td></tr></table>\n\n"},{"title":"# Note","format":"markdown","require":["katex"],"content":"\n`AND` is a binary operation, performed on two numbers in binary notation. First, the shorter number is prepended with leading zeroes until both numbers have the same number of digits (in binary). Then, the result is calculated as follows: for each bit where the numbers are both $1$ the result has $1$ in its binary representation. It has $0$ in all other positions.\n\n`OR` is a binary operation, performed on two numbers in binary notation. First, the shorter number is prepended with leading zeroes until both numbers have the same number of digits (in binary). Then, the result is calculated as follows: for each bit where the numbers are both $0$ the result has $0$ in its binary representation. It has $1$ in all other positions.\n\n`XOR` is a binary operation, performed on two numbers in binary notation. First, the shorter number is prepended with leading zeroes until both numbers have the same number of digits (in binary). Then, the result is calculated as follows: for each bit where the numbers differ the result has $1$ in its binary representation. It has $0$ in all other positions.\n"}]}