{"title":"Party Lamps","time_limit":1000,"memory_limit":16,"url":"https://acm.uestc.edu.cn/problem/party-lamps/description","statement":[{"title":"Content","format":"markdown","require":["katex"],"content":"\nTo brighten up the gala dinner of the IOI'98 we have a set of $N$ ($10\\leq N\\leq 100$) colored lamps numbered from $1$ to $N$.\n\nThe lamps are connected to four buttons:\n\n* Button $1$: When this button is pressed, all the lamps change their state: those that are `ON` are turned `OFF` and those that are `OFF` are turned `ON`.\n* Button $2$: Changes the state of all the odd numbered lamps.\n* Button $3$: Changes the state of all the even numbered lamps.\n* Button $4$: Changes the state of the lamps whose number is of the form $3\\times K+1$ (with $K\\geq 0$), i.e., $1,4,7,\\cdots $\n\nA counter $C$ records the total number of button presses.\n\nWhen the party starts, all the lamps are `ON` and the counter $C$ is set to zero.\n\nYou are given the value of counter $C$ ($0\\leq C\\leq 10000$) and the final state of some of the lamps after some operations have been executed. Write a program to determine all the possible final configurations of the N lamps that are consistent with the given information, without repetitions.\n"},{"title":"Standard Input","format":"markdown","require":["katex"],"content":"\nNo lamp will be listed twice in the input.\n\nLine $1$: $N$\n\nLine $2$: Final value of $C$\n\nLine $3$: Some lamp numbers `ON` in the final configuration, separated by one space and terminated by the integer $-1$.\n\nLine $4$: Some lamp numbers `OFF` in the final configuration, separated by one space and terminated by the integer $-1$.\n"},{"title":"Standard Output","format":"markdown","require":["katex"],"content":"\nLines with all the possible final configurations (without repetitions) of all the lamps. Each line has $N$ characters, where the first character represents the state of lamp 1 and the last character represents the state of lamp $N$. A $0$ (zero) stands for a lamp that is `OFF`, and a $1$ (one) stands for a lamp that is `ON`. The lines must be ordered from least to largest (as binary numbers).\n\nIf there are no possible configurations, output a single line with the single word `IMPOSSIBLE`\n"},{"title":"Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>10\n1\n-1\n7 -1</td><td>0000000000\n0101010101\n0110110110</td></tr></table>\n\n"},{"title":"Note","format":"markdown","require":["katex"],"content":"\nIn this case, there are three possible final configurations:\n\n* All lamps are `OFF`\n* Lamps $1, 4, 7, 10$ are `OFF` and lamps $2, 3, 5, 6, 8, 9$ are `ON`.\n* Lamps $1, 3, 5, 7, 9$ are `OFF` and lamps $2, 4, 6, 8, 10$ are `ON`.\n"}]}