{"title":"Cow Tours","time_limit":1000,"memory_limit":16,"url":"https://acm.uestc.edu.cn/problem/cow-tours/description","statement":[{"title":"Content","format":"markdown","require":["katex"],"content":"\nFarmer John has a number of pastures on his farm. Cow paths connect some pastures with certain other pastures, forming a field. But, at the present time, you can find at least two pastures that cannot be connected by any sequence of cow paths, thus partitioning Farmer John's farm into multiple fields.\n\nFarmer John would like add a single a cow path between one pair of pastures using the constraints below.\n\nA field's `diameter` is defined to be the largest distance of all the shortest walks between any pair of pastures in the field. Consider the field below with five pastures, located at the points shown, and cow paths marked by lines:\n\n```\n               (15,15) (20,15)\n                  D       E\n                  *-------*\n                  |     _/|\n                  |   _/  |\n                  | _/    |\n                  |/      |\n          *-------*-------*\n          A       B       C\n      (10,10)  (15,10) (20,10)\n```\n\nThe `diameter` of this field is approximately $12.07106$, since the longest of the set of shortest paths between pairs of pastures is the path from $A$ to $E$ (which includes the point set $\\\\{A,B,E\\\\}$). No other pair of pastures in this field is farther apart when connected by an optimal sequence of cow paths.\n\nSuppose another field on the same plane is connected by cow paths as follows:\n\n```\n                           *F(30,15)\n                         _/ \n                       _/  \n                     _/    \n                    /      \n                   *-------* \n                   G       H\n                (25,10) (30,10)\n```\n\nIn the scenario of just two fields on his farm, Farmer John would add a cow path between a point in each of these two fields (namely point sets $\\\\{A,B,C,D,E\\\\}$ and $\\\\{F,G,H\\\\}$) so that the joined set of pastures $\\\\{A,B,C,D,E,F,G,H\\\\}$ has the smallest possible diameter.\n\nNote that cow paths do not connect just because they cross each other; they only connect at listed points.\n\nThe input contains the pastures, their locations, and a symmetric `adjacency` matrix that tells whether pastures are connected by cow paths. Pastures are not considered to be connected to themselves. Here's one annotated adjacency list for the pasture $\\\\{A,B,C,D,E,F,G,H\\\\}$ as shown above:\n\n```\n   A  B  C  D  E  F  G  H \nA  0  1  0  0  0  0  0  0\nB  1  0  1  1  1  0  0  0\nC  0  1  0  0  1  0  0  0\nD  0  1  0  0  1  0  0  0\nE  0  1  1  1  0  0  0  0\nF  0  0  0  0  0  0  1  0\nG  0  0  0  0  0  1  0  1\nH  0  0  0  0  0  0  1  0\n```\n\nOther equivalent adjacency lists might permute the rows and columns by using some order other than alphabetical to show the point connections. The input data contains no names for the points.\n\nThe input will contain at least two pastures that are not connected by any sequence of cow paths.\n\nFind a way to connect exactly two pastures in the input with a cow path so that the new combined field has the smallest possible diameter of any possible pair of connected pastures. Output that smallest possible diameter.\n"},{"title":"Standard Input","format":"markdown","require":["katex"],"content":"\nLine $1$: An integer, $N$ ($1\\leq N\\leq 150$), the number of pastures\n\nLine $2-N+1$: Two integers, $X$ and $Y$ ($0\\leq X ,Y\\leq 100000$), that denote that $X$,$Y$ grid location of the pastures; all input pastures are unique.\n\nLine $N+2-2\\times N+1$: lines, each containing $N$ digits ($0$ or $1$) that represent the adjacency matrix as described above, where the rows' and columns' indices are in order of the points just listed.\n"},{"title":"Standard Output","format":"markdown","require":["katex"],"content":"\nThe output consists of a single line with the diameter of the newly joined pastures. Print the answer to exactly six decimal places. Do not perform any special rounding on your output.\n"},{"title":"Samples","format":"markdown","require":["katex"],"content":"\n<style>\n        table,table tr th, table tr td { border:1px solid #0094ff; }\n        table { width: 200px; min-height: 25px; line-height: 25px; text-align: center; border-collapse: collapse;}   \n    </style>\n<table>\n\t<tr>\n\t\t<td>Input</td>\n\t\t<td>Output</td>\n\t</tr>\n<tr><td>8\n10 10\n15 10\n20 10\n15 15\n20 15\n30 15\n25 10\n30 10\n01000000\n10111000\n01001000\n01001000\n01110000\n00000010\n00000101\n00000010</td><td>22.071068</td></tr></table>\n\n"}]}