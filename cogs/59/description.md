# 题目描述


<b><span style="font-size:large;">题目描述</span></b>
<div>
我们来玩一个叫空格的牌类游戏。你有28张用两位数标记的牌，第一位(从1到4)表示不同的花色，第二位(从1到7)表示牌的值。
</div>
<div>
首先，你先洗牌，然后将它们排成四行，每行七张，在每行的最左边留一张牌的位置。下面给出一个可能的最初排布。
</div>
<div>
 
</div>
<table style="border:medium none;border-collapse:collapse;" border="1" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td style="border:1pt solid windowtext;padding:0cm 5.4pt;" valign="top">
<div>
 
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
42
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
21
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
13
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
22
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
32
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
26
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
23
</div>
</td>
</tr>
<tr>
<td style="border-style:none solid solid;border-color:-moz-use-text-color windowtext windowtext;border-width:medium 1pt 1pt;padding:0cm 5.4pt;" valign="top">
<div>
 
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
16
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
43
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
47
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
14
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
24
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
34
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
36
</div>
</td>
</tr>
<tr>
<td style="border-style:none solid solid;border-color:-moz-use-text-color windowtext windowtext;border-width:medium 1pt 1pt;padding:0cm 5.4pt;" valign="top">
<div>
 
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
46
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
17
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
27
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
31
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
11
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
37
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
12
</div>
</td>
</tr>
<tr>
<td style="border-style:none solid solid;border-color:-moz-use-text-color windowtext windowtext;border-width:medium 1pt 1pt;padding:0cm 5.4pt;" valign="top">
<div>
 
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
35
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
41
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
44
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
25
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
15
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
33
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
45
</div>
</td>
</tr>
</tbody>
</table>
<div>
 
</div>
<div>
下一步，你移动所有值为1的牌，将它们放在左边的空格里：11放在最上面,12放在下一格，如此放下去。
</div>
<div>
现在你有28张牌和4个空格，排成4行8列。如上述举例，你从下面情况开始移动。
</div>
<div>
 
</div>
<table style="border:medium none;border-collapse:collapse;" border="1" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td style="border:1pt solid windowtext;padding:0cm 5.4pt;" valign="top">
<div>
11
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
42
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
 
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
13
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
22
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
32
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
26
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
23
</div>
</td>
</tr>
<tr>
<td style="border-style:none solid solid;border-color:-moz-use-text-color windowtext windowtext;border-width:medium 1pt 1pt;padding:0cm 5.4pt;" valign="top">
<div>
21
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
16
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
43
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
47
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
14
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
24
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
34
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
36
</div>
</td>
</tr>
<tr>
<td style="border-style:none solid solid;border-color:-moz-use-text-color windowtext windowtext;border-width:medium 1pt 1pt;padding:0cm 5.4pt;" valign="top">
<div>
31
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
46
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
17
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
27
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
 
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
 
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
37
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
12
</div>
</td>
</tr>
<tr>
<td style="border-style:none solid solid;border-color:-moz-use-text-color windowtext windowtext;border-width:medium 1pt 1pt;padding:0cm 5.4pt;" valign="top">
<div>
41
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
35
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
 
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
44
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
25
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
15
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
33
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
45
</div>
</td>
</tr>
</tbody>
</table>
<div>
 
</div>
<div>
每一步移动，你选择四个空格之一，将该空格左边的牌的<b>后继牌</b>放进去。后继牌是指同一花色的下一张牌。例如42的后继牌时42，27没有后继牌。
</div>
<div>
 
</div>
<div>
在上面的情况中，你可以将43移动到43的右边的空格中，或者将36移动到35的右边。例如你移动43，16的右边后产生一个新的空格。你不能将派移动到价值为7的牌的右边，也不能移动到空格的右边。
</div>
<div>
 
</div>
<div>
游戏的目标是，选择最佳移动，使得每种花色各自成上升序列，如下表。
</div>
<div>
 
</div>
<table style="border:medium none;border-collapse:collapse;" border="1" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td style="border:1pt solid windowtext;padding:0cm 5.4pt;" valign="top">
<div>
11
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
12
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
13
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
14
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
15
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
16
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
17
</div>
</td>
<td style="border-style:solid solid solid none;border-color:windowtext windowtext windowtext -moz-use-text-color;border-width:1pt 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
 
</div>
</td>
</tr>
<tr>
<td style="border-style:none solid solid;border-color:-moz-use-text-color windowtext windowtext;border-width:medium 1pt 1pt;padding:0cm 5.4pt;" valign="top">
<div>
21
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
22
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
23
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
24
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
25
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
26
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
27
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
 
</div>
</td>
</tr>
<tr>
<td style="border-style:none solid solid;border-color:-moz-use-text-color windowtext windowtext;border-width:medium 1pt 1pt;padding:0cm 5.4pt;" valign="top">
<div>
31
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
32
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
33
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
34
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
35
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
36
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
37
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
 
</div>
</td>
</tr>
<tr>
<td style="border-style:none solid solid;border-color:-moz-use-text-color windowtext windowtext;border-width:medium 1pt 1pt;padding:0cm 5.4pt;" valign="top">
<div>
41
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
42
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
43
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
44
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
45
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
46
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
47
</div>
</td>
<td style="border-style:none solid solid none;border-color:-moz-use-text-color windowtext windowtext -moz-use-text-color;border-width:medium 1pt 1pt medium;padding:0cm 5.4pt;" valign="top">
<div>
 
</div>
</td>
</tr>
</tbody>
</table>
<div>
 
</div>
<div>
你的任务是计算到达目标状态所需的最少移动。
</div>
<div>
 
</div>
<div>
输入格式
</div>
<div>
 
</div>
<div>
4行7列，表示初始状态。
</div>
<div>
 
</div>
<div>
输出格式
</div>
<div>
 
</div>
<div>
一个整数，到达目标状态所需的最少移动。最初移动4张值为1的牌的移动不算在内。如果没法到达，输出-1。
</div>
<div>
 
</div>
<div>
输入样例
</div>
<div>
26 31 13 44 21 24 42
</div>
<div>
17 45 23 25 41 36 11
</div>
<div>
46 34 14 12 37 32 47
</div>
<div>
16 43 27 35 22 33 15
</div>
<div>
 
</div>
<div>
输出样例
</div>
<div>
33
</div>
<p>
 
</p>
