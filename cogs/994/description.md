# 题目描述


<p>
【题目描述】
</p>
<p>
<br/>
</p>
<p>
要求你写一个程序，在一个地图中，找到最小步数将每个鬼移动到他们指定的位置。地图包含一些小方格。每格要么是墙（鬼不能进入），要么是走廊（鬼能进入）。
</p>
<p>
每一步里，你可以同时移动任意数量的鬼。每个鬼要么待在原地不动，要么移动到相邻的格子里（相邻的格子有公共边），如果移动满足下列条件，则移动是可行的。
</p>
<p>
1. 没有一个以上的鬼在同一个格子里。
</p>
<p>
2. 没有一对鬼在一步里交换了位置。
</p>
<p>
例如，假设鬼的位置是如右上图所示的，其中 sharp(#) 表示墙，空格表示走廊， a ， b ， c 表示鬼：
</p>
<p>
####
</p>
<p>
 ab#
</p>
<p>
#c##
</p>
<p>
####
</p>
<p>
经过一步移动过后，地图可以变成如下的样子：
</p>
<p>
#### #### #### ####
</p>
<p>
  ab# a b# acb# ab  #
</p>
<p>
#c## #c## # ## #c##
</p>
<p>
#### #### #### ####
</p>
<p>
<br/>
</p>
<p>
【输入格式】
</p>
<p>
<br/>
</p>
<p>
输入包括最多 10 组数据，每组数据包含一幅地图。输入格式如下：
</p>
<p>
第一行的 w ， h 和 n 表示地图的宽度和高度， n 表示鬼的数目，他们满足：
</p>
<p>
4 ≤ w ≤ 16, 4 ≤ h ≤ 16, 1 ≤ n ≤ 3
</p>
<p>
接下来 h 行，每行 w 个字符：
</p>
<p>
一个 # 表示墙。
</p>
<p>
一个小写字母表示鬼的初始位置（该位置也是走廊）。
</p>
<p>
一个大写字母表示鬼的目标位置（该位置也是走廊）。
</p>
<p>
一个空格表示空的走廊。
</p>
<p>
在每幅地图里，前 n 个小写字母和前 n 个大写字母表示鬼的初始位置及鬼的目标位置。我们需要将小写字母表示的鬼移动到对应的大写字母的位置里。
</p>
<p>
最后一组数据后一行有三个 0 。
</p>
<p>
<br/>
</p>
<p>
【输出格式】
</p>
<p>
对每组数据输出一行一个整数，表示最小的移动步数。
</p>
<p>
【输入样例】
</p>
<p>
<br/>
</p>
<p>
5 5 2
</p>
<p>
#####
</p>
<p>
#A#B#
</p>
<p>
#   #
</p>
<p>
#b#a#
</p>
<p>
#####
</p>
<p>
16 4 3
</p>
<p>
################
</p>
<p>
## ########## ##
</p>
<p>
#    ABCcba    #
</p>
<p>
################
</p>
<p>
16 16 3
</p>
<p>
################
</p>
<p>
### ##    #   ##
</p>
<p>
##  #  ##   # c#
</p>
<p>
#  ## ########b#
</p>
<p>
# ##  # #   #  #
</p>
<p>
#  # ##   # # ##
</p>
<p>
##  a#  # # #  #
</p>
<p>
### ## #### ## #
</p>
<p>
##   #   #  #  #
</p>
<p>
#  ##### # ## ##
</p>
<p>
####   #B# #   #
</p>
<p>
##  C#   #   ###
</p>
<p>
#  # # ####### #
</p>
<p>
# ######  A##  #
</p>
<p>
#        #    ##
</p>
<p>
################
</p>
<p>
<br/>
</p>
<p>
【输出样例】
</p>
<p>
<br/>
</p>
<p>
7
</p>
<p>
36
</p>
<p>
77
</p>
<p>
<br/>
</p>
<p>
<br/>
</p>
