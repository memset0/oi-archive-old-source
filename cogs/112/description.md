# 题目描述


<p>
【问题描述】
</p>
<p>
    佳佳刚进高中，在军训的时候，由于佳佳吃苦耐劳，很快得到了教官的赏识，成为了“小 教官”。在军训结束的那天晚上，佳佳被命令组织同学们进行篝火晚会。一共有 n 个同学，编号从 1 到 n 。一开始，同学们按照 1 ， 2 ，……， n 的顺序坐成一圈，而实际上每个人都有两个最希望相邻的同学。如何下命令调整同学的次序，形成新的一个圈，使之符合同学们的意愿，成为摆在佳佳面前的一大难 题。
</p>
<p>
<br/>
</p>
<p>
    佳佳可向同学们下达命令，每一个命令的形式如下：(b 1 , b 2 ,... b m -1 , b m ) 
</p>
<p>
    b1,b2....b m可以不是连续的，比如说可以这样命令(1,8,10)
</p>
<p>
    这 里 m 的值是由佳佳决定的，每次命令 m 的值都可以不同。这个命令的作用是移动编号是 b 1 ， b 2 ，…… b m –1 ， b m 的这 m 个同学的位置。要求 b 1 换到 b 2 的位置上， b 2 换到 b 3 的位置上，……，要求 b m 换到 b 1 的位置上。
</p>
<p>
    执行每个命令都需要一些代价。我们假定如果一个命令要移动 m 个人的位置，那么这个命令的代价就是 m 。我们需要佳佳用最少的总代价实现同学们的意愿，你能帮助佳佳吗？
</p>
<p>
<br/>
【输入文件】 <br/>
<br/>
      输入文件 的第一行是一个整数 n （ 3 &lt;= n &lt;= 50000 ），表示一共有 n 个同学。其后 n 行每行包括两个不同的正整数，以一个空格隔开，分别表示编号是 1 的同学最希望相邻的两个同学的编号，编号是 2 的同学最希望相邻的两个同学的编号，……，编号是 n 的同学最希望相邻的两个同学的编号。 <br/>
<br/>
【输出文件】 <br/>
<br/>
                 输出文件 包括一行，这一行只包含一个整数，为最小的总代价。如果无论怎么调整都不能符合每个同学的愿望，则输出 -1 。 <br/>
<br/>
【输出样例】 <br/>
<strong><br/>
</strong> 
</p>
<p>
4<br/>
3 4<br/>
4 3<br/>
1 2<br/>
1 2
</p>
<p>
【输出样例】
</p>
<p>
2
</p>
<p>
【数据规模】
</p>
<p>
对于30%的数据，n &lt;= 1000；
</p>
<p>
对于全部的数据，n &lt;= 50000。
</p>
