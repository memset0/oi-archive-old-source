# 题目描述


<h3>
【题目描述】
</h3>
<p>
给定一个序列，下标从$0$开始，分别为$a_0,a_1,a_2...a_{n-1}$，有$m$个询问，每次给出$l$和$r$，求满足$a_i=a_j且l&lt;=i&lt;=j&lt;=r时j-i的最大值$
</p>
<p>
本题强制在线，$l$和$r$均进行了加密，解密过程为
</p>
<p>
$l&#39;=min((l+ans)mod\quad n,(r+ans)mod\quad n)$
</p>
<p>
$r&#39;=max((l+ans)mod\quad n,(r+ans)mod\quad n)$
</p>
<p>
其中$ans$为上次答案
</p>
<h3>
【输入格式】
</h3>
<p>
第一行，两个正整数$n,m$
</p>
<p>
第二行，$n$个非负整数$a_0,a_1,a_2...a_{n-1}$
</p>
<p>
以下$m$行，每行两个数$l,r$，表示询问
</p>
<h3>
【输出格式】
</h3>
<p>
$m$行，表示答案
</p>
<h3>
【样例输入】
</h3>
<pre>5 3
0 4 0 0 1
3 2
4 1
0 0</pre>
<h3>
【样例输出】
</h3>
<pre>1
2
0</pre>
<h3>
【提示】
</h3>
<p>
$1&lt;=n,m&lt;=100000$
</p>
<p>
$0&lt;=a_i&lt;n,0&lt;=i&lt;n$
</p>
<p>
$0&lt;=l,r&lt;n$
</p>
<h3>
【来源】
</h3>
<p>
国家集训队2015论文集
</p>
