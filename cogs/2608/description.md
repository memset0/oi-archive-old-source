# 题目描述


<p>
【题目描述】
</p>
<p>
给定一棵无根树，第i个节点的权值为v_i，要求支持两个操作：
</p>
<p>
*将节点x的权值v_x修改为y
</p>
<p>
*选择一个连通块（0个节点也可以），使得这个连通块包含的点点权和最大
</p>
<p>
【输入格式】
</p>
<p>
第一行两个整数n,m。
</p>
<p>
第二行n个整数，第i个整数表示节点i的初始权值v_i。
</p>
<p>
接下来n-1行，每行两个整数x_i,y_i，描述树的一条边(x_i,y_i)。
</p>
<p>
接下来m行，每行描述一个操作：
</p>
<p>
*如果格式为1 x y，则表示将节点x的权值v_x修改为y
</p>
<p>
*如果格式为2，则表示一个询问操作，求出点权和最大的连通块的点权和
</p>
<p>
【输出格式】
</p>
<p>
对于每个询问操作，输出得到的点权和。
</p>
<p>
【样例输入】
</p>
<p>
5 7
</p>
<p>
2 -1 -3 1 1
</p>
<p>
1 2
</p>
<p>
1 3
</p>
<p>
3 4
</p>
<p>
3 5
</p>
<p>
2
</p>
<p>
1 3 0
</p>
<p>
2
</p>
<p>
1 2 1
</p>
<p>
2 1 1 -3
</p>
<p>
2
</p>
<p>
【样例输出】
</p>
<p>
2
</p>
<p>
4
</p>
<p>
5
</p>
<p>
2
</p>
<p>
【提示】
</p>
<p>
对于30%的数据，1 &lt;= n,m &lt;= 10^3。
</p>
<p>
对于另外20%的数据，1 &lt;= n,m &lt;= 10^5，树形态为一条链。
</p>
<p>
对于100%的数据，1 &lt;= n,m &lt;= 10^5，|v_i| &lt;= 1000。
</p>
<p>
【来源】
</p>
<p>
2016河南省队集训，数据是Mike造的，如果数据有误请联系Mike，谁有官测直接刷掉就好。
</p>
