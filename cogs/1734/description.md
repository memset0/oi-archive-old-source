# 题目描述


<h3>
【题目描述】
</h3>
<p>
一个迷宫是一棵树（即一张无向图，其中任意两点之间仅有一条路径）。迷宫的起点和终点都按照某种概率随机选取。人们会在迷宫中用深度优先搜索的方法搜寻终点。如果有许多条可能的路径，会等概率地选取一条。考虑如下伪代码：
</p>
<p>
<br/>
</p>
<pre class="prettyprint lang-cpp">DFS(x)
    if x == exit vertex then
        finish search
    flag[x] &lt;- TRUE
    random shuffle the vertices&#39; order in V(x) // here all permutations have equal probability to be chosen
    for i &lt;- 1 to length[V] do
        if flag[V[i]] = FALSE then
            count++;
            DFS(y);
    count++;</pre>
<p>
V(x)是和x相邻的顶点列表。最初flag数组的值均为false。第一次DFS的参数是迷宫的入口节点。当搜索终止，变量count的值就是在迷宫中走的步数。
</p>
<p>
你的任务是计算在迷宫中从入口到出口，所走的期望步数。
</p>
<h3>
【输入格式】
</h3>
<p>
输入文件的第一行是图的顶点数n（1&lt;=n&lt;=10^5）。接下来n-1行每行有一对整数ai和bi，代表顶点ai和bi之间有一条边（1&lt;=ai,bi&lt;=n）。保证所给的图是一棵树。
</p>
<p>
接下来的n行每行有两个非负整数xi,yi，起点i被选为入口的概率是xi/∑xi，被选为出口的概率是yi/∑yi。∑xi和∑yi都不超过10^6.
</p>
<h3>
【输出格式】
</h3>
<p>
输出一行一个实数，即步数的期望值。你程序输出与标准输出的相对误差不能超过10^-9。
</p>
<h3>
【样例输入】
</h3>
<h4>
样例输入1：
</h4>
<p>
2
</p>
<p>
1 2
</p>
<p>
0 1
</p>
<p>
1 0
</p>
<p>
<br/>
</p>
<h4>
样例输入2：
</h4>
<p>
3
</p>
<p>
1 2
</p>
<p>
1 3
</p>
<p>
1 0
</p>
<p>
0 2
</p>
<p>
0 3
</p>
<p>
<br/>
</p>
<h4>
样例输入3：
</h4>
<p>
7
</p>
<p>
1 2
</p>
<p>
1 3
</p>
<p>
2 4
</p>
<p>
2 5
</p>
<p>
3 6
</p>
<p>
3 7
</p>
<p>
1 1
</p>
<p>
1 1
</p>
<p>
1 1
</p>
<p>
1 1
</p>
<p>
1 1
</p>
<p>
1 1
</p>
<p>
1 1
</p>
<p>
<br/>
</p>
<h3>
【样例输出】
</h3>
<h4>
样例输出1：
</h4>
<p>
1.00000000000000000000
</p>
<p>
<br/>
</p>
<h4>
样例输出2：
</h4>
<p>
2.00000000000000000000
</p>
<p>
<br/>
</p>
<h4>
样例输出3：
</h4>
<p>
4.04081632653
</p>
<h3>
【提示】
</h3>
<p>
在第一组样例中，入口总是1，出口总是2.
</p>
<p>
在第二组样例中，入口总是1，出口有2/5的可能性是1，有3/5的可能性是3.无论出口是2或3，步数的期望值都是相等的（因为图是对称的）。第一步有0.5的概率走到出口，有0.5的概率走到另一个节点。对于第一种情况，步数是1，对于第二种情况步数是3.因此步数的数学期望就是2/5*(1*0.5+3*0.5)+3/5*(1*0.5+3*0.5)。
</p>
<h3>
【来源】
</h3>
<p>
<a href="http://codeforces.com/problemset/problem/123/E" target="_blank">CODEFORCES 123E</a> 
</p>
