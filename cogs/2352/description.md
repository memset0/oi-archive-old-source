# 题目描述


<h3>
【题目描述】
</h3>
<p>
维护一个序列支持以下操作
</p>
<p>
1 l r 把第r个数移动到第l个数的前面
</p>
<p>
2 x y 在第x个数之前插入一个值为y的数
</p>
<p>
3 x 把第x个位置上的数删掉
</p>
<p>
4 l r d 询问序列第l到第r个数有多少个数为d
</p>
<h3>
【输入格式】
</h3>
<p>
第一行一个数N,表示开始序列有N个数
</p>
<p>
接下来一行有N个数,表示序列中每个数的值
</p>
<p>
之后有一个数M,表示M个操作
</p>
<p>
接下来M行,每行是一个操作,操作见题目描述
</p>
<h3>
【输出格式】
</h3>
<p>
对于每个询问输出一行一个数,表示对应的答案
</p>
<h3>
【样例输入】
</h3>
<p>
<br/>
</p>
<p>
100
</p>
<p>
5 5 1 4 4 3 3 2 4 3 1 1 5 2 3 4 4 2 4 5 2 1 4 3 4 4 1 1 3 5 1 3 4 3 5 5 1 1 5 1 2 1 3 3 5 3 2 3 4 4 3 2 5 5 2 5 4 4 1 2 2 1 1 1 2 5 5 4 1 1 3 5 5 3 1 1 2 1 4 4 3 4 2 4 5 5 4 5 5 2 3 5 3 3 3 1 3 3 3 2
</p>
<p>
100
</p>
<p>
2 64 1
</p>
<p>
1 41 88
</p>
<p>
4 36 89 2
</p>
<p>
4 43 100 4
</p>
<p>
4 41 86 2
</p>
<p>
1 39 61
</p>
<p>
4 45 77 3
</p>
<p>
1 9 42
</p>
<p>
1 7 27
</p>
<p>
2 34 3
</p>
<p>
2 17 1
</p>
<p>
1 36 76
</p>
<p>
1 2 94
</p>
<p>
4 8 27 3
</p>
<p>
4 33 103 1
</p>
<p>
2 60 2
</p>
<p>
1 13 63
</p>
<p>
1 44 64
</p>
<p>
1 2 14
</p>
<p>
4 49 102 1
</p>
<p>
4 47 59 1
</p>
<p>
1 52 58
</p>
<p>
3 89
</p>
<p>
2 80 4
</p>
<p>
1 23 88
</p>
<p>
3 46
</p>
<p>
1 36 84
</p>
<p>
1 49 68
</p>
<p>
4 67 98 1
</p>
<p>
3 11
</p>
<p>
2 60 3
</p>
<p>
3 22
</p>
<p>
1 30 46
</p>
<p>
2 1 2
</p>
<p>
2 26 1
</p>
<p>
4 62 77 3
</p>
<p>
1 30 77
</p>
<p>
4 41 83 2
</p>
<p>
2 54 1
</p>
<p>
2 82 5
</p>
<p>
3 79
</p>
<p>
2 44 3
</p>
<p>
3 106
</p>
<p>
2 86 5
</p>
<p>
3 102
</p>
<p>
2 37 1
</p>
<p>
3 88
</p>
<p>
1 48 55
</p>
<p>
2 39 2
</p>
<p>
1 62 85
</p>
<p>
1 1 49
</p>
<p>
3 63
</p>
<p>
3 93
</p>
<p>
2 69 5
</p>
<p>
3 35
</p>
<p>
3 23
</p>
<p>
4 81 93 4
</p>
<p>
1 38 43
</p>
<p>
2 68 5
</p>
<p>
2 57 5
</p>
<p>
3 102
</p>
<p>
4 32 60 2
</p>
<p>
4 59 93 1
</p>
<p>
1 40 85
</p>
<p>
3 100
</p>
<p>
4 41 54 3
</p>
<p>
1 25 38
</p>
<p>
1 28 41
</p>
<p>
2 97 5
</p>
<p>
2 90 1
</p>
<p>
3 55
</p>
<p>
1 49 51
</p>
<p>
4 76 98 2
</p>
<p>
1 85 93
</p>
<p>
4 6 62 5
</p>
<p>
1 5 38
</p>
<p>
2 79 5
</p>
<p>
3 15
</p>
<p>
4 25 70 3
</p>
<p>
2 50 1
</p>
<p>
4 15 26 5
</p>
<p>
3 8
</p>
<p>
4 31 91 3
</p>
<p>
4 12 35 4
</p>
<p>
4 59 79 5
</p>
<p>
3 50
</p>
<p>
2 66 3
</p>
<p>
2 64 2
</p>
<p>
3 29
</p>
<p>
1 21 34
</p>
<p>
3 9
</p>
<p>
3 43
</p>
<p>
2 13 2
</p>
<p>
4 40 86 1
</p>
<p>
4 33 70 3
</p>
<p>
1 28 48
</p>
<p>
3 17
</p>
<p>
3 96
</p>
<p>
3 98
</p>
<p>
4 42 53 1
</p>
<p>
<br/>
</p>
<h3>
【样例输出】
</h3>
<p>
<br/>
</p>
<p>
9
</p>
<p>
9
</p>
<p>
9
</p>
<p>
7
</p>
<p>
3
</p>
<p>
16
</p>
<p>
12
</p>
<p>
2
</p>
<p>
10
</p>
<p>
1
</p>
<p>
8
</p>
<p>
4
</p>
<p>
5
</p>
<p>
8
</p>
<p>
4
</p>
<p>
1
</p>
<p>
13
</p>
<p>
11
</p>
<p>
4
</p>
<p>
13
</p>
<p>
6
</p>
<p>
7
</p>
<p>
9
</p>
<p>
10
</p>
<p>
3
</p>
<p>
<br/>
</p>
<h3>
【数据范围和约定】
</h3>
<p>
对于100%的数据N&lt;=250000,M&lt;=250000,序列每个数在int范围之内且为正整数
</p>
<p>
对于10%的数据 N&lt;=100 且和样例的输出一样
</p>
<p>
对于另外10%的数据 N,M&lt;=5000
</p>
<p>
对于另外10%的数据 序列每个数&lt;=3
</p>
<p>
对了另外30%的数据 N&lt;=100000,每个数&lt;=100000
</p>
<p>
<br/>
</p>
<p>
而且出题人喜欢卡常数,所以请注意常数因子对程序的影响
</p>
