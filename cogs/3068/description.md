# 题目描述


<h3>
【数据生成】
</h3>
<p>
哈哈，想自测就把下面代码打下来吧！
</p>
<p>
<img src="/upload/image/20190331/20190331205258_23472.jpg" alt=""/> 
</p>
<h3>
【题目描述】
</h3>
<p>
hs有一本法书，可以表示为一个长为n的数组a[1..n]。由于是法书，这个数组还可能会改变。好奇的J看到后，希望进行一些询问，每次询问给出l,r,x,y，求有多少个极大下标集合，其中的下标连续且在[l,r]内，且同一集合中的下标对应的数组中元素均相同且在[x,y]内。
</p>
<h3>
【输入格式】
</h3>
<p>
第一行输入n,m；
</p>
<p>
接下来一行n个数表示初始数列ai；
</p>
<p>
接下来m个操作，操作有如下两种：
</p>
<p>
1 k w：ak变成了w；
</p>
<p>
2 l r x y：表示询问。
</p>
<h3>
【输出格式】
</h3>
<p>
对于每个询问输出答案。
</p>
<h3>
【样例输入】
</h3>
<pre>5 5
3 3 3 5 5
2 2 3 4 5
2 2 3 3 4
1 3 1
2 1 5 3 5
2 2 3 1 4
</pre>
<h3>
【样例输出】
</h3>
<pre>0
1
2
2
</pre>
<h3>
【提示】
</h3>
<p>
对于30%的数据，n,m≤1000；
</p>
<p>
对于所有数据，1≤ai≤n，1≤n,m≤100000。
</p>
<h3>
【来源】
</h3>
<p>
luogu and hs
</p>
