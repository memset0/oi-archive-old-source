{"title":"[国家集训队2011]stone","time_limit":0,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=viiySkUqW","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<div class=\"content\">\n<!--begin main-->\n<!-- InstanceBeginEditable name=\"content\" -->\n<h3>\n【试题来源】\n</h3>\n<div id=\"psrc\" style=\"margin-top:20px;display:block;\">\n<div class=\"pdcont\">\n2011中国国家集训队命题答辩\n</div>\n</div>\n<div id=\"pinputs\" style=\"display:none;\">\n<div class=\"pdsec\">\n输入数据\n</div>\n<div class=\"pdcont\">\n<span class=\"notice\"> 这是一道提交答案的试题，下面给出了该题的输入数据：</span> \n</div>\n<div id=\"inputlist\" class=\"pddata\">\n</div>\n</div>\n<div id=\"pcont1\" style=\"margin-top:20px;display:block;\">\n<h3>\n【问题描述】\n</h3>\n<div class=\"pdcont\">\n话说Nan在海边等人，预计还要等上M分钟。为了打发时间，他玩起了石子。<br/>\nNan搬来了N堆石子，编号为1到N，每堆包含Ai颗石子。<br/>\n每1分钟，Nan会在编号在[Li,Ri]之间的石堆中挑出任意Ki颗扔向大海（好疼的玩法），如果[Li,Ri]剩下石子不够Ki颗，则取尽量地多。<br/>\n为了保留扔石子的新鲜感，Nan保证任意两个区间[Li,Ri]和[Lj,Rj] ，不会存在Li&lt;=Lj &amp; Rj&lt;=Ri的情况，即任意两段区间不存在包含关系。<br/>\n可是，如果选择不当，可能无法扔出最多的石子，这时NN就会不高兴了。所以他希望制定一个计划，他告诉你他m分钟打算扔的区间[Li,Ri]以及Ki。<br/>\n现在他想你告诉他，在满足前i-1分钟都取到你回答的颗数的情况下，第i分钟最多能取多少个石子。\n</div>\n<h3>\n【输入格式】\n</h3>\n<div class=\"pdcont\">\n第一行正整数N，表示石子的堆数；<br/>\n第二行正整数x,y,z,P，(1&lt;=x,y,z&lt;=N;P&lt;=500)<br/>\n有等式A[i]=[(i-x)^2+(i-y)^2+(i-z)^2] mod P；<br/>\n第三行正整数M，表示有M分钟；<br/>\n第四行正整数K[1],K[2],x,y,z,P，(x,y,z&lt;=1000;P&lt;=10000)<br/>\n有等式K[i]=(x*K[i-1]+y*K[i-2]+z)mod P。<br/>\n接下来M行，每行两个正整数L[i],R[i]。\n</div>\n<h3>\n【输出格式】\n</h3>\n<div class=\"pdcont\">\n有M行，第i行表示第i分钟最多能取多少石子。\n</div>\n<h3>\n【样例输入】\n</h3>\n<div class=\"pddata\">\n5<br/>\n3 2 4 7<br/>\n3<br/>\n2 5 2 6 4 9<br/>\n2 4<br/>\n1 2<br/>\n3 5\n</div>\n<h3>\n【样例输出】\n</h3>\n<div class=\"pddata\">\n2<br/>\n5<br/>\n5\n</div>\n<h3>\n【样例说明】\n</h3>\n<div class=\"pdcont\">\n石子每堆个数分别为0,5,2,5,0。<br/>\n第1分钟，从第2到第4堆中选2个；<br/>\n第2分钟，从第1到第2堆中选5个；<br/>\n第3分钟，从第3到第5堆中选8个，但最多只能选5个。\n</div>\n<h3>\n【数据规模和约定】\n</h3>\n<div class=\"pdcont\">\n20%   N&lt;=10<br/>\n50%   N&lt;=2000<br/>\n100%  N&lt;=40000   M&lt;=N   1&lt;=L[i]&lt;=R[i]&lt;=N   A[i]&lt;=500\n</div>\n</div>\n<div id=\"pcont2\" style=\"margin-top:20px;display:none;\">\n<p style=\"margin:13pt 0cm;\" class=\"NOI\">\n<span style=\"font-size:small;\"><span style=\"font-family:黑体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-ascii-theme-font:major-latin;mso-hansi-theme-font:major-latin;\">【问题描述】</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    话说</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">Nan</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">在海边等人，预计还要等上</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">M</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">分钟。为了打发时间，他玩起了石子。</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span style=\"font-size:small;\"><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>Nan</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">搬来了</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">N</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">堆石子，编号为</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">1</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">到</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">N</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">，每堆包含</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">Ai</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">颗石子。</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">每</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">1</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">分钟，</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">Nan</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">会在编号在</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">[Li,Ri]</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">之间的石堆中挑出任意</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">Ki</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">颗扔向大海（好疼的玩法），如果</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">[Li,Ri]</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">剩下石子不够</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">Ki</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">颗，则取尽量地多。</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>为了保留扔石子的新鲜感，</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">Nan</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">保证任意两个区间</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">[Li,Ri]</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">和</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">[Lj,Rj] </span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">，不会存在</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">Li&lt;=Lj &amp; Rj&lt;=Ri</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">的情况，即任意两段区间不存在包含关系。</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>可是，如果选择不当，可能无法扔出最多的石子，这时</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">NN</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">就会不高兴了。所以他希望制定一个计划，他告诉你他</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">m</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">分钟打算扔的区间</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">[Li,Ri]</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">以及</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">Ki</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">。</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>现在他想你告诉他，在满足前</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">i-1</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">分钟都取到你回答的颗数的情况下，第</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">i</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">分钟最多能取多少个石子。</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:13pt 0cm;\" class=\"NOI\">\n<span style=\"font-size:small;\"><span style=\"font-family:黑体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-ascii-theme-font:major-latin;mso-hansi-theme-font:major-latin;\">【输入格式】</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>第一行正整数</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">N</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">，表示石子的堆数；</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>第二行正整数</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">x,y,z,P</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">，</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">(1&lt;=x,y,z&lt;=N;P&lt;=500)<o:p></o:p></span></span></span> \n</p>\n<p style=\"text-indent:48pt;margin:0cm 0cm 0pt;mso-char-indent-count:4.0;\" class=\"NOI0\">\n<span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">有等式</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">A[i]=[(i-x)^2+(i-y)^2+(i-z)^2] mod P</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">；</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>第三行正整数</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">M</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">，表示有</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">M</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">分钟；</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>第四行正整数</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">K[1],K[2],x,y,z,P</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">，</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">(x,y,z&lt;=1000;P&lt;=10000)<o:p></o:p></span></span></span> \n</p>\n<p style=\"text-indent:48pt;margin:0cm 0cm 0pt;mso-char-indent-count:4.0;\" class=\"NOI0\">\n<span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">有等式</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">K[i]=(x*K[i-1]+y*K[i-2]+z)mod P</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">。</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>接下来</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">M</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">行，每行两个正整数</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">L[i],R[i]</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">。</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:13pt 0cm;\" class=\"NOI\">\n<span style=\"font-size:small;\"><span style=\"font-family:黑体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-ascii-theme-font:major-latin;mso-hansi-theme-font:major-latin;\">【输出格式】</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>有</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">M</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">行，第</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">i</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">行表示第</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">i</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">分钟最多能取多少石子。</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:13pt 0cm;\" class=\"NOI\">\n<span style=\"font-size:small;\"><span style=\"font-family:黑体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-ascii-theme-font:major-latin;mso-hansi-theme-font:major-latin;\">【样例输入】</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI1\">\n<span lang=\"EN-US\"><span style=\"font-family:&#39;Courier New&#39;;\"><span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>5<o:p></o:p></span></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI1\">\n<span lang=\"EN-US\"><span style=\"font-family:&#39;Courier New&#39;;\"><span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>3 2 4 7<o:p></o:p></span></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI1\">\n<span lang=\"EN-US\"><span style=\"font-family:&#39;Courier New&#39;;\"><span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>3<o:p></o:p></span></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI1\">\n<span lang=\"EN-US\"><span style=\"font-family:&#39;Courier New&#39;;\"><span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>2 5 2 6 4 9<o:p></o:p></span></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI1\">\n<span lang=\"EN-US\"><span style=\"font-family:&#39;Courier New&#39;;\"><span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>2 4<o:p></o:p></span></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI1\">\n<span lang=\"EN-US\"><span style=\"font-family:&#39;Courier New&#39;;\"><span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>1 2<o:p></o:p></span></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI1\">\n<span lang=\"EN-US\"><span style=\"font-family:&#39;Courier New&#39;;\"><span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>3 5<o:p></o:p></span></span></span> \n</p>\n<p style=\"margin:13pt 0cm;\" class=\"NOI\">\n<span style=\"font-size:small;\"><span style=\"font-family:黑体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-ascii-theme-font:major-latin;mso-hansi-theme-font:major-latin;\">【样例输出】</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI1\">\n<span lang=\"EN-US\"><span style=\"font-family:&#39;Courier New&#39;;\"><span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>2<o:p></o:p></span></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI1\">\n<span lang=\"EN-US\"><span style=\"font-family:&#39;Courier New&#39;;\"><span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>5<o:p></o:p></span></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI1\">\n<span lang=\"EN-US\"><span style=\"font-family:&#39;Courier New&#39;;\"><span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>5<o:p></o:p></span></span></span> \n</p>\n<p style=\"margin:13pt 0cm;\" class=\"NOI\">\n<span style=\"font-size:small;\"><span style=\"font-family:黑体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-ascii-theme-font:major-latin;mso-hansi-theme-font:major-latin;\">【样例说明】</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>石子每堆个数分别为</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">0,5,2,5,0</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">。</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>第</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">1</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">分钟，从第</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">2</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">到第</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">4</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">堆中选</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">2</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">个；</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>第</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">2</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">分钟，从第</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">1</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">到第</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">2</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">堆中选</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">5</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">个；</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span style=\"font-size:small;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>第</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">3</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">分钟，从第</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">3</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">到第</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">5</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">堆中选</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">8</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">个，但最多只能选</span><span lang=\"EN-US\"><span style=\"font-family:&#39;Times New Roman&#39;;\">5</span></span><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">个。</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span lang=\"EN-US\"><o:p><span style=\"font-size:small;font-family:&#39;Times New Roman&#39;;\"> </span></o:p></span> \n</p>\n<p style=\"margin:13pt 0cm;\" class=\"NOI\">\n<span style=\"font-size:small;\"><span style=\"font-family:黑体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-ascii-theme-font:major-latin;mso-hansi-theme-font:major-latin;\">【数据范围】</span><span lang=\"EN-US\"><o:p></o:p></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span lang=\"EN-US\"><span style=\"font-size:small;\"><span style=\"font-family:&#39;Times New Roman&#39;;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>20%<span style=\"mso-spacerun:yes;\">   </span>N&lt;=10<o:p></o:p></span></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span lang=\"EN-US\"><span style=\"font-size:small;\"><span style=\"font-family:&#39;Times New Roman&#39;;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>50%<span style=\"mso-spacerun:yes;\">   </span>N&lt;=2000<o:p></o:p></span></span></span> \n</p>\n<p style=\"margin:0cm 0cm 0pt;\" class=\"NOI0\">\n<span lang=\"EN-US\"><span style=\"font-size:small;\"><span style=\"font-family:&#39;Times New Roman&#39;;\"><span style=\"font-family:宋体;mso-ascii-font-family:&#39;Times New Roman&#39;;mso-hansi-font-family:&#39;Times New Roman&#39;;\">    </span>100%<span style=\"mso-spacerun:yes;\">  </span>N&lt;=40000<span style=\"mso-spacerun:yes;\">   </span>M&lt;=N<span style=\"mso-spacerun:yes;\">   </span>1&lt;=L[i]&lt;=R[i]&lt;=N<span style=\"mso-spacerun:yes;\">   </span>A[i]&lt;=500<o:p></o:p></span></span></span> \n</p>\n<p>\n \n</p>\n</div>\n<br/>\n<script type=\"text/javascript\">\nvar viewType = \"f\";\n_codeLines = document.createElement(\"OL\");\ne(\"pcode\").appendChild(_codeLines);\nfunction getGPID() {\n\treturn \"A1241\";\n}\nvar gpid = getGPID();\nfunction getProbTitle() {\n\treturn \"Stone(梁健楠)\";\n}\nfunction getProbType() {\n\treturn \"DEFAULT\";\n}\nfunction getProbContent() { return e(\"pcont1\").innerHTML; }\nfunction getSrc() {\n\treturn \"2011中国国家集训队命题答辩\";\n}\nfunction getCode() {\n\treturn \"\";\n}\nfunction getLangs() {\n\treturn \"CPP,C0X,VC9,C,JAVA,PAS,CS\";\n}\nfunction getInDataCount() {\n\treturn \"0\";\n}\nfunction getSubinter() {\n\tvar inter = \"0\";\n\tvar iint = parseInt(\"\"+inter);\n\tif (!(iint>0))\n\t\treturn 0;\n\treturn iint;\n}\nfunction getRemain() {\n\tvar remain = \"0\";\n\tvar iremain = parseInt(\"\"+remain);\n\tif (!(iremain>0))\n\t\treturn 0;\n\treturn iremain;\n}\nfunction initProb()\n{\n\tif (getSrc() && getSrc()!=\"\")\n\t\te(\"psrc\").style.display = \"block\";\n\tvar cod = getCode();\n\tif (cod && cod.indexOf(\"@你的代码\")>=0)\n\t{\n\t\te(\"pcodesu\").style.display = \"block\";\n\t\tport_fc(cod, addline);\n\t}\n\tif (getSubinter()>0)\n\t{\n\t\tvar rem = getRemain();\n\t\tvar intervalVar;\n\t\tvar startT = new Date().getTime();\n\t\tfunction setSubInt()\n\t\t{\n\t\t\tvar passT = Math.floor((new Date().getTime() - startT) / 1000);\n\t\t\tvar crem = rem - passT;\n\t\t\tvar minu = Math.floor(crem/60); var sec = crem - minu*60;\n\t\t\tvar subTxt = \"\";\n\t\t\tif (crem<=0) subTxt = \"<span class=\"gcolor\">现在可以提交</span>\";\n\t\t\telse\n\t\t\t\tsubTxt = \"<span class=\"rcolor\">还剩\" + (minu>0?minu+\"分\":\"\") + sec + \"秒</span>\";\n\t\t\tvar html = \"代码提交间隔：<span class=\"uline\">\" + getSubinter() + \"分钟(\" + subTxt + \")</span> &nbsp; \";\n\t\t\te(\"subinterdiv\").innerHTML = html;\n\t\t\tif (crem <= 0) { clearInterval(intervalVar); } } intervalVar = setInterval(setSubInt, 1000); setSubInt(); } if (getProbType()==\"SUBMIT\") { e(\"probtypediv\").innerHTML = \"<span class=\"uline\">提交答案型</span> &nbsp; \";\n\t\te(\"pinputs\").style.display = \"block\";\n\t\tvar inCnt = parseInt(getInDataCount());\n\t\tvar _dlist = newT(\"UL\", e(\"inputlist\"));\n\t\t{\n\t\t\tvar ca = newT(\"A\", newT(\"LI\", _dlist), \"\", \"下载全部\");\n\t\t\tca.href = \"###\";\n\t\t\tca.onclick = function() {\n\t\t\t\tportxd(\"/problem.Problem.dt\", {cmd:\"indata\",gpid:\"A1241\",dataid:\"all\"},function(obj) {\n\t\t\t\t\tif (obj[\"ret\"]+\"\"==\"1\")\n\t\t\t\t\t{\n\t\t\t\t\t\tdownloadByHandle(obj[\"handle\"]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tnewT(\"br\", _dlist);\n\t\tfor (var i = 0; i < inCnt; ++i) { var ca = newT(\"A\", newT(\"LI\", _dlist), \"\", \"input\" + (i+1) + \".txt\"); ca.dataId = i+1; ca.href = \"###\"; ca.onclick = function() { portxd(\"/problem.Problem.dt\", {cmd:\"indata\",gpid:\"A1241\",dataid:this.dataId},function(obj) { if (obj[\"ret\"]+\"\"==\"1\") { downloadByHandle(obj[\"handle\"]); } }); } } } } initProb(); function weiboShareClick() { var _w = 16 , _h = 16; var param = { url:location.href, type:'3', count:'', /**是否显示分享数，1显示(可选)*/ appkey:'1707773381', /**您申请的应用appkey,显示分享来源(可选)*/ title:\"试题 \"+getProbTitle(), /**分享的文字内容(可选，默认为所在页面的title)*/ pic:'http://www.tsinsen.com/images/tsinsen100.png', /**分享图片的路径(可选)*/ ralateUid:'', /**关联用户的UID，分享微博会@该用户(可选)*/ language:'zh_cn', /**设置语言，zh_cn|zh_tw(可选)*/ rnd:new Date().valueOf() } rrShareOnclick(param, \"http://service.weibo.com/share/share.php\"); } function qqShareClick() { var cont = removeHTML(getProbContent()); var param = { url:location.href, showcount:'0',/*是否显示分享总数,显示：'1'，不显示：'0' */ desc:'',/*默认分享理由(可选)*/ summary:cont,/*分享摘要(可选)*/ title:getProbTitle(),/*分享标题(可选)*/ site:'清橙网络自动评测系统',/*分享来源 如：腾讯网(可选)*/ pics:'http://www.tsinsen.com/images/tsinsen100.png', /*分享图片的路径(可选)*/ style:'203', width:22, height:22 }; rrShareOnclick(param, \"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey\"); } function renrenShareClick() { var cont = removeHTML(getProbContent()); var param = { resourceUrl : '', //分享的资源Url pic : 'http://www.tsinsen.com/images/tsinsen100.png', //分享的主题图片Url title :getProbTitle(), //分享的标题 description : cont //分享的详细描述 }; rrShareOnclick(param); } var lineNum = 0; function addline(st) { newT(\"LI\", _codeLines, ((++lineNum)&1)?\"odd\":\"even\", st.replace(\"@你的代码\", '<span class=\"Y\">@你的代码</span>')); }\nfunction OnUploadCompleted(ret, fn, msg)\n{\n\tif (ret+\"\"==\"1\")\n\t{\n\t\tsetData(\"lastsubtype\", \"FILE\");\n\t\tportxd(\"/test.SubmitCode.dt\", {gpid:gpid,codefn:msg}, function(obj){\n\t\t\tif (\"\"+obj[\"ret\"]==\"1\")\n\t\t\t{\n\t\t\t\twindow.location.href = \"/AllSubmits.page?type=a\";\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\talert(obj[\"msg\"]);\n\t\t\t\tshowSubmit();\n\t\t\t}\n\t\t});\n\t}\n\telse\n\t{\n\t\talert(msg);\n\t\tshowSubmit();\n\t}\n}\nfunction showSubmit()\n{\n\tvar cc = getCode();\n\tvar canUseFile = (cc==null)||(cc==\"\");\n\tvar isSubmit = (getProbType()==\"SUBMIT\");\n\tvar canUsePaste = !isSubmit;\n\tvar _langs;\n\tvar _pop = createPopWin(\"提交代码\", function(gdiv){\n\t\tvar divS = newT(\"\", gdiv, \"vsp\");\n\t\tvar fdiv = newT(\"\", gdiv);\n\t\tnewT(\"\", fdiv, \"\", '\n<iframe id=\"dataupf\" src=\"/CommonFileUpload.page\" style=\"width:220px;height:40px;margin:0px;padding:0px;border:0px;\">\n</iframe>\n');\n\t\tvar div = newT(\"\", gdiv);\n\t\tfdiv.style.display = \"none\";\n\t\tdiv.style.display = \"block\";\n\t\tfunction setDivS1()\n\t\t{\n\t\t\tif (!canUsePaste && canUseFile)\n\t\t\t{\n\t\t\t\tsetDivS2()\n\t\t\t\treturn ;\n\t\t\t}\n\t\t\tfdiv.style.display = \"none\";\n\t\t\tdiv.style.display = \"block\";\n\t\t\tdivS.innerHTML = \"\";\n\t\t\tvar l1 = newT(\"span\", divS, \"\", \"<b>* 粘贴代码提交</b>\");\n\t\t\tif (canUseFile)\n\t\t\t{\n\t\t\t\tnewT(\"span\", divS, \"\", \" &nbsp; &nbsp; &nbsp; \");\n\t\t\t\tvar l2 = newT(\"a\", divS, \"\", \"上传文件提交\");\n\t\t\t\tl2.href = \"###\";\n\t\t\t\tl2.onclick = function() {\n\t\t\t\t\tsetDivS2();\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\tfunction toLangDesc(lang)\n\t\t{\n\t\t\tif (lang==\"CPP\") return \"C++ (MinGW g++ 4.7.2)\";\n\t\t\tif (lang==\"C\") return \"C (MinGW gcc 4.7.2)\";\n\t\t\tif (lang==\"C0X\") return \"C++0x (MinGW g++ 4.7.2 --std=c++0x)\";\n\t\t\tif (lang==\"VC9\") return \"VC (Microsoft Visual C++ 2008)\";\n\t\t\tif (lang==\"PAS\") return \"PAS (Free Pascal Compiler 2.4.0)\";\n\t\t\tif (lang==\"CS\") return \"C# (Microsoft .NET 3.5)\";\n\t\t\tif (lang==\"JAVA\") return \"Java (Java 1.7.0_15)\";\n\t\t\tif (lang==\"RUBY\") return \"Ruby (Ruby 1.8.6)\";\n\t\t\tif (lang==\"PERL\") return \"Perl (Perl v5.16.3)\";\n\t\t\tif (lang==\"PYTHON\") return \"Python (Python 3.3.0)\";\n\t\t\tif (lang==\"PYTHON27\") return \"Python (Python 2.7.3)\";\n\t\t\tif (lang==\"PHP\") return \"PHP (PHP 5.4.13)\";\n\t\t\treturn lang;\n\t\t}\n\t\tfunction setDivS2()\n\t\t{\n\t\t\tif (canUsePaste && !canUseFile)\n\t\t\t{\n\t\t\t\tsetDivS1()\n\t\t\t\treturn ;\n\t\t\t}\n\t\t\tdiv.style.display = \"none\";\n\t\t\tfdiv.style.display = \"block\";\n\t\t\tdivS.innerHTML = \"\";\n\t\t\tif (canUsePaste)\n\t\t\t{\n\t\t\t\tvar l1 = newT(\"a\", divS, \"\", \"粘贴代码提交\");\n\t\t\t\tl1.href = \"###\";\n\t\t\t\tl1.onclick = function() {\n\t\t\t\t\tsetDivS1();\n\t\t\t\t};\n\t\t\t\tnewT(\"span\", divS, \"\", \" &nbsp; &nbsp; &nbsp; \");\n\t\t\t}\n\t\t\tvar l2 = newT(\"span\", divS, \"\", \"<b>* 上传文件提交</b>\");\n\t\t\tif (isSubmit)\n\t\t\t{\n\t\t\t\tnewT(\"\", divS, \"\", \"这是一道提交答案的试题，请将<b>output*.txt</b>打包在一起后提交。\");\n\t\t\t}\n\t\t}\n\t\tvar prevsubtype = getData(\"lastsubtype\");\n\t\tif (prevsubtype == \"FILE\")\n\t\t\tsetDivS2();\n\t\telse\n\t\t\tsetDivS1();\n\t\tvar _lang = newT(null, div, \"smallsp\", \"语言选择：\");\n\t\t_langs = newT(\"select\", _lang);\n\t\tvar langs = getLangs();\n\t\tvar langss = langs.split(\",\");\n\t\t_langs.options.length = 0;\n\t\tfor (la in langss)\n\t\t\t_langs.options.add(new Option(toLangDesc(langss[la]), langss[la]));\n\t\ttry {\n\t\t\tvar prevlang = getData(\"lastlang\");\n\t\t\tif (prevlang)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < _langs.options.length; i++) if (_langs.options[i].value == prevlang) _langs.options[i].selected = true; } } catch ( errx ) {}; var _code = newT(null, div, \"code\"); var _curcode = getCode() || \"\"; var lineNum = 0; if (_curcode && _curcode.indexOf(\"@你的代码\")>=0)\n\t\t{\n\t\t\tvar _scodeLines = newT(\"OL\", _code);\n\t\t\tport_fc(_curcode, function(st){ newT(\"LI\", _scodeLines, ((++lineNum)&1)?\"odd\":\"even\", st.replace(\"@你的代码\", \"<textarea name=\"code\" id=\"code\" class=\"code\" style=\"height:200px;width:600px;\"></textarea>\")); });\n\t\t}\n\t\telse\n\t\t\t_code.innerHTML = \"<textarea name=\"code\" id=\"code\" class=\"code\" style=\"height:430px;width:660px;\"></textarea>\";\n\t\tvar _btns = newT(\"\", div, \"btns\");\n\t\tvar _okBtn = createButton(_btns, \"提交\", function() {\n\t\t\tvar vgpid = gpid;\n\t\t\tvar vlang = _langs.value;\n\t\t\tvar vcode = e(\"code\").value;\n\t\t\tif (vcode==\"\")\n\t\t\t{\n\t\t\t\talert(\"请输入要提交的程序。\");\n\t\t\t\t_okBtn.enableClick();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tsetData(\"lastsubtype\", \"CODE\");\n\t\t\t\tportxd(\"/test.SubmitCode.dt\", {gpid:vgpid,lang:vlang,code:vcode}, function(obj){\n\t\t\t\t\tsetData(\"lastlang\", vlang);\n\t\t\t\t\tif (\"\"+obj[\"ret\"]==\"1\")\n\t\t\t\t\t{\n\t\t\t\t\t\twindow.location.href = \"/AllSubmits.page?type=a\";\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\talert(obj[\"msg\"]);\n\t\t\t\t\t\t_okBtn.enableClick();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t\tvar _closeBtn = createButton(_btns, \"关闭\", function() { _pop.doHide(); });\n\t}, \"\", function(){}, 800);\n}\nfunction formatChange()\n{\n\tif (viewType == \"f\")\n\t{\n\t\tviewType = \"p\";\n\t\te(\"pcont1\").style.display = \"none\";\n\t\te(\"pcont2\").style.display = \"block\";\n\t\te('fcl').innerHTML = \"查看格式化的试题\";\n\t}\n\telse\n\t{\n\t\tviewType = \"f\";\n\t\te(\"pcont2\").style.display = \"none\";\n\t\te(\"pcont1\").style.display = \"block\";\n\t\te('fcl').innerHTML = \"查看未格式化的试题\";\n\t}\n}\nfunction discussProblem() { location.href = \"/Forum/Index.page?gpid=\" + gpid; }\n</script>\n<!-- InstanceEndEditable -->\n<!--end main-->\n</div>\n\n"}]}