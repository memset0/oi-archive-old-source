{"title":"子串","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vxxJzVePe","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n给出一些字符和各自对应的选择概率，随机选择L次后将得到一个长度为L的随机字符串S（每次独立随机）。给出K个模板串，计算S不包含任何一个串的概率（即任何一个模板串都不是S的连续子串）。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n输入第一行为测试数据组数T(T&lt;=50)。\n</p>\n<p>\n对于每组测试数据，第一行为模板串个数K(K&lt;=20)。以下K行每行包含一个模板串（长度不超过20）。接下来一行为一个整数N，即字符个数，下面的N行每行为一个不同的字符（保证为大小写字母或者数字）和选择它的概率pi。所有pi之和保证为1。最后一行为生成的字符串长度L（L&lt;=100）。模式串保证只由上述N个字符组成。\n</p>\n<p>\n每组测试数据结束后有一个空行。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n对于每组测试数据，先输出测试数据编号，再输出生成的串不包含任何一个模板串的概率，结果保留到小数点后6位（详细格式见样例输出）。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>2\n1\na\n2\na 0.5\nb 0.5\n2\n\n2\nab\nab\n2\na 0.2\nb 0.8\n2</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>Case #1: 0.250000\nCase #2: 0.840000</pre>\n<h3>\n【提示】\n</h3>\n<p>\n在此键入。\n</p>\n<h3>\n【来源】\n</h3>\n<p>\n在此键入。\n</p>\n\n"}]}