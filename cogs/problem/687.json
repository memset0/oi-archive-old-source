{"title":"Sorting It All Out","time_limit":1000,"memory_limit":128,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=pxJmNSeUW","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n给定$n$个变量，$m$个不等式。\n</p>\n<p>\n不等式之间具有传递性，即若$A&gt;B$,且$B&gt;C$，则$A&gt;C$。\n</p>\n<p>\n判断这$m$个不等式是否有矛盾。\n</p>\n<p>\n若无矛盾，则判断这$m$个不等式是否能确定每一对边两者间的关系，\n</p>\n<p>\n   若能，则求出$t$的最小值，满足仅用前$t$个不等式就能确定每一对变量之间的大小关系。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n有多组测试数据。\n</p>\n<p>\n对于每一组测试数据：\n</p>\n<p>\n第一行两个整数，表示$n$,$m$。\n</p>\n<p>\n  $n$表示前$n$个大写字母\n</p>\n<p>\n接下来$m$行每行一共三个字符，第一个大写字母，字符“&lt;”和第二个大写字母，没有字母超出字母表的前n个字母的范围。\n</p>\n<p>\n以0 0结尾作为结束标志\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n对于每一组测试数据，输出由一行组成，一共有三种情况：\n</p>\n<p>\nSorted sequence determined after xxx relations: yyy...y.\n</p>\n<p>\nSorted sequence cannot be determined.\n</p>\n<p>\nInconsistency found after xxx relations. \n</p>\n<p>\n表示：<br/>\n其中xxx是在确定排序序列或找到不一致时处理的关系数，以靠前者为准，yyy 是已排序的升序序列。\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>4 6\nA&lt;B\nA&lt;C\nB&lt;C\nC&lt;D\nB&lt;D\nA&lt;B\n3 2\nA&lt;B\nB&lt;A\n26 1\nA&lt;Z\n0 0\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>Sorted sequence determined after 4 relations: ABCD.\nInconsistency found after 2 relations.\nSorted sequence cannot be determined.\n</pre>\n<h3>\n【提示】\n</h3>\n<p>\n$2&lt;=n&lt;=26$\n</p>\n<h3>\n【来源】\n</h3>\n<p>\nEast Central North America 2001   POJ 1094\n</p>\n\n"}]}