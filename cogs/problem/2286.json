{"title":"[HZOI 2015]疯狂的重心","time_limit":1000,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vQiQzVVUe","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n一开始有n个点，点和点之间没有边，要求你维护以下操作：\n</p>\n<p>\n1、A u v 在u和v之间添加一条无向边，保证添加后原图还是一个生成森林\n</p>\n<p>\n2、Q u 询问u所在树的重心的编号\n</p>\n<p>\n3、Xor 询问所有树的重心的编号的异或和\n</p>\n<p>\n重心的定义：在一棵树上，若一个点到其他所有点的距离之和最小，则称这个点为树的重心\n</p>\n<p>\n如果有多个满足条件的点，取编号最小的点为重心\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行n，m表示节点总数和操作次数\n</p>\n<p>\n以下m行每行如题意所示\n</p>\n<p>\nn,m&lt;=100000\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n对于每个Q和Xor输出答案\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre><p>\n10 10\n</p>\n\n<p>\nXor\n</p>\n\n<p>\nQ 1\n</p>\n\n<p>\nA 10 1\n</p>\n\n<p>\nA 1 4\n</p>\n\n<p>\nQ 4\n</p>\n\n<p>\nQ 10\n</p>\n\n<p>\nA 7 6\n</p>\n\n<p>\nXor\n</p>\n\n<p>\nQ 7\n</p>\n\n<p>\nXor\n</p>\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre><p>\n11\n</p>\n\n<p>\n1\n</p>\n\n<p>\n1\n</p>\n\n<p>\n1\n</p>\n\n<p>\n2\n</p>\n\n<p>\n6\n</p>\n\n<p>\n2\n</p>\n</pre>\n\n"}]}