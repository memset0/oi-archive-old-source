{"title":"[ZJOI 2012] 灾难","time_limit":1000,"memory_limit":128,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vNiQSkjVk","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【问题描述】\n</h3>\n<p>\n阿米巴是小强的好朋友。\n</p>\n<p>\n阿米巴和小强在草原上捉蚂蚱。小强突然想，如果蚂蚱被他们捉灭绝了，那么吃蚂蚱的小鸟就会饿死，而捕食小鸟的猛禽也会跟着灭绝，从而引发一系列的生态灾难。\n</p>\n<p>\n学过生物的阿米巴告诉小强，草原是一个极其稳定的生态系统。如果蚂蚱灭绝了，小鸟照样可以吃别的虫子，所以一个物种的灭绝并不一定会引发重大的灾难。\n</p>\n<p>\n我们现在从专业一点的角度来看这个问题。我们用一种叫做食物网的有向图来描述生物之间的关系：\n</p>\n<p>\n一个食物网有 N个点，代表 N 种生物，如果生物 x 可以吃生物 y，那么从 y 向 x 连一个有向边。\n</p>\n<p>\n这个图没有环。\n</p>\n<p>\n图中有一些点没有连入边，这些点代表的生物都是生产者，可以通过光合作用来生存； 而有连出边的点代表的都是消费者，它们必须通过吃其他生物来生\n</p>\n<p>\n存。\n</p>\n<p>\n如果某个消费者的所有食物都灭绝了，它会跟着灭绝。\n</p>\n<p>\n我们定义一个生物在食物网中的“灾难值”为，如果它突然灭绝，那么会跟着一起灭绝的生物的种数。\n</p>\n<p>\n举个例子：在一个草场上，生物之间的关系是：\n</p>\n<p>\n<img src=\"/upload/image/20181107/20181107104525_16990.png\" alt=\"\" width=\"559\" height=\"538\" title=\"\" align=\"\"/> \n</p>\n<p>\n<img alt=\"\" src=\"http://images.cnitblog.com/blog/408203/201301/12111920-62dfd1d736794645b00bc92fa4bd3570.png\"/> \n</p>\n<p>\n如果小强和阿米巴把草原上所有的羊都给吓死了，那么狼会因为没有食物而灭绝，而小强和阿米巴可以通过吃牛、牛可以通过吃草来生存下去。所以，羊的\n</p>\n<p>\n灾难值是 1。但是，如果草突然灭绝，那么整个草原上的 5 种生物都无法幸免，所以，草的灾难值是 4。\n</p>\n<p>\n给定一个食物网，你要求出每个生物的灾难值。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n输入文件 catas.in 的第一行是一个正整数 N，表示生物的种数。生物从 1 标号到 N。\n</p>\n<p>\n接下来 N 行，每行描述了一个生物可以吃的其他生物的列表，格式为用空格隔开的若干个数字，每个数字表示一种生物的标号，最后一个数字是 0 表示列\n</p>\n<p>\n表的结束。\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n输出文件 catas.out 包含N行，每行一个整数，表示每个生物的灾难值。\n</p>\n<h3>\n【样例输入】\n</h3>\n<p>\n5\n</p>\n<p>\n0\n</p>\n<p>\n1 0\n</p>\n<p>\n1 0\n</p>\n<p>\n2 3 0\n</p>\n<p>\n2 0\n</p>\n<h3>\n【样例输出】\n</h3>\n<p>\n4\n</p>\n<p>\n1\n</p>\n<p>\n0\n</p>\n<p>\n0\n</p>\n<p>\n0\n</p>\n<h3>\n【样例说明】\n</h3>\n<p>\n样例输入描述了题目描述中举的例子。\n</p>\n<h3>\n【数据规模】\n</h3>\n<p>\n对 50%的数据，N ≤ 10000。\n</p>\n<p>\n对 100%的数据，1 ≤ N ≤ 65534。\n</p>\n<p>\n输入文件的大小不超过 1M。保证输入的食物网没有环。\n</p>\n<p>\n<br/>\n</p>\n\n"}]}