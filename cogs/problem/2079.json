{"title":"[SYOI 2015] Asm_Def三角形","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vmzNSVaWP","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<br/>\n</p>\n<p>\nAsm.Def已经突破了圣迭戈的基础防御设施，来到了透明计算网络所在的机房，发现事情并非想象的那样简单。\n</p>\n<p>\n由于透明计算网络的特性，可以实现文件多节点储存、计算资源的实时调度。摧毁它并非易事。透明计算网络可以抽象成一张图，它的每个节点都互相连接。透明计算网络采用的调度策略有缺陷，如果使整张网络中任意<strong>（即所有）</strong>三个点组成的三角形，之间的链接<strong>断开一条或者三条全部断开</strong>，可使得整个服务离线。\n</p>\n<p>\n现在有些链接被加固，即不可能被断开。有些链接已经被断开。现在让你选择断开一些链接使得整个服务离线，有多少种方案呢？方案数对998244353取模。认为两个方案不同仅当存在一条边在这两个方案中一个被断开，另一个没有断开。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n第一行两个整数n和m，表示有n个节点，和已经有m个链接被断开或者加固。\n</p>\n<p>\n接下来m行每行三个整数op u v，op为1是表示u和v的链接被加固，op为0是表示u和v的链接被断开。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n一行一个整数，表示有多少中方案。方案数对998244353取模。\n</p>\n<h3>\n【样例输入1】\n</h3>\n<pre>3 0</pre>\n<h3>\n【样例输出1】\n</h3>\n<pre>4</pre>\n<h3>\n【样例输入1说明】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n样例一解释\n</p>\n<p>\n可以断开1-2,2-3,1-3的链接，或1-2的链接，或2-3的链接，或1-3的链接。共4种方案\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【样例输入2】\n</h3>\n<pre>4 4\n0 1 2\n0 2 3\n1 3 4\n1 4 1</pre>\n<h3>\n【样例输出2】\n</h3>\n<pre>1</pre>\n<h3>\n【样例输入2说明】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n只能断开1-3，使得三角形(1,2,3)全部被断开，三角形(1,4,3)只被断开一条边\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【样例输入3】\n</h3>\n<pre>4 4\n0 1 2\n0 2 3\n1 3 4\n0 4 1</pre>\n<h3>\n【样例输出3】\n</h3>\n<pre>0</pre>\n<br/>\n<h3>\n【数据规模与约定】\n</h3>\n<p>\n30%的数据，1 &lt;= n &lt;= 7，m &lt;= 21\n</p>\n<p>\n另外40%的数据，1 &lt;= n &lt;= 100000，m = 0\n</p>\n<p>\n另外30%的数据，1 &lt;= n &lt;= 100000，m &lt;= 100000\n</p>\n<h3>\n【来源】\n</h3>\n<p>\nAsm_Def战记之透明计算网络\n</p>\n\n"}]}