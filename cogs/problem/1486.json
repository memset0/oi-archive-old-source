{"title":"[UVa 10561] Treblecross 游戏","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vSQimkqUe","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\nTreblecross游戏是一种双人游戏，游戏在一个一行,n列的棋盘上进行。初始时所有的格子都是空的。两名玩家轮流向某个空格子中放置一个X。如果此时有三个连续的X出现，则该玩家获胜。\n</p>\n<p>\n给出一个游戏的中间状态，计算先手是否必胜（假设两名玩家都执行最佳策略）。如果先手必胜，那么输出这一步的所有必胜策略。\n</p>\n<p>\n考虑一个在1行5列棋盘上的Treblecross游戏。如果第一名玩家把X放在第三个（即中间的）格子中，那么状态变成了 ..x.. ，无论另一名玩家如何操作，他都能获胜。但如果第一名玩家把X放在其他任何位置，另一名玩家都可以通过把X放在棋盘另一边获胜（例如，在第二名玩家操作后状态可能变成.X..X）。在这种情况下，无论第一名玩家下一步进行什么操作，第二名玩家都能获胜。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n输入包含多组数据。\n</p>\n<p>\n输入文件的第一行是一个正整数N(N&lt;100)，表示数据组数。\n</p>\n<p>\n每组数据只有一行，是一个由&#39;X&#39;和&#39;.&#39;组成的字符串，其中&#39;.&#39;表示空格子。字符串长度（即棋盘的长度）在[3,200]之间。保证不会有三个X并排。\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n对于每组数据，若先手必胜则首先输出&#34;WINNING&#34;，否则输出&#34;LOSING&#34;。\n</p>\n<p>\n然后在第二行，按递增顺序输出先手的所有必胜策略，即先手下一步放X的位置。格子从左到右以1,2,3,...编号。\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>4\n.....\nX.....X..X.............X....X..X\n.X.X...X\n...............................................\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>WINNING\n3\nLOSING\n\nWINNING\n3\nWINNING\n1 12 15 17 20 24 28 31 33 36 47\n</pre>\n<h3>\n【来源】\n</h3>\n<p>\n<a href=\"http://uva.onlinejudge.org/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=477&amp;page=show_problem&amp;problem=1502\" target=\"_blank\">UVa 10561 Treblecross</a> \n</p>\n<p>\n刘汝佳，《算法竞赛入门经典训练指南》表2.6\n</p>\n\n"}]}