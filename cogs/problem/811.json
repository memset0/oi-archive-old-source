{"title":"交换","time_limit":1000,"memory_limit":128,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=pQQSJxUkk","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n【题目描述】<br/>\n为了报答嘟嘟消灭病毒之举，微生物之王小A 准备把景天得魔剑赠送给他。但是小A又不想白白的给他，准备让他用100000 个金币来换（ps：这还是送？）。嘟嘟初来乍到，哪里拿得出这么多金币，但有的确想要到魔剑，便请求小A 降低点价格。小A 说：“嗯，如果你能替我拿到龙王的龙鳞，我可以只要90000；如果你能替我拿到龙王的龙角，我可以只要50000 金币。”嘟嘟就跑到龙王那里，向他要龙鳞或龙角，龙王要他用金币换，或者替他拿到其他的东西，他就可以降低价格。嘟嘟于是又跑到了其他地方，其他人也提出了差不多得要求，要么直接用金币交换，要么找到他们想要的东西换得较低的价格。不过嘟嘟不必要用多样的东西换一样东西，因为不会获得更低得交换价格。<br/>\n嘟嘟这下犯了难，但他又非常想得到魔剑。所以他只好想你求助，让他用最少的钱换到魔剑。<br/>\n另外还要说的是，微生物王国的一些人们相互间都多少有点矛盾且每个人有个等级，每两个人间可能互相都有厌恶值（这个两个人互相的厌恶值相等，其中厌恶值等于两人的等级差）。所以厌恶值超过一定限制的两个人不会进行任何形式的交换。但是嘟嘟救助了这个世界，他们是都会同意和你交换的。但是如果你和某个人进行了交换，那么厌恶他的人就不会再和你交换了，因为他们认为这样是间接地和对方交换。因此你要考虑所有的情况以后给他提供一个最好的方案。为了方便起见，我们把所有要交换的物品从1 到n 进行编号。魔剑也看做一个物品，且编号总是1。每件物品都要有一个对应的价格p，所属的主人的等级为L，以及一系列的交换物Ti 和该交换物所对应可以给的较低价格Vi。如果两个人的厌恶值超过了M，就不能进行“间接交易”。你必须根据给出的数据来计算出嘟嘟最少需要多少金币才能获得魔剑<br/>\n【输入数据】<br/>\n输入第一行是两个整数M，N，依次表示厌恶值差距限制和物品的总数。接下来按照编号从小到大依次给出了N 个物品的描述。每个物品的描述开头是三个非负整数P、L、X（X&lt; N），依次表示该物品的价格、其拥有者的等级和替代品总数。接下来X 行每行包括两个整数T 和V，分别表示替代品的编号和可以降低到的价格。<br/>\n【输出数据】<br/>\n输出最少需要的金币数。<br/>\n【样例输入】<br/>\n1 4<br/>\n10000 3 1<br/>\n3 5000<br/>\n1000 2 1<br/>\n4 2000<br/>\n3000 2 2<br/>\n2 2000<br/>\n4 100<br/>\n50 2 0<br/>\n【样例输出】<br/>\n5150<br/>\n【数据范围】<br/>\n对于50 的测试数据，1&lt;=N&lt;=5<br/>\n对于100% 的测试数据，1 &lt;= N &lt;= 100<br/>\n<br/>\n\n"}]}