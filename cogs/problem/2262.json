{"title":"[HZOI 2015]决战前的黎明","time_limit":3000,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vSyiyVVeV","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n曾经想征服全世界，到最后回首才发现，这世界滴滴点点全部都是你 ---序言\n</p>\n<p>\n在阿凯蒂王子的布局下，全国的各个城市都混入了他的耳目，反攻就在眼前\n</p>\n<p>\n但是他的叔父也有所察觉，在城市之间秘密的建立了城市联盟\n</p>\n<p>\n整个国家是一棵树，每个城市就是树上的一个节点，根节点是1也就是首都\n</p>\n<p>\n如果城市i和城市j要建立城市联盟，那么首先要满足i&lt;j且i到根节点的距离不能超过j到根节点的距离\n</p>\n<p>\n而且为了城市之间不产生矛盾，i的军队数量还要不能超过j的军队数量\n</p>\n<p>\n知己知彼方能百战不殆，阿凯蒂王子希望能知道他的叔父最多能在多少对城市间建立联盟\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行n表示城市数目\n</p>\n<p>\n以下有n个正整数分别表示每个城市的军队数量ai\n</p>\n<p>\n以下有n-1行，每行u，v描述一条边的端点，w描述一条边的边权\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n输出最多建立的城市联盟的数量\n</p>\n<h3>\n【样例输入】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n5\n</p>\n<p>\n1 3 1 1 3\n</p>\n<p>\n2 1 115\n</p>\n<p>\n3 1 265\n</p>\n<p>\n4 3 712\n</p>\n<p>\n5 4 548\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【样例输出】\n</h3>\n<p>\n8\n</p>\n<h3>\n【提示】\n</h3>\n<p>\nn&lt;=200000,ai&lt;=n\n</p>\n<p>\n边权&lt;=1000\n</p>\n<p>\n注:反攻前夜，阿凯蒂王子辗转反侧\n</p>\n<p>\n脑子里浮现着三年前的血与火\n</p>\n<p>\n复仇是为了更好的守护\n</p>\n<p>\n守护自己征服天下的梦想，更要守护那个在地牢里生死未卜的那个她\n</p>\n<p>\n(对序言的强行解释）\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【来源】\n</h3>\n<p>\n原创\n</p>\n\n"}]}