{"title":"[国家集训队2012]middle","time_limit":3000,"memory_limit":1024,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vmQXikWej","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n<link type=\"text/css\" href=\"../../css/Tsinsen2011.css\" rel=\"stylesheet\"/>\n<div class=\"probtitle\" id=\"ptit\">\nmiddle(陈立杰)\n</div>\n<div style=\"text-align:center;font-size:14px;font-weight:bold;vertical-align:middle;\" id=\"pres\">\n时间限制：3.0s   内存限制：1.0GB\n</div>\n<div id=\"psrc\" style=\"margin-top:20px;display:none;\">\n<div class=\"pdsec\">\n试题来源\n</div>\n<div class=\"pdcont\">\n</div>\n</div>\n<div id=\"pcont1\" style=\"margin-top:20px;display:block;\">\n<div class=\"pdcont\">\n<h3>\n【大意】\n</h3>\n一个长度为n的序列a，设其排过序之后为b，其中位数定义为b[n/2]，其中a,b从0开始标号,除法取下整。<br/>\n给你一个长度为n的序列s。<br/>\n回答Q个这样的询问：s的左端点在[a,b]之间,右端点在[c,d]之间的子序列中，最大的中位数。<br/>\n其中a&lt;b&lt;c&lt;d。<br/>\n位置也从0开始标号。<br/>\n我会使用一些方式强制你在线。<br/>\n</div>\n<h3>\n【输入格式】\n</h3>\n<div class=\"pdcont\">\n第一行序列长度n。<br/>\n接下来n行按顺序给出a中的数。<br/>\n接下来一行Q。<br/>\n然后Q行每行a,b,c,d，我们令上个询问的答案是x(如果这是第一个询问则x=0)。<br/>\n令数组q={(a+x)%n,(b+x)%n,(c+x)%n,(d+x)%n}。<br/>\n将q从小到大排序之后，令真正的要询问的a=q[0],b=q[1],c=q[2],d=q[3]。<br/>\n输入保证满足条件。<br/>\n</div>\n<h3>\n【输出格式】\n</h3>\n<div class=\"pdcont\">\nQ行依次给出询问的答案。<br/>\n</div>\n<h3>\n【数据规模和约定】\n</h3>\n<div class=\"pdcont\">\n0:n,Q&lt;=100<br/>\n1,...,5:n&lt;=2000<br/>\n0,...,19:n&lt;=20000,Q&lt;=25000<br/>\n</div>\n<h3>\n【样例输入】\n</h3>\n<div class=\"pddata\">\n5<br/>\n170337785<br/>\n271451044<br/>\n22430280<br/>\n969056313<br/>\n206452321<br/>\n3<br/>\n3 1 0 2<br/>\n2 3 1 4<br/>\n3 1 4 0<br/>\n</div>\n<h3>\n【样例输出】\n</h3>\n<div class=\"pddata\">\n271451044<br/>\n271451044<br/>\n969056313<br/>\n</div>\n</div>\n\n"}]}