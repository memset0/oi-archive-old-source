{"title":"[国家集训队2012]Attack","time_limit":10000,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vSSJikWWe","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n<link type=\"text/css\" href=\"../../css/Tsinsen2011.css\" rel=\"stylesheet\"/>\n<div class=\"probtitle\" id=\"ptit\">\nAttack(李超)\n</div>\n<div style=\"text-align:center;font-size:14px;font-weight:bold;vertical-align:middle;\" id=\"pres\">\n时间限制：10.0s   内存限制：512.0MB\n</div>\n<div id=\"psrc\" style=\"margin-top:20px;display:block;\">\n<h3>\n【试题来源】\n</h3>\n<div class=\"pdcont\">\n2012集训队互测-李超\n</div>\n</div>\n<div id=\"pcont1\" style=\"margin-top:20px;display:block;\">\n<h3>\n【问题描述】\n</h3>\n<div class=\"pdcont\">\nchnlich非常喜欢玩三国志这款游戏，并喜欢用一些策略出奇制胜。现在，他要开始征服世界的旅途了。<br/>\n他的敌人有N座城市和N个太守，N个城市可以看作在二维平面上的N个点。<br/>\nN座城市的标号为0,1,2,……,N-1。<br/>\n第i座城市的坐标为(Xi,Yi)，镇守这座城市的太守的能力值为Zi。<br/>\nchnlich每次会选择一个边平行于坐标轴的矩形区域，并奇袭其中太守能力值第K小的城市(奇袭结束之后城市与太守依然存在)。<br/>\n不过，他的敌人经常会偷偷交换两座城市的太守，防止弱点被chnlich发现。<br/>\n现在，chnlich想要知道，每次奇袭时他的敌人的能力值。<br/>\n</div>\n<h3>\n【输入格式】\n</h3>\n<div class=\"pdcont\">\n输入的第一行包含两个整数N,M，N表示城市与太守的个数，M表示接下来发生了M个事件。<br/>\n输入的第二行到第N+1行，每行包含三个整数，第i+2行的三个整数依次表示编号为i的城市的Xi,Yi,Zi，含义如题所述。<br/>\n输入的第N+2行到第N+M+1行，每行有两种可能形式：<br/>\n第一种<br/>\nQUERY x0 y0 x1 y1 k<br/>\n表示chnlich询问一个相对顶点为(x0,y0),(x1,y1)的矩形中，第k小能力值太守的能力值。<br/>\n第二种<br/>\nSWAP x y<br/>\n表示chnlich的敌人交换了编号为x和y两座城市的太守。<br/>\n</div>\n<h3>\n【输出格式】\n</h3>\n<div class=\"pdcont\">\n对于每一个QUERY，输出一行。<br/>\n若不存在第k小能力值的太守，输出&#34;It doesn&#39;t exist.&#34;(不包含引号)。<br/>\n否则输出一个整数，表示矩形内能力值第k小太守的能力值。<br/>\n</div>\n<h3>\n【样例输入】\n</h3>\n<div class=\"pddata\">\n3 5<br/>\n1 1 1<br/>\n2 2 2<br/>\n3 3 3<br/>\nQUERY 1 1 3 3 3<br/>\nSWAP 0 1<br/>\nQUERY 2 2 4 4 1<br/>\nSWAP 2 2<br/>\nQUERY 2 2 3 3 3<br/>\n</div>\n<h3>\n【样例输出】\n</h3>\n<div class=\"pddata\">\n3<br/>\n1<br/>\nIt doesn&#39;t exist.<br/>\n</div>\n<h3>\n【数据规模和约定】\n</h3>\n<div class=\"pdcont\">\n对于30%的数据，N,M&lt;=1000;<br/>\n对于40%的数据，N&lt;=30000;<br/>\n另有10%的数据，不存在SWAP操作;<br/>\n另有10%的数据，QUERY操作次数&lt;=2;<br/>\n另有10%的数据，所有城市的Y坐标都相等，且询问中矩形的Y坐标与所有城市的Y坐标均相等;<br/>\n对于100%的数据，N&lt;=60000,M&lt;=10000,0&lt;=Xi,Yi,Zi&lt;=10^9,k&lt;=10^9，保证所有操作均合法。<br/>\n</div>\n</div>\n\n"}]}