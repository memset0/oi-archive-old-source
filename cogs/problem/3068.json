{"title":"HS读法书","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vzmNJjaeU","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【数据生成】\n</h3>\n<p>\n哈哈，想自测就把下面代码打下来吧！\n</p>\n<p>\n<img src=\"/upload/image/20190331/20190331205258_23472.jpg\" alt=\"\"/> \n</p>\n<h3>\n【题目描述】\n</h3>\n<p>\nhs有一本法书，可以表示为一个长为n的数组a[1..n]。由于是法书，这个数组还可能会改变。好奇的J看到后，希望进行一些询问，每次询问给出l,r,x,y，求有多少个极大下标集合，其中的下标连续且在[l,r]内，且同一集合中的下标对应的数组中元素均相同且在[x,y]内。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行输入n,m；\n</p>\n<p>\n接下来一行n个数表示初始数列ai；\n</p>\n<p>\n接下来m个操作，操作有如下两种：\n</p>\n<p>\n1 k w：ak变成了w；\n</p>\n<p>\n2 l r x y：表示询问。\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n对于每个询问输出答案。\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>5 5\n3 3 3 5 5\n2 2 3 4 5\n2 2 3 3 4\n1 3 1\n2 1 5 3 5\n2 2 3 1 4\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>0\n1\n2\n2\n</pre>\n<h3>\n【提示】\n</h3>\n<p>\n对于30%的数据，n,m≤1000；\n</p>\n<p>\n对于所有数据，1≤ai≤n，1≤n,m≤100000。\n</p>\n<h3>\n【来源】\n</h3>\n<p>\nluogu and hs\n</p>\n\n"}]}