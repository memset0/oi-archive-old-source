{"title":"立春树","time_limit":1000,"memory_limit":128,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=pXJxyQgjj","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<pre>Farmer John正在装饰他的立春树（就像圣诞树，但是流行得晚3个月）\n\n它由一个N（1 &lt;= N &lt;= 100,000）个点的树来表示, 标号为1到N，1号点为根。\n\n其他节点i都有个父亲P_i（1 &lt;= P_i &lt;= N)。1号点没有父亲，(输入中用-1表示),\n\n因为它是树根。\n\n\n\n每个节点i都有一个对应的以它为根的子树（包括大小为1的子树）。FJ想确保点i对应的子树\n\n有至少C_i个（1 &lt;= C_i &lt;= 10,000,000）个装饰物分散在整个子树上。 他还想用最少的时间\n\n来放置所有装饰物（需要K*T_i的时间在点i放置K个装饰物（1 &lt;= T_i&lt;= 100））.\n\n\n\n帮助FJ计算出最少需要的时间放置装饰物来满足要求。答案可能超过32位整数，但是保证\n会在64位有符号整数范围内。\n\n\n\n例如，考虑下面这棵树：\n\n\n\n               1 \n               |\n               2\n               |\n               5\n              / \n             4   3\n\n\n假设FJ需要满足下列要求\n\n\n                  该子树至少需要的装饰物数\n\n                    |     放置一个的时间\n\n                    |       |\n\n      子树的根 |   C_i  |  T_i\n       --------+--------+-------\n          1    |    9   |   3\n          2    |    2   |   2\n          3    |    3   |   2\n          4    |    1   |   4\n          5    |    3   |   3\n\n\n那么FJ可以放置像下面这样所有的装饰物，用了20的时间：\n\n\n\n            1 [0/9(0)]     图例: 元素# [该点放置的装饰物/\n\n            |                      子树中总共的装饰物数(该点总时间)]\n\n            2 [3/9(6)]\n\n            |\n\n            5 [0/6(0)]\n\n           / \n\n [1/1(4)] 4   3 [5/5(10)]\n\n\n\n问题名称: tdec\n\n\n\n输入格式:\n\n\n\n* 第一行: 一个整数: N\n\n\n\n* 第二行到第N+1行: 第i+1行有三个整数，P_i,C_i,T_i。\n\n\n\n样例输入 (tdec.in):\n\n\n\n5\n\n-1 9 3\n\n1 2 2\n\n5 3 2\n\n5 1 4\n\n2 3 3\n\n\n\n输出格式:\n\n\n\n* 第一行: 一个整数：放置装饰物的最少时间\n\n\n\n样例输出 (tdec.out):\n\n\n\n20\n\n</pre>\n\n"}]}