{"title":"[HZOI 2015] 阿瑞","time_limit":6000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vNXSNVjgV","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n维护一个序列支持以下操作\n</p>\n<p>\n1 l r 把第r个数移动到第l个数的前面\n</p>\n<p>\n2 x y 在第x个数之前插入一个值为y的数\n</p>\n<p>\n3 x 把第x个位置上的数删掉\n</p>\n<p>\n4 l r d 询问序列第l到第r个数有多少个数为d\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行一个数N,表示开始序列有N个数\n</p>\n<p>\n接下来一行有N个数,表示序列中每个数的值\n</p>\n<p>\n之后有一个数M,表示M个操作\n</p>\n<p>\n接下来M行,每行是一个操作,操作见题目描述\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n对于每个询问输出一行一个数,表示对应的答案\n</p>\n<h3>\n【样例输入】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n100\n</p>\n<p>\n5 5 1 4 4 3 3 2 4 3 1 1 5 2 3 4 4 2 4 5 2 1 4 3 4 4 1 1 3 5 1 3 4 3 5 5 1 1 5 1 2 1 3 3 5 3 2 3 4 4 3 2 5 5 2 5 4 4 1 2 2 1 1 1 2 5 5 4 1 1 3 5 5 3 1 1 2 1 4 4 3 4 2 4 5 5 4 5 5 2 3 5 3 3 3 1 3 3 3 2\n</p>\n<p>\n100\n</p>\n<p>\n2 64 1\n</p>\n<p>\n1 41 88\n</p>\n<p>\n4 36 89 2\n</p>\n<p>\n4 43 100 4\n</p>\n<p>\n4 41 86 2\n</p>\n<p>\n1 39 61\n</p>\n<p>\n4 45 77 3\n</p>\n<p>\n1 9 42\n</p>\n<p>\n1 7 27\n</p>\n<p>\n2 34 3\n</p>\n<p>\n2 17 1\n</p>\n<p>\n1 36 76\n</p>\n<p>\n1 2 94\n</p>\n<p>\n4 8 27 3\n</p>\n<p>\n4 33 103 1\n</p>\n<p>\n2 60 2\n</p>\n<p>\n1 13 63\n</p>\n<p>\n1 44 64\n</p>\n<p>\n1 2 14\n</p>\n<p>\n4 49 102 1\n</p>\n<p>\n4 47 59 1\n</p>\n<p>\n1 52 58\n</p>\n<p>\n3 89\n</p>\n<p>\n2 80 4\n</p>\n<p>\n1 23 88\n</p>\n<p>\n3 46\n</p>\n<p>\n1 36 84\n</p>\n<p>\n1 49 68\n</p>\n<p>\n4 67 98 1\n</p>\n<p>\n3 11\n</p>\n<p>\n2 60 3\n</p>\n<p>\n3 22\n</p>\n<p>\n1 30 46\n</p>\n<p>\n2 1 2\n</p>\n<p>\n2 26 1\n</p>\n<p>\n4 62 77 3\n</p>\n<p>\n1 30 77\n</p>\n<p>\n4 41 83 2\n</p>\n<p>\n2 54 1\n</p>\n<p>\n2 82 5\n</p>\n<p>\n3 79\n</p>\n<p>\n2 44 3\n</p>\n<p>\n3 106\n</p>\n<p>\n2 86 5\n</p>\n<p>\n3 102\n</p>\n<p>\n2 37 1\n</p>\n<p>\n3 88\n</p>\n<p>\n1 48 55\n</p>\n<p>\n2 39 2\n</p>\n<p>\n1 62 85\n</p>\n<p>\n1 1 49\n</p>\n<p>\n3 63\n</p>\n<p>\n3 93\n</p>\n<p>\n2 69 5\n</p>\n<p>\n3 35\n</p>\n<p>\n3 23\n</p>\n<p>\n4 81 93 4\n</p>\n<p>\n1 38 43\n</p>\n<p>\n2 68 5\n</p>\n<p>\n2 57 5\n</p>\n<p>\n3 102\n</p>\n<p>\n4 32 60 2\n</p>\n<p>\n4 59 93 1\n</p>\n<p>\n1 40 85\n</p>\n<p>\n3 100\n</p>\n<p>\n4 41 54 3\n</p>\n<p>\n1 25 38\n</p>\n<p>\n1 28 41\n</p>\n<p>\n2 97 5\n</p>\n<p>\n2 90 1\n</p>\n<p>\n3 55\n</p>\n<p>\n1 49 51\n</p>\n<p>\n4 76 98 2\n</p>\n<p>\n1 85 93\n</p>\n<p>\n4 6 62 5\n</p>\n<p>\n1 5 38\n</p>\n<p>\n2 79 5\n</p>\n<p>\n3 15\n</p>\n<p>\n4 25 70 3\n</p>\n<p>\n2 50 1\n</p>\n<p>\n4 15 26 5\n</p>\n<p>\n3 8\n</p>\n<p>\n4 31 91 3\n</p>\n<p>\n4 12 35 4\n</p>\n<p>\n4 59 79 5\n</p>\n<p>\n3 50\n</p>\n<p>\n2 66 3\n</p>\n<p>\n2 64 2\n</p>\n<p>\n3 29\n</p>\n<p>\n1 21 34\n</p>\n<p>\n3 9\n</p>\n<p>\n3 43\n</p>\n<p>\n2 13 2\n</p>\n<p>\n4 40 86 1\n</p>\n<p>\n4 33 70 3\n</p>\n<p>\n1 28 48\n</p>\n<p>\n3 17\n</p>\n<p>\n3 96\n</p>\n<p>\n3 98\n</p>\n<p>\n4 42 53 1\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【样例输出】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n9\n</p>\n<p>\n9\n</p>\n<p>\n9\n</p>\n<p>\n7\n</p>\n<p>\n3\n</p>\n<p>\n16\n</p>\n<p>\n12\n</p>\n<p>\n2\n</p>\n<p>\n10\n</p>\n<p>\n1\n</p>\n<p>\n8\n</p>\n<p>\n4\n</p>\n<p>\n5\n</p>\n<p>\n8\n</p>\n<p>\n4\n</p>\n<p>\n1\n</p>\n<p>\n13\n</p>\n<p>\n11\n</p>\n<p>\n4\n</p>\n<p>\n13\n</p>\n<p>\n6\n</p>\n<p>\n7\n</p>\n<p>\n9\n</p>\n<p>\n10\n</p>\n<p>\n3\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【数据范围和约定】\n</h3>\n<p>\n对于100%的数据N&lt;=250000,M&lt;=250000,序列每个数在int范围之内且为正整数\n</p>\n<p>\n对于10%的数据 N&lt;=100 且和样例的输出一样\n</p>\n<p>\n对于另外10%的数据 N,M&lt;=5000\n</p>\n<p>\n对于另外10%的数据 序列每个数&lt;=3\n</p>\n<p>\n对了另外30%的数据 N&lt;=100000,每个数&lt;=100000\n</p>\n<p>\n<br/>\n</p>\n<p>\n而且出题人喜欢卡常数,所以请注意常数因子对程序的影响\n</p>\n\n"}]}