{"title":"新型武器","time_limit":1000,"memory_limit":128,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vJxymVggk","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【问题背景】\n</h3>\n<p>\n“嘿，亲爱的！”<br/>\n天使轻轻的从天上落下来，黄昏的光晕柔柔地映在她半透明的翅膀上。\n</p>\n<p>\n“看我给你弄到了什么！”<br/>\n刚落到地上的天使轻轻一跃，扑入路霸的怀中。\n</p>\n<p>\n“你看，这是我给你弄到的，智能分裂子弹。”<br/>\n天使从她的包中掏出了一个黑色的小球。\n</p>\n<p>\n“我知道你很喜欢的你那把爆裂枪，所以我让温斯顿把子弹做成了这个样子。”<br/>\n拿过路霸手中的枪，天使把里面的各种碎片都倒了出来，从包里抓了一把子弹装了进去。\n</p>\n<p>\n“你看，和以前一样。”<br/>\n天使笑的很开心，落日在她的眼中熠熠生辉。\n</p>\n<p>\n“不过以后你就要动些脑子了，这种子弹遇到路口就会分裂，然后沿着每个岔路继续飞行。”<br/>\n一边说着，天使拉着路霸的手，带着他来到了训练场的边缘。\n</p>\n<p>\n“你知道的，没有完全分裂的子弹实在没什么伤害，不过你可以设定你的子弹分裂几次。”<br/>\n说着，天使朝前开了一枪，射出的子弹随即分裂，沿着前面几条岔路向前飞去，准确的击中了道路终点路口处的靶子。\n</p>\n<p>\n“刚才我设定让它只分裂一次，所以才能命中那些靶子——因为那时它已经完全分裂了。分裂后的子弹再分裂的话，分裂次数是不加在一起的。”<br/>\n凭空中出现了一个由蓝色激光构成的记分牌。\n</p>\n<p>\n“我让秩序之光和Athena重新设计了这边的地形和程序，这样你就可以练习你的新武器了——你喜欢吗？”<br/>\n天使伸出纤细的左手，轻抚着路霸的脸颊。\n</p>\n<p>\n“这里的场地有许多的路口，还有很多道路把它们连了起来，它们形成了一棵树——我不确定是不是这个词的，Athena这么告诉我的。”<br/>\n天使伸出两指向下一滑，一张地图显现在了空中。\n</p>\n<p>\n“你看，就是这样。你可以站在一个路口，向着叶子的方向发射子弹——哦是的！这地图确实像是一颗生机盎然的树，还有叶子。Athena的比喻真是贴切！”<br/>\n说着，天使朝着“叶子”的方向又开了一枪，子弹和上次一样击中那些靶子，积分版上跳出了应一个数字。\n</p>\n<p>\n“每个路口的靶子上都有一个分数，完全分裂的子弹击中靶子，你就能得到那些分数了。”<br/>\n天使指着远处的路口。\n</p>\n<p>\n“嘿你知道吗？我很喜欢叶子的，在中国，有的叶子可以拿来治病，直接泡在水里喝掉就行——小美告诉我的，她懂得真多呀！”<br/>\n地图上的路口处，上面显示的数字变了一下。\n</p>\n<p>\n“我想你发现了，路口靶子上的分数是会变的，不过我会告诉你。”<br/>\n天使把手中的爆裂枪还给了路霸，一跃而起，缓缓落在路霸的背上，轻轻环住了路霸的脖子。\n</p>\n<p>\n“对你这么好，接下来来接受我的考验吧！~”\n</p>\n<p>\nMercy said.\n</p>\n<h3>\n【问题描述】\n</h3>\n<p>\n给一包含 N 个节点的树，以 1 号点为根。\n求 u 号点的子树上，在子树中深度为 c 的点的权值和（u 号点深度为 0）。\n包含权值修改操作。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n输入共 N+Q+2 行。\n</p>\n<p>\n第 1 行包含 1 个正整数 N，表示共有 N 个节点。<br/>\n第 2 行包含 N 个由空格隔开的非负的整数 V1, V2, V3 ... VN，其中 Vi 表示编号为 i 的点的权值。<br/>\n第 2 +(1) 至 2 +(N-1) 行，每行包含 2 个正整数 fr，to，表示一边连接 fr，to 两点。<br/>\n第 N+2 行包含 1 个正整数 Q，表示接下来共有 Q 个 修改 / 询问。<br/>\n第 N+2 +(1) 至 N+2 +(Q) 行，每行包含 1 个 修改 / 询问。\n</p>\n<p>\n修改 格式：<br/>\n1 u v<br/>\n表示将 u 号点的权值改为 v。\n</p>\n<p>\n询问 格式：<br/>\n2 u c\n求 u 号点的子树上，在子树中深度为 c 的点的权值和（u 号点深度为 0）。\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n输出多行（&lt;= Q）。\n</p>\n<p>\n每行包含 1 个非负的整数，表示其对应 询问 的答案，按照输入的先后顺序依次回答。\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>7\n1 1 1 1 1 1 1\n1 2\n1 3\n2 7\n3 4\n3 6\n4 5\n7\n2 1 1\n2 1 2\n2 3 6\n1 4 5\n2 4 0\n2 1 2\n2 3 1\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>2\n3\n0\n5\n7\n6\n</pre>\n<h3>\n【数据规模与约定】\n</h3>\n<table botder=\"1\">\n<tbody>\n<tr>\n<th>\n测试点\n</th>\n<th>\nN,Q\n</th>\n</tr>\n<tr>\n<td>\n1\n</td>\n<td>\n&lt;= 10\n</td>\n</tr>\n<tr>\n<td>\n2\n</td>\n<td>\n&lt;= 100\n</td>\n</tr>\n<tr>\n<td>\n3,4\n</td>\n<td>\n&lt;= 1000\n</td>\n</tr>\n<tr>\n<td>\n5 -&gt; 10\n</td>\n<td>\n&lt;= 300000\n</td>\n</tr>\n</tbody>\n</table>\n<p>\n对于全部测试点：<br/>\n编号为 1 的点是根; fa 是 to 的父亲节点; to &gt; fa; to - fa &lt;= 50<br/>\n0 &lt;= Vi &lt;= 3000; 0 &lt;= v &lt;= 3000<br/>\nc &lt; N\n</p>\n<h3>\n【更多说明】\n</h3>\n<p>\n温斯顿的小课堂：<br/>\n“帮路霸做的子弹能够飞的那么远，就是得益于它能分裂的特点，分裂时产生的能量使得它能飞向下一个路口。”<br/>\n“所以，即使这个路口没有分叉，它也会分裂一次，对，就像运载火箭脱离一样。”\n</p>\n<p>\n“Cheers love! 天使和路霸才不是CP，流言止于智者，恩。”\n</p>\n\n"}]}