{"title":"秘术「天文密葬法」","time_limit":3000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vSXNiVegV","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<p>\n<br/>\n</p>\n<p>\n<span style=\"color:#E53333;font-size:32px;\">题目说明：</span> \n</p>\n<p>\n<span style=\"color:#E53333;font-size:32px;\">路径的长度是点数</span> \n</p>\n<p>\n<span style=\"color:#E53333;font-size:32px;\">所有整数都是正整数</span> \n</p>\n<p>\n<span style=\"color:#E53333;font-size:32px;\">已添加一句话题意</span> \n</p>\n<h3>\n【题目描述】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n永琳需要协助紫解决异变！\n</p>\n<p>\n在某个满月的夜晚，幻想乡的结界出现了异常，虽然目前还没有找到原因，不过有一点可以肯定的是，这次异变一定和满月有关。间隙妖怪紫在试图修复结界时需要永琳帮她排除满月产生的干扰，为了保护辉夜公主，永琳必须协助紫解决这次异变，所以她打算再次使用符卡&#34;秘术「天文密葬法」&#34;来用虚假的月亮替换真实的满月，但是她在使用符卡的时候出现了一些问题。\n</p>\n<p>\n&#34;秘术「天文密葬法」&#34;由n个使魔组成，每个使魔都有一个能值和一个波值，同时存在n-1条能量通道将这n个使魔连接起来，并且每个使魔都能通过能量通道和其它所有使魔相连。\n</p>\n<p>\n完成天文密葬法的关键步骤是在这n个使魔中找到一条用能量通道连接起来的路径，将大部分能量集中于这条路径来展开法术，然而路径上的使魔在法术张开时会产生共振，产生一个干扰值，干扰值等于路径上所有使魔能值的和除以波值的和。\n</p>\n<p>\n为了确保计划顺利进行，永琳需要选择一条长度为m且干扰值最小的路径，虽然作为月之头脑，但此时永琳需要集中精力展开法术，所以她向你求助。\n</p>\n<p>\n永琳在知道一个干扰值后就能快速找到这个干扰值对应的路径，你只需要告诉她所有路径中干扰值最小的路径干扰值是多少\n</p>\n<p>\n答案四舍五入到小数点后两位\n</p>\n<p>\n一句话题意：\n</p>\n<p>\n给个树，第i个点有两个权值ai和bi，现在求一条长度为m的路径，使得Σai/Σbi最小\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n第一行一个整数n,m，意义如上\n</p>\n<p>\n如果m为-1则表示对长度没有限制（但路径不能为空\n</p>\n<p>\n第二行n个整数，第i个整数ai表示第i个使魔的能值\n</p>\n<p>\n第三行n个整数，第i个整数bi表示第i个使魔的波值\n</p>\n<p>\n接下来n-1行，每行两个整数l,r，表示有一条能量路径连接第l个使魔和第r个使魔\n</p>\n<p>\n一行中的所有整数均用空格隔开\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n如果不存在长度为m的链，请输出-1\n</p>\n<p>\n否则一行一个浮点数，表示干扰值最小的路径干扰值是多少\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【样例输入1】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n3 2\n</p>\n<p>\n2 3 3\n</p>\n<p>\n6 6 6\n</p>\n<p>\n1 2\n</p>\n<p>\n2 3\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【样例输出1】\n</h3>\n<p>\n0.42\n</p>\n<h3>\n【样例输入2】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n9 3\n</p>\n<p>\n9 4 4 1 6 5 1 9 5\n</p>\n<p>\n8 3 3 1 5 4 1 8 4\n</p>\n<p>\n1 2\n</p>\n<p>\n2 3\n</p>\n<p>\n3 4\n</p>\n<p>\n3 5\n</p>\n<p>\n1 6\n</p>\n<p>\n6 7\n</p>\n<p>\n7 8\n</p>\n<p>\n6 9\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【样例输出2】\n</h3>\n<p>\n1.15\n</p>\n<h3>\n【数据范围】\n</h3>\n<p>\n</p><table style=\"border-collapse:collapse;width:235pt;\" class=\"ke-zeroborder\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"313\">\n<tbody>\n<tr>\n<td class=\"xl63\" height=\"26\" width=\"72\">\n数据标号\n</td>\n<td class=\"xl63\" width=\"72\">\nn\n</td>\n<td class=\"xl63\" width=\"72\">\nm\n</td>\n<td class=\"xl63\" width=\"97\">\nai,bi\n</td>\n</tr>\n<tr>\n<td class=\"xl64\" align=\"right\" height=\"26\" width=\"72\">\n1\n</td>\n<td rowspan=\"2\" class=\"xl67\" width=\"72\">\n&lt;=10\n</td>\n<td rowspan=\"2\" class=\"xl65\" align=\"right\" width=\"72\">\n=1\n</td>\n<td rowspan=\"20\" class=\"xl67\" width=\"97\">\n&lt;=200000\n</td>\n</tr>\n<tr>\n<td class=\"xl63\" align=\"right\" height=\"26\" width=\"72\">\n2\n</td>\n</tr>\n<tr>\n<td class=\"xl64\" align=\"right\" height=\"26\" width=\"72\">\n3\n</td>\n<td rowspan=\"4\" class=\"xl67\" width=\"72\">\n&lt;=1000\n</td>\n<td rowspan=\"14\" class=\"xl67\" width=\"72\">\n&lt;=n\n</td>\n</tr>\n<tr>\n<td class=\"xl63\" align=\"right\" height=\"26\" width=\"72\">\n4\n</td>\n</tr>\n<tr>\n<td class=\"xl64\" align=\"right\" height=\"26\" width=\"72\">\n5\n</td>\n</tr>\n<tr>\n<td class=\"xl63\" align=\"right\" height=\"26\" width=\"72\">\n6\n</td>\n</tr>\n<tr>\n<td class=\"xl64\" align=\"right\" height=\"26\" width=\"72\">\n7\n</td>\n<td rowspan=\"10\" class=\"xl67\" width=\"72\">\n&lt;=30000\n</td>\n</tr>\n<tr>\n<td class=\"xl63\" align=\"right\" height=\"26\" width=\"72\">\n8\n</td>\n</tr>\n<tr>\n<td class=\"xl64\" align=\"right\" height=\"26\" width=\"72\">\n9\n</td>\n</tr>\n<tr>\n<td class=\"xl63\" align=\"right\" height=\"26\" width=\"72\">\n10\n</td>\n</tr>\n<tr>\n<td class=\"xl64\" align=\"right\" height=\"26\" width=\"72\">\n11\n</td>\n</tr>\n<tr>\n<td class=\"xl63\" align=\"right\" height=\"26\" width=\"72\">\n12\n</td>\n</tr>\n<tr>\n<td class=\"xl64\" align=\"right\" height=\"26\" width=\"72\">\n13\n</td>\n</tr>\n<tr>\n<td class=\"xl63\" align=\"right\" height=\"26\" width=\"72\">\n14\n</td>\n</tr>\n<tr>\n<td class=\"xl64\" align=\"right\" height=\"26\" width=\"72\">\n15\n</td>\n</tr>\n<tr>\n<td class=\"xl63\" align=\"right\" height=\"26\" width=\"72\">\n16\n</td>\n</tr>\n<tr>\n<td class=\"xl64\" align=\"right\" height=\"26\" width=\"72\">\n17\n</td>\n<td rowspan=\"4\" class=\"xl67\" width=\"72\">\n&lt;=200000\n</td>\n<td rowspan=\"4\" class=\"xl67\" width=\"72\">\n=-1\n</td>\n</tr>\n<tr>\n<td class=\"xl63\" align=\"right\" height=\"26\" width=\"72\">\n18\n</td>\n</tr>\n<tr>\n<td class=\"xl64\" align=\"right\" height=\"26\" width=\"72\">\n19\n</td>\n</tr>\n<tr>\n<td class=\"xl63\" align=\"right\" height=\"26\" width=\"72\">\n20\n</td>\n</tr>\n</tbody>\n</table>\n<p></p>\n\n"}]}