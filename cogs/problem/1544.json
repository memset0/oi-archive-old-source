{"title":"Bessie洗牌法","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vQxXikgqq","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<br/>\n</p>\n<p>\nBessie正在练习牌技，她已经熟练地掌握了一种Bessie洗牌法，就是把M(2&lt;=M&lt;=100,000)张牌重新组织，使从上面数的第i张牌变成第P[i]张牌。\n</p>\n<p>\n现在Bessie正在一张大台子上洗牌，她的这副牌共有N(M&lt;=N&lt;=1,000,000,000)张,编号分别为1～N。她先取最上面的M张，并按照Bessie洗牌法洗过后再放回那撂牌的最上面，然后她把最上面那张牌拿走，正面朝下放在台子上。她将重复这个过程，并不断地将最上面的牌拿走放到另一撂上去，直到无牌可洗为止。当Bessie剩余的牌不足M张时，他将不再进行Bessie洗牌法，而是持续地拿走最上面的牌放到另一摞上去。\n</p>\n<p>\nBessie知道这副牌起初是按顺序排放的，即1号牌在最上面，下面是2号牌，……，最底下一张是N号牌。给你Bessie洗牌法的规则，请帮Bessie计算出洗牌完毕后这摞牌中Q(1&lt;=Q&lt;=N,Q&lt;=5,000)个不同位置上牌的编号。\n</p>\n<p>\n有50%的数据保证N&lt;=100,000。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n第1行有三个数，分别由一个空格隔开，即N,M,Q；\n</p>\n<p>\n接下来有M行，其中第i行为Bessie洗牌法中第i张牌的新位置P[i]（1&lt;=p[i]&lt;=M）；\n</p>\n<p>\n最后有Q行，其中第i行有一个整数q_i，表示第i个询问，你需要计算出从上往下数第q_i个位置上牌的编号，(1&lt;=q_i&lt;=N)。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n输出共有Q行，其中第i行有一个整数，表示从上面数第q_i个位置上牌的编号。\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre><p>\n5 3 5\n3\n1\n2\n1\n2\n3\n4\n5\n</p>\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre><p>\n4\n</p>\n\n<p>\n5\n</p>\n\n<p>\n3\n</p>\n\n<p>\n1\n</p>\n\n<p>\n2\n</p>\n</pre>\n<h3>\n【提示】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n输出解释：\n</p>\n<p>\n洗牌过程如下 ：\n</p>\n<p>\n[1, 2, 3, 4, 5] -&gt; [2, 3, 1, 4, 5] (2号牌被拿出，面朝下放置)\n</p>\n<p>\n[3, 1, 4, 5] -&gt; [1, 4, 3, 5] (1号牌被拿出，面朝下放置)\n</p>\n<p>\n[4, 3, 5] -&gt; [3, 5, 4] (3号牌被拿出，面朝下放置)\n</p>\n<p>\n[5, 4] (5号牌被拿出，面朝下放置)\n</p>\n<p>\n[4] (4号牌被拿出，面朝下放置)\n</p>\n<p>\n最终的顺序为（从上往下） 4, 5, 3, 1, 2\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【来源】\n</h3>\n<p>\n在此键入。\n</p>\n\n"}]}