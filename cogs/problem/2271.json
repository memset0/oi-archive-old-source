{"title":"[HZOI 2015]黑白树","time_limit":3000,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vyXxQVVWk","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n给定一棵有根树，树根为1\n</p>\n<p>\n要求支持以下三种操作：\n</p>\n<p>\n1、M u 把u这个节点反色(即白色变成黑色，黑色变成白色）\n</p>\n<p>\n2、R u 把跟u树上距离为奇数的点反色\n</p>\n<p>\n3、Q u 查询u和所有黑点的LCA的编号和\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行n,m 表示节点数目和操作数目\n</p>\n<p>\n以下n-1行，每行u，v描述一条边的两个端点，w描述边权\n</p>\n<p>\n以下m行，每行一个操作如题意所示\n</p>\n<p>\n注意：一开始树上所有节点均为白色\n</p>\n<p>\nn，m&lt;=200000,边权&lt;=1000\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n对于每个Q操作，输出答案\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>5 7\n2 1 486\n3 2 599\n4 1 463\n5 4 550\nM 2\nR 3\nM 4\nR 2\nR 4\nQ 4\nR 2</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>6</pre>\n\n"}]}