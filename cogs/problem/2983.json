{"title":"[SYOI 2019] 若能绽放光芒","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vzNxyVPUj","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<span style=\"font-family:宋体;font-size:10.5000pt;\"><span></span></span><span class=\"15\" style=\"font-family:宋体;font-weight:normal;\"></span> \n<h3>\n【题目描述】\n</h3>\n<p class=\"MsoNormal\">\n<span style=\"font-family:宋体;font-size:10.5000pt;\"> </span> \n</p>\n<p>\nCCCTATKKK在徐大师帮助下，得到了对聂病毒。为了防止TAT传播病毒，NTZ对TAT使用了他的祖传能力——传送，想把TAT传送到自家马桶里杀死。但由于HF将要上映，NTZ过于睾兴，导致施法时用力过猛，错误将TAT传送到了无限剑制空间。虽然TAT保住一命，但是，为了逃出，TAT就必须找到对界宝具。\n</p>\n<p>\n-----------------------------------------------------分鸽线--------------------------------------------------------\n</p>\n<p>\n这个空间里有n个剑制点（0~n-1），在它们之间有m个连接（无向），每个连接都有一个通过时间，在剑制点中有k个点存在光芒。已知你被传送到了0节点，想要逃离该空间，必须至少点亮一个剑制点上的光芒。以获得对界宝具，为了防止TAT逃出，当TAT处于某个剑制点时，NTZ会把不超过\n</p>\n<p>\nd 个以这个点为一端的连接断开。断开连接是随机的，TAT多次处于同一个剑制点时，\n</p>\n<p>\n断开的连接可能会有所不同。TAT也想看HF，请你告诉他，在最坏情况下，逃出的最短用时为多少，好让他知道他能不能来得及。\n</p>\n<p>\n<br/>\n</p>\n<span style=\"font-family:宋体;font-size:10.5000pt;\"><span></span></span> \n<h3>\n【输入格式】\n</h3>\n<p>\n<br/>\n</p>\n<p class=\"MsoNormal\">\n<span style=\"font-family:&#39;Times New Roman&#39;;font-size:10.5000pt;\"><span>第一行为4个正整数n,m,k,d 接下来m行，每行三个正整数u,v,dis，描述一个连接，dis表示通过时间，最后一行有k个整数，为k个光芒点。</span></span><span style=\"font-family:宋体;font-size:10.5000pt;\"><span></span></span><span style=\"font-family:宋体;font-size:10.5000pt;\"></span> \n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n一行一个整数，表示最坏情况下逃出该空间的最短用时。如果最坏情况下 逃不出该空间，输出-1\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【样例输入】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n3 4 1 1\n</p>\n<p>\n0 1 1\n</p>\n<p>\n0 1 2\n</p>\n<p>\n1 2 1\n</p>\n<p>\n1 2 2\n</p>\n<p>\n1\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【样例输出】\n</h3>\n<p>\n2\n</p>\n<h3>\n【提示】\n</h3>\n<h3>\n对于50%的数据，满足m=n-1，且剑制点互相之间至少能够间接连接。\n</h3>\n<h3>\n对于100%的数据，满足k&lt;=n&lt;=1000,m&lt;=50000 ，d&lt;=6,且连接的通过用时均为正整数。\n</h3>\n<h3>\n保证最短用时不超过10^4<br/>\n</h3>\n\n"}]}