{"title":"[USACO US open15]回文路径(金组)","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vXQQmVVaU","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<br/>\n</p>\n<p>\nFJ的农场是一个$NxN$的网格，每个网格用字母标记，比如：\n</p>\n<p>\n$ABCD$\n</p>\n<p>\n$BXZX$\n</p>\n<p>\n$CDXB$\n</p>\n<p>\n$WCBA$\n</p>\n<p>\n每天，奶牛$Bessie$从左上角走到右下角，每步要么往右走一格，要么往下走一格，\n</p>\n<p>\n$Bessie$保存她在这个过程中走过的字母形成的路径字符串.她感到迷失了方向.然而，如果这个字符串是一个回文串(从前读和从后读一样)，她就会为到底走的是哪一个方向而感到困惑。\n</p>\n<p>\n请帮助$Bessie$找出不同回文字符串路径的总数。不同路径所组成的相同回文字符串将会被统计多次。请输出结果$\\mod{1,000,000,007}$的值\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行一个正整数$N$\n</p>\n<p>\n接下来$N$行每行$N$个字符\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n只有一个整数，为所有包含不同路径的回文字符串的数目$\\mod{1,000,000,007}$<strong></strong>的值\n</p>\n<h3>\n【样例输入】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n4\n</p>\n<p>\nABCD\n</p>\n<p>\nBXZX\n</p>\n<p>\nCDXB\n</p>\n<p>\nWCBA\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【样例输出】\n</h3>\n<p>\n12\n</p>\n<h3>\n【样例解释】\n</h3>\n<p>\n$Bessie$可以产生以下回文串:\n</p>\n<p>\n1 个 $&#34;ABCDCBA&#34;$\n</p>\n<p>\n1 个 $&#34;ABCWCBA&#34;$\n</p>\n<p>\n6 个 $&#34;ABXZXBA&#34;$\n</p>\n<p>\n4 个 $&#34;ABXDXBA&#34;$\n</p>\n<p>\n总共12个\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【提示】\n</h3>\n<p>\n数据范围:\n</p>\n<p>\n对于16.67%的数据,$N&lt;=23$\n</p>\n<p>\n对于41.67%的数据,$N&lt;=280$\n</p>\n<p>\n对于100%的数据,$N&lt;=500$\n</p>\n<p>\n<strong>译者注：请注意常数因子对于程序的影响</strong> \n</p>\n<h3>\n【来源】\n</h3>\n<p>\nUSACO 2015 US open Gold\n</p>\n\n"}]}