{"title":"[HZOI 2016]水母","time_limit":5000,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vNSXzVqqe","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<span lang=\"en-us\"> </span> \n</p>\n<p>\n<img src=\"/upload/image/20170220/20170220062127_82634.png\" alt=\"\"/> \n</p>\n<p>\n水母与树有着密切的联系，水母的很多性质可以由树拓展而得，水母的很多问题可以由断链后的树解决。\n</p>\n<p>\n   某天，小TLE正在研究水母，突然他有了一个疑问：水母的深度是什么？\n</p>\n<p>\n   这个问题对小TLE来说太难了！！因为他并不能确定谁是水母的根！！\n</p>\n<p>\n   于是小TLE找到了CE学长，CE学长：你先去解决这道与深度有关的问题，我再教你这道题！\n</p>\n<p>\nCE学长的问题是这样的：\n</p>\n<p>\n     已知一个有n个结点的树的dfs序和bfs序，求其可能的深度的范围。\n</p>\n<p>\n<br/>\n</p>\n<p>\n小TLE当然不会这个问题了，于是他又找到了你：小RE！\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n<span lang=\"en-us\"> </span> \n</p>\n<p>\n第一行一个整数n\n</p>\n<p>\n接下来一行n个整数表示dfs[i]\n</p>\n<p>\n接下来一行n个整数表示bfs[i]\n</p>\n<h3>\n【输出格式】\n</h3>\n<div class=\"ptx\" lang=\"zh-CN\">\n<span lang=\"en-us\"> \n<p>\n输出两个整数mn,mx表示这棵树的深度范围[mn,mx]\n</p>\n</span> \n</div>\n<h3>\n【样例输入】\n</h3>\n<pre class=\"sio\"><p>\n5\n</p>\n\n<p>\n1 2 4 5 3\n</p>\n\n<p>\n1 2 3 4 5\n</p>\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre class=\"sio\"><p>\n3 4\n</p>\n</pre>\n<h3>\n【提示】\n</h3>\n<p>\n  样例解释：<img src=\"/upload/image/20170529/20170529200601_44158.png\" alt=\"\"/> \n</p>\n<p>\n数据范围：\n</p>\n<p>\n对于20%的数据n&lt;=10\n</p>\n<p>\n对于40%的数据n&lt;=100\n</p>\n<p>\n对于60%的数据n&lt;=2000\n</p>\n<p>\n对于80%的数据n&lt;=1000,000\n</p>\n<p>\n对于100%的数据n&lt;=10,000,000\n</p>\n<p>\n数据保证存在一棵合法的树同时满足dfs序和bfs序。\n</p>\n<p>\n对于树中任意的三个节点a,b,fa,如果a,b都是fa的儿子，则a,b在bfs序中和dfs序中的相对前后位置是一致的。\n</p>\n<p>\n您可能需要[快读代码]:\n</p>\n<pre class=\"prettyprint lang-cpp\">int read()\n{\t\n\tchar ch=getchar();\n\twhile(ch&lt;&#39;0&#39;||ch&gt;&#39;9&#39;)ch=getchar();\n\tint x=0; \n\twhile(ch&gt;=&#39;0&#39;&amp;&amp;ch&lt;=&#39;9&#39;)x=x*10+ch-48,ch=getchar(); \n\treturn x;\n}</pre>\n<p>\n您可能需要[开栈代码]：\n</p>\n<pre class=\"prettyprint lang-cpp\">        int __size__=32&lt;&lt;20;\n\tchar *__p__=(char*)malloc(__size__)+__size__;\n\t__asm__(&#34;movl %0, %%esp\\n&#34;::&#34;r&#34;(__p__));</pre>\n<h3>\n【来源】\n</h3>\n<p>\n一只名字很长的蒟蒻。\n</p>\n\n"}]}