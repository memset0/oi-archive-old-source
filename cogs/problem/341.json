{"title":"[NOI2005] 聪聪与可可","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=piXXQyjqk","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<p>\n【问题描述】\n</p>\n<p>\n在一个魔法森林里，住着一只聪明的小猫聪聪和一只可爱的小老鼠可可。虽然灰姑娘非常喜欢她们俩，但是，聪聪终究是一只猫，而可可终究是一只老鼠，同样不变的是，聪聪成天想着要吃掉可可。\n</p>\n<p>\n一天，聪聪意外得到了一台非常有用的机器，据说是叫GPS，对可可能准确的定位。有了这台机器，聪聪要吃可可就易如反掌了。于是，聪聪准备 马上出发，去找可可。而可怜的可可还不知道大难即将临头，仍在森林里无忧无虑的玩耍。小兔子乖乖听到这件事，马上向灰姑娘报告。灰姑娘决定尽快阻止聪聪， 拯救可可，可她不知道还有没有足够的时间。\n</p>\n<p>\n整个森林可以认为是一个无向图，图中有N个美丽的景点，景点从1至N编号。小动物们都只在景点休息、玩耍。在景点之间有一些路连接。\n</p>\n<p>\n当聪聪得到GPS时，可可正在景点M(M≤N)处。以后的每个时间单位，可可都会选择去相邻的景点(可能有多个)中的一个或停留在原景点不 动。而去这些地方所发生的概率是相等的。假设有P个景点与景点M相邻，它们分别是景点R、景点S，……景点Q，在时刻T可可处在景点M，则在(T＋1)时 刻，可可有1/(P+1)的可能在景点R，有1/(P+1)的可能在景点S，……，有1/(P+1)的可能在景点Q，还有1/(P+1)的可能停在景点 M。\n</p>\n<p>\n我们知道，聪聪是很聪明的，所以，当她在景点C时，她会选一个更靠近可可的景点，如果这样的景点有多个，她会选一个标号最小的景点。由于聪聪太想吃掉可可了，如果走完第一步以后仍然没吃到可可，她还可以在本段时间内再向可可走近一步。\n</p>\n<p>\n在每个时间单位，假设聪聪先走，可可后走。在某一时刻，若聪聪和可可位于同一个景点，则可怜的可可就被吃掉了。灰姑娘想知道，平均情况下，聪聪几步就可能吃到可可。而你需要帮助灰姑娘尽快的找到答案。\n</p>\n<p>\n【输入文件】\n</p>\n<ul>\n<li>\n从文件中读入数据。\n</li>\n<li>\n数据的第1行为两个整数N和E，以空格分隔，分别表示森林中的景点数和连接相邻景点的路的条数。\n</li>\n<li>\n第2行包含两个整数C和M，以空格分隔，分别表示初始时聪聪和可可所在的景点的编号。\n</li>\n<li>\n接下来E行，每行两个整数，第i+2行的两个整数Ai和Bi表示景点Ai和景点Bi之间有一条路。\n</li>\n<li>\n所有的路都是无向的，即：如果能从A走到B，就可以从B走到A。\n</li>\n<li>\n输入保证任何两个景点之间不会有多于一条路直接相连，且聪聪和可可之间必有路直接或间接的相连。\n</li>\n</ul>\n<p>\n【输出文件】\n</p>\n<ul>\n<li>\n输出到文件中。\n</li>\n<li>\n输出1个实数，四舍五入保留三位小数，表示平均多少个时间单位后聪聪会把可可吃掉。\n</li>\n</ul>\n<p>\n【样例输入1】\n</p>\n<pre>4 3\n1 4\n1 2\n2 3\n3 4\n</pre>\n<p>\n【样例输出1】\n</p>\n<pre>1.500\n</pre>\n<p>\n【样例说明1】\n</p>\n<p>\n开始时，聪聪和可可分别在景点1和景点4。\n</p>\n<p>\n第一个时刻，聪聪先走，她向更靠近可可(景点4)的景点走动，走到景点2，然后走到景点3；假定忽略走路所花时间。\n</p>\n<p>\n可可后走，有两种可能：\n</p>\n<p>\n第一种是走到景点3，这样聪聪和可可到达同一个景点，可可被吃掉，步数为1，概率为 0.5。 第二种是停在景点4，不被吃掉。概率为 0.5。\n</p>\n<p>\n到第二个时刻，聪聪向更靠近可可(景点4)的景点走动，只需要走一步即和可可在同一景点。因此这种情况下聪聪会在两步吃掉可可。\n</p>\n<p>\n所以平均的步数是1* 0.5+2* 0.5=1.5步。\n</p>\n<p>\n【样例输入2】\n</p>\n<pre>9 9\n9 3\n1 2\n2 3\n3 4\n4 5\n3 6\n4 6\n4 7\n7 8\n8 9\n</pre>\n<p>\n【样例输出2】\n</p>\n<pre>2.167\n</pre>\n<p>\n【样例说明2】\n</p>\n<p>\n森林如下图所示：\n</p>\n<p>\n<img alt=\"Image:Cchkk.gif\" src=\"../../../../mw/images/7/71/Cchkk.gif\" height=\"195\" width=\"325\"/> \n</p>\n<p>\n【数据范围】\n</p>\n<ul>\n<li>\n对于所有的数据，1≤N,E≤1000。\n</li>\n<li>\n对于50%的数据，1≤N≤50。\n</li>\n</ul>\n\n"}]}