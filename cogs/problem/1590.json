{"title":"[USACO Feb14] 奶牛的十项全能","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vJQizkgPa","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n农夫约翰的奶牛（1≤n≤20），总是方便的标记为1……N，或许应该叫N项全能，因为有N个不同的事件（通常有10个事件）。\n</p>\n<p>\n牛i有一个s_ij的技能水平（1&lt;=s_ij＜＝1000），是牛i在参与项目j时会得到的分数。每头奶牛必须且只能参加一个项目，每个事件必须有一些牛参加。\n</p>\n<p>\n所有奶牛总得分为他们参加项目事件中的技能水平和。然而，项目的裁判如果有深刻印象，可以给出奖励分。评委可以给出B种奖励分（1≤B≤20）。奖励分i有三部分：如果奶牛在前k_i事件（包括这些事件其他牛的分数）获得了至少p_i（1&lt; = p_i＜＝40000）分，他们将获得额外的a_i（1&lt;=a_i&lt;=1000）分（前k项触发的奖励积分不算到前k项的分数和，但算到之后的分数和中）。\n</p>\n<p>\n例如，让我们考虑n = 3头牛技能水平如下：\n</p>\n<center>\n<table height=\"150\" border=\"1\" width=\"237\">\n<tbody>\n<tr>\n<td valign=\"middle\" align=\"center\" width=\"48\">\n \n</td>\n<td colspan=\"4\" valign=\"middle\" align=\"center\">\ncow\n</td>\n</tr>\n<tr>\n<td rowspan=\"4\" valign=\"middle\" align=\"center\">\nevent\n</td>\n<td valign=\"middle\" align=\"center\" width=\"39\">\n \n</td>\n<td valign=\"middle\" align=\"center\" width=\"42\">\n1\n</td>\n<td valign=\"middle\" align=\"center\" width=\"44\">\n2\n</td>\n<td valign=\"middle\" align=\"center\" width=\"30\">\n3\n</td>\n</tr>\n<tr>\n<td valign=\"middle\" align=\"center\">\n1\n</td>\n<td valign=\"middle\" bgcolor=\"#FFFF66\" align=\"center\">\n5\n</td>\n<td valign=\"middle\" bgcolor=\"#FFFF66\" align=\"center\">\n1\n</td>\n<td valign=\"middle\" bgcolor=\"#FFFF66\" align=\"center\">\n7\n</td>\n</tr>\n<tr>\n<td valign=\"middle\" align=\"center\">\n2\n</td>\n<td valign=\"middle\" bgcolor=\"#FFFF66\" align=\"center\">\n2\n</td>\n<td valign=\"middle\" bgcolor=\"#FFFF66\" align=\"center\">\n2\n</td>\n<td valign=\"middle\" bgcolor=\"#FFFF66\" align=\"center\">\n4\n</td>\n</tr>\n<tr>\n<td valign=\"middle\" align=\"center\">\n3\n</td>\n<td valign=\"middle\" bgcolor=\"#FFFF66\" align=\"center\">\n4\n</td>\n<td valign=\"middle\" bgcolor=\"#FFFF66\" align=\"center\">\n2\n</td>\n<td valign=\"middle\" bgcolor=\"#FFFF66\" align=\"center\">\n1\n</td>\n</tr>\n</tbody>\n</table>\n</center>\n<h3>\n【输入格式】\n</h3>\n<p>\n第1行为N和B；\n</p>\n<p>\n接下来有B行（2--B+1），其中第i+1行为 K_i, P_i,A_i；\n</p>\n<p>\n再接下来有N行（B+2--B+1+N），其中第B+N+j行表示 s_j1...s_jN. 。\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n输出只有一行，即牛得到的最大分数，包括奖励分。\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>3 1\n2 7 6\n5 1 7\n2 2 4\n4 2 1\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>17</pre>\n<h3>\n【提示】\n</h3>\n<p>\n输出解释：\n</p>\n<p>\n牛1参与项目1，牛2参与项目3，牛3参与项目2。\n</p>\n<h3>\n【来源】\n</h3>\n<p>\nUSACO Feb14\n</p>\n\n"}]}