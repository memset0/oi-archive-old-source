{"title":"情书密码","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vmmzNVgPP","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n有消息称：绝恋找到了自己的Miss Right，正准备自己的表白。绝恋已经写好了情书，但为了避免其它人截获，他对情书进行加密。\n</p>\n<p>\n为了打探绝恋的私密，你冒着生命危险终于搞到了这封情书。原以为可以轻易将情书解密，结果竟然发现聪明的绝恋并没有直接写出加密用的密码，而是在那粉红色的信纸背面写着“T=你的幸运数字”。\n</p>\n<p>\n就这么放弃了吗？不，作为一个高智商的OIer，你决不轻言放弃。你还搞到了绝恋做密码时的草稿，通过一定的分析，你发现草稿中隐藏了绝恋的密码，具体规则如下：\n</p>\n<p>\n草稿纸上写着一个N*M 的矩阵，每个位置都有一个数字C，绝恋对该矩阵不断进行操作，有时会修改某一位置的值，还不时计算出一个矩形内特定数字的个数作为密码的一部分，绝恋十分聪明，他进行了许多次这样的操作，因此密码也异常复杂，但是你已经下定决心要算出密码了，所以你一定要算出来！！\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n第一行有两个数字N,M\n</p>\n<p>\n接下来N 行，每行M 个数，第i+1 行第j 个数表示格子（i，j）的初始值。\n</p>\n<p>\n接下来一个整数Q\n</p>\n<p>\n接下来Q 行，每行描述一个操作\n</p>\n<p>\n操作1：“1 X Y C”(不含引号),表示将格子(X,Y)的权值改为C\n</p>\n<p>\n操作2：“2 X1 X2 Y1 Y2 C”(不含引号)，表示询问矩形内有多少个位置的权值为C。X1,X2 分别为矩形横坐标中的最小值和最大值，Y1,Y2 为矩形纵坐标中的最小值和最大值。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n对于每一个操作2，输出一个整数表示答案，每数一行。\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre><p>\n3 3\n1 2 3\n3 2 1\n2 1 3\n\n3\n2 1 2 1 2 1\n1 2 3 2\n2 2 3 2 3 2\n</p>\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre><p>\n1\n2\n</p>\n</pre>\n<h3>\n【提示】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n对于30%的数据：1&lt;=N,M&lt;=30,Q&lt;=50000\n</p>\n<p>\n对于100%的数据：1&lt;=N,M&lt;=300,Q&lt;=200000,C&lt;=100,\n</p>\n<p>\n对于所有操作1：1&lt;=X&lt;=N,1&lt;=Y&lt;=M对于所有操作2：1&lt;=X1&lt;=X2&lt;=N,1&lt;=Y1&lt;=Y2&lt;=M.\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【来源】\n</h3>\n<p>\n在此键入。\n</p>\n\n"}]}