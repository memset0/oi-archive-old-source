{"title":"[POI2004]逻辑门","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vSzixkegW","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n让我们考虑一个有n个门的电路。这些门从0到n-1编号。每个门有着确定数目的输入和一个输出。所有这些输入输出的值都是0，1或1/2.每个输入都来自某个门的一个输出，这两者的值相等。每个输出可以和不止一个输入相连。编号为0，1的门是特殊的——它们没有输入，并且输出值总是等于其编号：0号门总是输出0，1号门总是输出1.我们说门的输出状态（简称为门的状态）是合法的，如果满足以下条件：\n</p>\n<p>\n·a) 输出值等于0并且这个门的输入中0多于1.\n</p>\n<p>\n·b) 输出值等于1/2并且这个门的输入中0与1数目相同。\n</p>\n<p>\n·c) 输出值等于1并且这个门的输入中1多于0.\n</p>\n<p>\n·d) 这个门是特殊的，即其编号为0或1，并且其输出值等于编号。\n</p>\n<p>\n当所有门的状态都合法时，我们称这个电路是合法的。我们说一个门的状态是固定的，如果这个门的输出状态在所有有效电路中都一样。\n</p>\n<p>\n你需要读入电路的描述，并且对每个门，计算出它的状态是否固定，如果固定，这个状态是多少。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n输入文件的第一行是门的数量n，2&lt;=n&lt;=10000.\n</p>\n<p>\n第2行到第n-1行描述了门的连接状态。第i行包含i号门的输入。这一行开头有一个整数k_i表示输入个数（k_i&gt;=1），接下来有k_i个整数，描述了i号门的输入来自哪些门的输出。其中k_i&gt;=1。这些数都用空格隔开。所有门的输入数之和不超过200000.\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n输出n行，依次描述从0号门到n-1号门的固定情况。\n</p>\n<p>\n根据i-1号门的状态，第i行应当输出：\n</p>\n<p>\n·0——如果i号门的状态固定为0，\n</p>\n<p>\n·1/2——如果i号门的状态固定为1/2，\n</p>\n<p>\n·1——如果i号门的状态固定为1，\n</p>\n<p>\n·?（问号）——如果不确定\n</p>\n<h3>\n【样例输入】\n</h3>\n<p>\n5\n</p>\n<p>\n2 0 1\n</p>\n<p>\n2 4 2\n</p>\n<p>\n2 2 4\n</p>\n<h3>\n【样例输出】\n</h3>\n<p>\n0\n</p>\n<p>\n1\n</p>\n<p>\n1/2\n</p>\n<p>\n?\n</p>\n<p>\n?\n</p>\n<h3>\n【提示】\n</h3>\n<p>\n样例如下图：\n</p>\n<p>\n<img src=\"/upload/image/20140610/20140610120037_25842.png\" alt=\"\"/> \n</p>\n<h3>\n【来源】\n</h3>\n<p>\n<a href=\"http://www.oi.edu.pl/old/php/show.php?ac=e180811&amp;module=show&amp;file=zadania/oi11/bra\" target=\"_blank\">POI 2004 Gates</a> \n</p>\n\n"}]}