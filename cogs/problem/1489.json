{"title":"[UVa 11427] 玩纸牌","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=viimmkqUP","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<strong>本题目有一定的数学背景。</strong> \n</p>\n<p>\n题中要求计算一个随机变量的期望值。如果你之前没有听说过这些数学名词，下面给出了一些简单的定义。一个随机变量是一个可以取若干个值的变量，对于每个可能值，它都有一定概率取这个值。取到每个可能值的概率都是正的，并且它们的和是1.随机变量的数学期望是它所有可能值与其对应概率之积的乘积总和（对它有一些更为复杂，形式化的定义，但你现在不需要用到这些）。例如，一个标准的6面骰子投出后上面的值是一个随机变量，有6个可能值（1到6），取到每个可能值的概率都是1/6.那么它的数学期望就是1/6+2/6+...+6/6=3.5.\n</p>\n<p>\n<strong>下面是题目内容。</strong> \n</p>\n<p>\n我喜欢玩纸牌接龙。每次我都有p的概率赢，1-p的概率输。游戏程序会统计我获胜盘数的百分比。如果我一直玩下去，这个百分比就会在p*100%左右浮动。但我仍不满足。\n</p>\n<p>\n这是我的计划。每天，我都会玩纸牌接龙。如果我赢了，我就高高兴兴地去睡觉。如果我输了，我就一直玩下去直到我这天获胜盘数的百分比严格大于p。这时，我就会宣布胜利，然后高高兴兴地去睡觉。你可以看到，每天我都可以宣布自己保持了获胜比例大于p*100%。我打败了数学规律！\n</p>\n<p>\n如果你感觉这里好像有什么奇怪的东西，那你就对了。我不可能永远这么做，因为我每天玩的游戏盘数有限。我每天至多玩n盘游戏。那么，这个机智的计划在因为这一限制失败前，执行天数的数学期望是多少？值得注意的是，答案至少为1，因为我至少要玩一天才能发现计划失败了。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n输入包含多组数据。\n</p>\n<p>\n输入文件的第一行是数据组数N。\n</p>\n<p>\n接下来是N组数据。每组数据有一行，包含p（写成分数）和n。\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n对于每组数据，输出一行&#34;Case #x: y&#34;，其中x是数据组数（从1开始），y是期望天数，向下取整。\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>4\n1/2 1\n1/2 2\n0/1 10\n1/2 3\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>Case #1: 2\nCase #2: 2\nCase #3: 1\nCase #4: 2\n</pre>\n<h3>\n【提示】\n</h3>\n<p>\n1&lt;=N&lt;=3000,0&lt;=p&lt;1\n</p>\n<p>\np的分母不超过1000。\n</p>\n<p>\n1&lt;=n&lt;=100。\n</p>\n<p>\n答案允许有±1的误差。\n</p>\n<h3>\n【来源】\n</h3>\n<p>\n<a href=\"http://uva.onlinejudge.org/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=481&amp;page=show_problem&amp;problem=2422\" target=\"_blank\">UVa 11427 Expecte the Expected</a> \n</p>\n<p>\n刘汝佳，《算法竞赛入门经典训练指南》表2.8\n</p>\n\n"}]}