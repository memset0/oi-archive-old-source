{"title":"wcg树","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vyzNzVUjW","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<br/>\n</p>\n<p>\nwcg有一棵节点数为n 的有根树，现在需要给每个节点标号，要求对应子树同构的节点标号相同。\n</p>\n<p>\n若图G1,G2 同构，则存在G1 点集和G2 点集之间的双射ϕ，满足u → v 是G1 中的一条边当且仅当\n</p>\n<p>\nϕ(u) → ϕ(v) 是G2 中的一条边。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n第一行包含一个数n(1 &lt;=\u0014 n &lt;=\u0014 10e5)，表示树的点数。\n</p>\n<p>\n第二行包含n - 1 个数，第i 个数表示编号为i + 1 点的父节点编号，满足父节点的编号小于子节点，根\n</p>\n<p>\n节点编号为1。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n一行包含n 个数，表示节点标号，标号大小范围在1 到n 之间。如果有多种标号，给出字典序最小的标\n</p>\n<p>\n号。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre><p>\n9\n</p>\n\n<p>\n1 2 2 1 5 5 7 7\n</p>\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>1 2 3 3 4 3 2 3 3</pre>\n<h3>\n【提示】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n对于30% 的数据，n \u0014&lt;= 12。\n</p>\n<p>\n对于50% 的数据，n \u0014&lt;= 100。\n</p>\n<p>\n对于100% 的数据，n \u0014&lt;= 10e5。\n</p>\n<p>\n<br/>\n</p>\n<p>\n如果看不懂题目描述，可以这么理解：将树上每个节点构成的子树（以此节点为根）分到不同的集合里，每个集合里所有的子树的结构都必须相同，然后输出每个节点构成的子树所属的集合，同时尽量满足答案的字典序小。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【来源】\n</h3>\n<p>\nqbxt 2017.10.6 t2\n</p>\n\n"}]}