{"title":"[国家集训队 2010] 小Z的袜子","time_limit":1000,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vxQmSkWWg","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n作为一个生活散漫的人，小 Z 每天早上都要耗费很久从一堆五颜六色的袜子中找出一双来穿。终于有一天，小 Z 再也无法忍受这恼人的找袜子过程，于是他决定听天由命……\n</p>\n<p>\n具体来说，小 Z 把这 $N$ 只袜子从 $1$ 到 $N$ 编号，然后从编号 $L$ 到 $R(L\\lt R)$ 的这 $R-L+1$ 只袜子中随机抽出两只穿上。\n</p>\n<p>\n尽管小 Z 并不在意两只袜子是不是完整的一双，甚至不在意两只袜子是否一左一右，他却很在意袜子的颜色，毕竟穿两只不同色的袜子会很尴尬。\n</p>\n<p>\n你的任务便是告诉小 Z，他有多大的概率抽到两只颜色相同的袜子。当然，小 Z 希望这个概率尽量高，所以他可能会询问多个 $(L,R)$ 以方便自己选择。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n输入文件第一行包含两个正整数 $N$ 和 $M$。$N$ 为袜子的数量，$M$ 为小 Z 所提的询问的数量。\n</p>\n<p>\n接下来一行包含 $N$ 个正整数 $C_i$，其中 $C_i$ 表示第 $i$ 只袜子的颜色，相同的颜色用相同的数字表示。\n</p>\n<p>\n再接下来 $M$ 行，每行两个正整数 $L,R$ 表示一个询问。\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n输出文件包含 $M$ 行，对于每个询问在一行中输出分数 $A/B$ 表示从该询问的区间 $[L,R]$ 中随机抽出两只袜子颜色相同的概率。若该概率为 $0$ 则输出 $0/1$，否则输出的 $A/B$ 必须为最简分数。（详见样例）\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>6 4\n1 2 3 3 3 2\n2 6\n1 3\n3 5\n1 6\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>2/5\n0/1\n1/1\n4/15\n</pre>\n<h3>\n【样例说明】\n</h3>\n<p>\n询问1：共C(5,2)=10种可能，其中抽出两个2有1种可能，抽出两个3有3种可能，概率为(1+3)/10=4/10=2/5。\n</p>\n<p>\n询问2：共C(3,2)=3种可能，无法抽到颜色相同的袜子，概率为0/3=0/1。\n</p>\n<p>\n询问3：共C(3,2)=3种可能，均为抽出两个3，概率为3/3=1/1。\n</p>\n<p>\n注：上述C(a, b)表示组合数，组合数C(a, b)等价于在a个不同的物品中选取b个的选取方案数。\n</p>\n<h3>\n【数据范围及约定】\n</h3>\n<p>\n30% 的数据中 $N,M\\le 5000$；\n</p>\n<p>\n60% 的数据中 $N,M\\le 25000$；\n</p>\n<p>\n100% 的数据中 $N,M\\le 50000$，$1\\le L\\lt R\\le N$，$C_i\\le N$。\n</p>\n<h3>\n【来源】\n</h3>\n<p>\n2010中国国家集训队命题答辩\n</p>\n<p>\n【2018.10.22】题面已修复。\n</p>\n\n"}]}