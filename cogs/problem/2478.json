{"title":"[HZOI 2016] 简单的最近公共祖先","time_limit":2000,"memory_limit":128,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vimyJVqWU","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<span lang=\"en-us\"></span> \n</p>\n<p>\n给定一棵有n个节点的有根树，根节点为1，每个节点有一个权值$w_i$，求\n</p>\n<p>\n<img alt=\"\" src=\"/upload/image/20160928/20160928172125_90927.png\"/> \n</p>\n<p>\n即求所有无序节点对的LCA的权值之和。\n</p>\n<p>\n树的节点编号为1~n，LCA表示两节点的最近公共祖先，即在它们的所有公共祖先中离根节点最远的节点。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行一个整数n，表示节点数。\n</p>\n<p>\n第二行n个正整数，表示每个点的权值。\n</p>\n<p>\n以下n-1行每行两个整数x,y，表示树上有一条边连接节点x和节点y。\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n一个整数，表示答案。\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>3\n1 2 3\n1 2\n1 3</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>9</pre>\n<h3>\n【数据范围与约定】\n</h3>\n<p>\n对于30%的数据，n&lt;=1000。\n</p>\n<p>\n对于60%的数据，n&lt;=100000。\n</p>\n<p>\n对于100%的数据，1&lt;=n&lt;=1000000，0&lt;$w_i$&lt;=1000000。\n</p>\n<h3>\n【来源】\n</h3>\n<p>\nHZOI 2016\n</p>\n\n"}]}