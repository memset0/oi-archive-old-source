{"title":"神秘的常数π-改正版","time_limit":256000,"memory_limit":2048,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vzmmmVkWV","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<span style=\"font-size:32px;\"><br/>\n</span> \n</p>\n<p>\n<span style=\"font-size:32px;\">【题目1402原题】</span> \n</p>\n<p>\n<br/>\n</p>\n<p>\n   古希腊的大哲学家毕达哥拉斯(Pythagoras)很早就注意到数学与大千世界的联系，对数学科学的发展有着功不可没的贡献。他还创立了古希腊影响最深远的学派之一—毕达哥拉斯学派。毕达哥拉斯学派对数字的认识达到了审美的高度。他们相信，在这个世界中&#34;万物皆数&#34;，所有事物都可以用整数和整数之比来描述。\n</p>\n<p>\n   然而，毕达哥拉斯学派有一位叫做希帕索斯(Hippasus)的学者发现，边长为1的正方形的对角线长度不能用整数比来表示。这一惊人的发现使他被扔进的大海。\n</p>\n<p>\n<img alt=\"\" src=\"/upload/image/20131115/20131115132455_58237.gif\"/> \n</p>\n<p>\n<br/>\n</p>\n<p>\n<br/>\n</p>\n<p>\n   为了探索这些奇妙的数字。CH同学需要一个计算精度极高的程序来计算无理数的近似值。\n</p>\n<p>\n   CH同学决定从他接触的第一个无理数开始研究—π。\n</p>\n<p>\n计算π的方法多种多样，CH同学为你提供了一些参考方案：\n</p>\n<img alt=\"\" src=\"/upload/image/20130929/20130929012810_56020.png\"/> \n<p>\n<br/>\n</p>\n<p>\n<img alt=\"\" src=\"/upload/image/20130929/20130929012930_40685.png\"/> \n</p>\n<p>\n<img alt=\"\" src=\"/upload/image/20130929/20130929012955_97664.png\"/> \n</p>\n<p>\n<img alt=\"\" src=\"/upload/image/20130929/20130929013031_68709.png\"/> \n</p>\n<p>\n<span style=\"font-size:32px;\"><br/>\n</span> \n</p>\n<p>\n<span style=\"font-size:32px;\">【原题End】</span> \n</p>\n<p>\n<br/>\n</p>\n<p>\n那个...原题测试数据有误，笔者特将其改正，完善后重新上传（笔者并非原题笔者）。\n</p>\n<p>\n（OIers：<img alt=\"\" src=\"/kindeditor/plugins/emoticons/images/42.gif\" border=\"0\"/>好人啊！原题实在过不去啊！）\n</p>\n<p>\n打表者勿入，最小N为131072。但各种限制更加宽松。\n</p>\n<p>\n（OIers：打表传不上去啊<img alt=\"\" src=\"/kindeditor/plugins/emoticons/images/27.gif\" border=\"0\"/>怪不得...）\n</p>\n<p>\n然而这意味着……\n</p>\n<p>\n（OIers：又要写高精度<img alt=\"\" src=\"/kindeditor/plugins/emoticons/images/18.gif\" border=\"0\"/>！）\n</p>\n<p>\n另：增加前两个测试点作为骗分测试点，打表者随意~~~<img alt=\"\" src=\"/kindeditor/plugins/emoticons/images/13.gif\" border=\"0\"/> \n</p>\n<p>\n改正版题目描述与原题一致。\n</p>\n<p>\n另添加几个较为有用的公式：\n</p>\n<p>\n<br/>\n</p>\n<p>\n1.简洁神器——BBP公式（贝利－波尔温－普劳夫公式）：\n</p>\n<p>\n<img alt=\"\" src=\"/upload/image/20160306/20160306164355_57551.png\"/> \n</p>\n<p>\n（注意：没有高精度分母）\n</p>\n<p>\n<br/>\n</p>\n<p>\n2.高速神器——GLA公式（高斯-勒让德公式）：\n</p>\n<p>\n初始化：\n</p>\n<p>\n<img alt=\"\" src=\"/upload/image/20160306/20160306164434_81229.png\"/> \n</p>\n<p>\n迭代：\n</p>\n<p>\n<img alt=\"\" src=\"/upload/image/20160306/20160306165235_21050.png\"/> \n</p>\n<p>\n最终计算：\n</p>\n<p>\n<img alt=\"\" src=\"/upload/image/20160306/20160306164552_30221.png\"/> \n</p>\n<p>\n<br/>\n</p>\n<p>\n3.神器中的神器——FFT（快速傅里叶变换，用于高精度乘法）：\n</p>\n<p>\n(略)<img alt=\"\" src=\"http://cojs.tk/kindeditor/plugins/emoticons/images/44.gif\" border=\"0\"/> \n</p>\n<p>\n<br/>\n</p>\n<p>\n有了上面的神（ti）器（shi），相信各位OIers定能AC此题！\n</p>\n<p>\n<span style=\"color:#FFFFFF;background-color:#E53333;\"><span style=\"color:#E53333;background-color:#FFFFFF;\">警告：本题I/O量</span></span><span style=\"color:#FFFFFF;background-color:#E53333;\"><span style=\"color:#E53333;background-color:#FFFFFF;\"><span><b><u>极大</u></b></span></span></span><span style=\"color:#FFFFFF;background-color:#E53333;\"><span style=\"color:#E53333;background-color:#FFFFFF;\">，</span><strong><span style=\"color:#E53333;background-color:#FFFFFF;\">不宜</span></strong><span style=\"color:#E53333;background-color:#FFFFFF;\">使用C++流I/O！</span></span> \n</p>\n<p>\n改正版测试数据来源：<span style=\"color:#EE33EE;background-color:#FFFFFF;\">Wolfram Mathematica 9</span> \n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n一个整数N（描述精度），表示小数点后的位数\n</p>\n<p>\n与原题不同的是，N≤17000000。<span style=\"font-size:14px;\"></span> \n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\nπ的近似值,为了方便观察， 第一行为“PI=3.”\n</p>\n<p>\n(第二行无数据，以便观察)\n</p>\n<p>\n第三行起为小数部分。为便于观察，每10个数字为一组（组与组之间空一格），每5组为一行，每20行间空一行。\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>15</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>Pi=3.\n\n1415926535 89793</pre>\n<h3>\n【提示】\n</h3>\n<p>\n尽量保证精度。若精度为n，则小数点后第n+1位不予考虑，直接舍弃，不进行四舍五入运算。\n</p>\n<p>\n数据规模：N≤17000000\n</p>\n<h3>\n【来源】\n</h3>\n<p>\nundefined\n</p>\n\n"}]}