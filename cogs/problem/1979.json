{"title":"[TJOI 2015] 棋盘","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vQymzkPWP","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n为了提高智商，ZJY去新世界旅游了。可是旅游过后的ZJY杯具的发现，要打开通往原来世界的门，必须要解开门上面画的谜题。谜题是这样的：有一个n行m列的棋盘，棋盘上可以放许多特殊的棋子。每个棋子的攻击范围是3行，p列。输入数据用一个3 × p的矩阵给出了棋子攻击范围的模板，棋子被默认为模板中的第1行，第k列，则棋子能攻击到的位置是1，不能攻击到的位置是0。1 ≤ p ≤ m，0 ≤ k &lt; p，输入数据保证第1行第k列的位置是1。打开门的密码就是，在要求棋子互相不能攻击到的前提下，摆放棋子的方案数。注意什么棋子都不摆放也算作一种可行方案。由于方案数可能很大，而密码为32位的二进制密码，所以ZJY仅需要知道方案数对2的32次方取余数的结果即可。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n输入数据的第一行为两个整数n和m，表示棋盘的大小。第二行为两个整数p和k，表示接下来的攻击范围模板的大小，以及棋子在模板中的位置。接下来三行，每行有p个数，表示攻击范围的模版。每个数字后有一个空格。\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n输出数据仅有一行，一个整数，表示可行的方案数模2^32的余数。\n</p>\n<h3>\n【样例输入】\n</h3>\n<p>\n2 2\n</p>\n<p>\n3 1\n</p>\n<p>\n0 1 0\n</p>\n<p>\n1 1 1\n</p>\n<p>\n0 1 0\n</p>\n<h3>\n【样例输出】\n</h3>\n<p>\n7\n</p>\n<h3>\n【提示】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n对于10%的数据，1 ≤ n ≤ 5，1 ≤ m ≤ 5\n</p>\n<p>\n对于50%的数据，1 ≤ n ≤ 1000，1 ≤ m ≤ 6\n</p>\n<p>\n对于100%的数据，1 ≤ n ≤ 1000000，1 ≤ m ≤ 6\n</p>\n<p>\n<br/>\n</p>\n\n"}]}