{"title":"[POI 2014] 快递员","time_limit":2000,"memory_limit":128,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vSQmxkUVW","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\nByteasar 为 BAJ，一家电脑游戏公司工作。BAJ 公司和许多快递公司合作，以把 BAJ 公司卖出的游戏送到顾客家中。Byteasar 正在检查 BAJ 公司和快递员们的合作状况。他有许多连续的包裹，分别指定了负责运输的公司。他希望确保没有一家公司有着不公平的优势。\n</p>\n<p>\n如果某一家快递公司在某段时间内运送了<strong>大于</strong>一半的包裹，我们就称它<strong>主导</strong>了这一段时间。Byteasar 希望对于一个确定的时间段，找出它被哪一家公司主导（如果有的话）。\n</p>\n<p>\n帮帮 Byteasar 写一个程序，计算主导的公司或者确定没有解。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行有两个整数 $n,m(1\\le n,m\\le 500000)$，由空格隔开，代表 BAJ 公司发出的包裹数，以及需要计算主导公司的时间段数量。快递公司被编号为 $1$ 到（至多）$n$。\n</p>\n<p>\n第二行有个 $n$ 个整数，$p_1,p_2,\\dots ,p_n(1\\le p_i\\le n)$，由空格隔开。$p_i$ 是负责运送（按照发货时间）第 $i$ 个包裹的公司。\n</p>\n<p>\n接下来 $m$ 行给出了询问，每个询问一行。每个询问有两个整数 $a,b(1\\le a\\le b\\le n)$，由空格隔开。这意味着你需要计算主导第 $a$ 到 $b$ 个包裹这一段区间的快递公司。\n</p>\n<p>\n在 65% 的数据中 $n,m\\le 50000$，在 30% 的数据中 $n,m\\le 5000$。\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n每个询问一行一个整数：主导该时间段的公司，或 $0$（代表无解）。\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>7 5\n1 1 3 2 3 4 3\n1 3\n1 4\n3 7\n1 7\n6 6\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>1\n0\n3\n0\n4\n</pre>\n<h3>\n【来源】\n</h3>\n<p>\n[POI 2014] Couriers\n</p>\n\n"}]}