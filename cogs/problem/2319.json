{"title":"地球往事","time_limit":2000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vXSxmVjkP","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n地球三体组织的头领叶文洁需要跟三体组织进行交流，三体组织为了保密信息，使用了一种神奇的加密方式:\n</p>\n<p>\n刚开始给定一个初始的数列$a_1,a_2.....a_n$\n</p>\n<p>\n每次的新信息是通过修改原有的信息传输的.\n</p>\n<p>\n修改操作:\n</p>\n<p>\n$xor$ l r x\n</p>\n<p>\n$or$ l r x\n</p>\n<p>\n$and$ l r x\n</p>\n<p>\n表示$a_l,a_{l+1}.....a_{r-1}$,$a_r$分别<strong>xor</strong> x,<strong>or</strong> x,<strong>and</strong> x\n</p>\n<p>\n查询操作：\n</p>\n<p>\n$query$ l r\n</p>\n<p>\n表示$a_l,a_{l+1}.....a_{r-1},a_r$的区间和\n</p>\n<p>\n区间和就是这次要传输的新信息，至于区间和表达了什么意思，这就和你没有关系了（需要进行解密）.\n</p>\n<p>\n你的任务是又快又准的求出每次的区间和\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行一个整数$n$\n</p>\n<p>\n第二行$n$个整数$a_1,a_2...a_n$\n</p>\n<p>\n接下来一个整数$q$,表示修改和查询的总次数\n</p>\n<p>\n接下来$q$行，表示$q$个操作\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n对于每个&#34;query&#34;输出一行，表示区间和\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre><p>\n10\n82 75 64 119 24 37 65 1118 2223 4445\n10\nxor 7 9 4105\nquery 3 8\nor 2 5 1113\nquery 4 9\nand 4 8 410105\nquery 2 6\nxor 1 9 110\nand 2 4 8\nor 2 7 1555\nquery 3 7\n</p>\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre><p>\n9619\n17986\n2471\n7923\n</p>\n</pre>\n<h3>\n【数据范围】\n</h3>\n<p>\n对于20%的数据$N&lt;=2000$\n</p>\n<p>\n对于100%的数据$N&lt;=100000,x&lt;=10000000$\n</p>\n<p>\n对于100%的数据$q=N$\n</p>\n\n"}]}