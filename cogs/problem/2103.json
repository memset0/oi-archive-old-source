{"title":"[HZOI 2015] CrazyBinary","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=viNyzVkaj","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n自从stdafx考试看错题后十分不服,发明了一种新型的二叉搜索树,满足:设key[p]表示结点p上的数值.对于其中的每个结点p,若其存在左孩子lch,则key[p]&gt;key[lch],若其存在右孩子rch,则key[p]&lt;key[rch],而且:这种关系只针对与一个节点和它的父节点,而和之前节点的值无关,如A点的值为5,A的左子节点B的值为4,B的右子节点的值可以为100.\n</p>\n<p>\n现在给定一棵这样二叉树,可以任意修改结点的数值,修改一个结点的数值算作一次修改,且这个结点不能再被修改.若要将其变成这种特殊的二叉搜索树,且任意时刻结点的数值必须是整数(可以是负整数或0),求所要的最少修改次数,结点1一定是二叉树的根.\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n第一行一个正整数n表示二叉树结点数。结点从1~n进行编号.\n</p>\n<p>\n第二行n个正整数用空格分隔开,第i个数ai表示结点i的原始数值\n</p>\n<p>\n此后n-1行每行两个非负整数fa,ch,第i+2行描述结点i+1的父亲编号fa,以及父子关系ch,(ch=0 表示i+1为左儿子,ch=1表示i+1为右儿子).\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n仅一行包含一个整数,表示最少的修改次数.\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre><p>\n3\n</p>\n\n<p>\n2 2 2\n</p>\n\n<p>\n1 0\n</p>\n\n<p>\n1 1\n</p>\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>2</pre>\n<h3>\n【提示】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n数据范围约定:\n</p>\n<p>\n20 % ：n &lt;= 10\n</p>\n<p>\n40 % ：n &lt;= 100\n</p>\n<p>\n100 % ：n &lt;= 2000\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【来源】\n</h3>\n<p>\nby stdafx,改编自&#34;改造二叉树&#34;\n</p>\n\n"}]}