{"title":" 复制&粘贴","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vNyXNVaWk","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n文本编辑器的一个最重要的机能就是复制&amp;粘贴。JOI社现在正在开发一款能够非常高速地进行复制&amp;粘贴的文本编辑器，作为JOI社一名优秀的程序猿，你担负起了复制&amp;粘贴功能的测试这一核心工作。整个JOI社的命运都系在你的身上，因此你无论如何都想写出一个正确且高速的程序来完成这项工作。\n</p>\n<p>\n具体的做法如下所示。文件的内容是一个字符串S，对其进行N次复制&amp;粘贴的操作，第i次操作复制位置Ai和位置Bi之间的所有文字，然后在位置Ci粘贴。这里位置x表示字符串的第x个字符的后面那个位置(位置0表示字符串的开头)，例如字符串”copypaste”的位置6表示字符’a’和字符’s’之间的位置，位置9表示’e’后面的位置(即字符串的结尾)。不过，如果操作后的字符串长度超过了M，那么将超过的部分删除，只保留长度为M的前缀。\n</p>\n<p>\n你的任务是写一个程序，输出N次操作后字符串的前K个字符。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n第一行两个空格分隔的正整数K和M，表示最终输出的文字数量和字符串长度的上限。\n</p>\n<p>\n第二行一个字符串S，表示初始的字符串。\n</p>\n<p>\n第三行一个整数N，表示操作的次数。\n</p>\n<p>\n接下来N行，第i行包含三个空格分隔的整数Ai,Bi,Ci，表示第i次操作将位置Ai到Bi之间的字符串复制，然后粘贴到位置Ci。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n输出一行一个长度为K的字符串，表示最终的字符串的长度为K的前缀\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>2 18\ncopypaste\n4\n3 6 8\n1 5 2\n4 12 1\n17 18 0</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>ac</pre>\n<h3>\n【提示】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n初始的字符串为”copypaste”。\n</p>\n<p>\n第一次操作将从位置3到位置6的字符串”ypa”复制，插入位置8，得到字符串”copypastypae”\n</p>\n<p>\n第二次操作将从位置1到位置5的字符串”opyp”复制，插入位置2，得到字符串”coopyppypastypae”\n</p>\n<p>\n第三次操作将从位置4到位置12的字符串”yppypast”复制，插入位置1，得到字符串”cyppypastoopyppypastypae”，由于长度超过了M=18，删除超过的部分，得到”cyppypastoopyppypa”\n</p>\n<p>\n第四次操作将从位置17到位置18的字符串”a”复制，插入位置0，得到字符串”acyppypastoopyppypa”，删除超过18的部分得到”acyppypastoopyppyp”\n</p>\n<p>\n最后输出长度为2的前缀”ac”即为答案。\n</p>\n<p>\n<br/>\n</p>\n<p>\n<br/>\n</p>\n<p>\n<br/>\n</p>\n<p>\n对于40%的数据，N,M&lt;=2000\n</p>\n<p>\n对于100%的数据：\n</p>\n<p>\n1&lt;=K&lt;=200\n</p>\n<p>\n1&lt;=M&lt;=10^9\n</p>\n<p>\nS的每个字符都是小写字母(‘a’~’z’)\n</p>\n<p>\nK&lt;=|S|&lt;=min(M,2*10^5)\n</p>\n<p>\n1&lt;=N&lt;=2*10^5\n</p>\n<p>\n设第i次操作前的字符串长度为Li，那么0&lt;=Ai&lt;Bi&lt;=Li且0&lt;=Ci&lt;=Li (1&lt;=i&lt;=N)\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【来源】\n</h3>\n<p>\n在此键入。\n</p>\n\n"}]}