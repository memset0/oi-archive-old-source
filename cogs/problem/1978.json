{"title":"[TJOI 2015] 旅游","time_limit":1000,"memory_limit":128,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vXSQykPWU","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n为了提高智商，ZJY准备去往一个新世界去旅游。这个世界的城市布局像一棵树。每两座城市之间只有一条路径可以互达。每座城市都有一种宝石，有一定的价格。ZJY为了赚取最高利益，她会选择从A城市买入再转手卖到B城市。由于ZJY买宝石时经常卖萌，因而凡是ZJY路过的城市，这座城市的宝石价格会上涨。让我们来算算ZJY旅游完之后能够赚取的最大利润。（如a城市宝石价格为v，则ZJY出售价格也为v）\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行输入一个正整数N表示城市个数。\n</p>\n<p>\n接下来一行输入N个正整数表示每座城市宝石的最初价格p，每个宝石的初始价格不超过100.\n</p>\n<p>\n第三行开始连续输入N-1行，每行有两个数字x和y。表示x城市和y城市有一条路径。城市编号从1开始。下一行输入一个正整数Q表示询问次数。\n</p>\n<p>\n接下来Q行每行输入三个正整数a,b,v，表示ZJY从a旅游到b，城市宝石价格上涨v。\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n对于每次询问，输出ZJY可能获得的最大利润，如果亏本了则输出0。\n</p>\n<h3>\n【样例输入】\n</h3>\n<p>\n3\n</p>\n<p>\n1 2 3\n</p>\n<p>\n1 2\n</p>\n<p>\n2 3\n</p>\n<p>\n2\n</p>\n<p>\n1 2 100\n</p>\n<p>\n1 3 100\n</p>\n<h3>\n【样例输出】\n</h3>\n<p>\n1\n</p>\n<p>\n1\n</p>\n<h3>\n【提示】\n</h3>\n<p>\n对于30%的数据，有0 &lt; N ≤ 100, 0 &lt; Q ≤ 10000。\n</p>\n<p>\n对于100%的数据，有0 &lt; N ≤ 50000, 0 &lt; Q ≤ 50000。\n</p>\n\n"}]}