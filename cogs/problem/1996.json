{"title":"迷之阶梯---加强版","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vQyxNkPPe","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n迷之阶梯---加强版\n</p>\n<p>\n<br/>\n</p>\n<p>\n在经过地球防卫小队的数学家连续多日的工作之后，外星人发的密码终于得以破解。它告诉我们在地球某一处的古老遗迹中，存在有对抗这次灾难的秘密道具。防卫小队立刻派出了一个直升机小分队，迅速赶到了这处遗迹。要进入遗迹，需要通过一段迷之阶梯。登上阶梯必须要按照它要求的方法，否则就无法登上阶梯。它要求的方法有以下三个限制：\n</p>\n<p>\n   1．如果下一步阶梯的高度只比当前阶梯高1，则可以直接登上。\n</p>\n<p>\n   2．除了第一步阶梯外，都可以从当前阶梯退到前一步阶梯。\n</p>\n<p>\n   3．当你连续退下k步后，你可以一次跳上不超过当前阶梯高度+2k的阶梯。比如说你现在位于第j步阶梯，并且是从第j+k步阶梯退下来的，那么你可以跳到高度不超过当前阶梯高度+ 2k的任何一步阶梯。跳跃这一次只算一次移动。\n</p>\n<p>\n   开始时我们在第一步阶梯。由于时间紧迫，我们需要用最少的移动次数登上迷之阶梯。请你计算出最少的移动步数。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第1行：一个整数N，表示阶梯步数。\n</p>\n<p>\n 第2行：N个整数，依次为每层阶梯的高度，保证递增。\n</p>\n<p>\n<span style=\"font-family:sans-serif;font-size:20px;font-weight:bold;line-height:25px;background-color:#F0F8FF;\">【输出格式】</span> \n</p>\n<p>\n第1行：一个整数，如果能登上阶梯，输出最小步数，否则输出-1。\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>5</pre>\n<pre>1 2 3 4 5</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>4</pre>\n<h3>\n【提示】\n</h3>\n<p>\n数据范围\n</p>\n<p>\n<br/>\n</p>\n<p>\n对于50%的数据：1≤N≤200。\n</p>\n<p>\n对于100%的数据：1≤N≤20000。  每步阶梯高度不超过2^31-1。\n</p>\n<p>\n<br/>\n</p>\n<p>\n卡时间啊，快速幂也不一定全过哦，想想位运算吧\n</p>\n<p>\n在此提供快速幂函数\n</p>\n<p>\n感谢ztc提供快速幂函数，非常感谢\n</p>\n<p>\nlong long aux(int n,int p)\n</p>\n<p>\n{\n</p>\n<p>\nif(p==0)\n</p>\n<p>\nreturn 1;\n</p>\n<p>\nif(p==1)\treturn n;\n</p>\n<p>\nif(p%2!=0)\treturn (n*aux(n,(p-1)/2)*aux(n,(p-1)/2));\n</p>\n<p>\nelse return (aux(n,p/2)*aux(n,p/2));\n</p>\n<p>\n}<span style=\"font-size:16px;\"></span> \n</p>\n<p>\n<br/>\n</p>\n<h3>\n【来源】\n</h3>\n<p>\ncogs\n</p>\n\n"}]}