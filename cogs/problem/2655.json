{"title":"Mike的梦境","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vQyymVegg","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\nMike第一次坐在文科15班的教室中，见到了许多新同学。Mike记忆力极差，为了记住同学们的名字，Mike准备他们的名字抄下来。Mike又太懒，于是他把这项工作交给了你。\n</p>\n<p>\nMike一共有3种命令：第一种，在名单里加入一个同学的名字S(均为小写字母)；第二种，Mike看错了第i个命令加入的同学的名字，在他的名字后面插入字符串T(可能进行多次插入).\n</p>\n<p>\n为了检验你做的是否正确，Mike要求你立即回答出每次操作后，名单中本质不同的回文子串数量。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行一个整数n，表示Mike一共有n个命令。\n</p>\n<p>\n接下来n行，每行开始有一个整数tp，表示是哪一种命令。\n</p>\n<p>\ntp=1时，接下来是一个字符串S，表示这位同学的名字。\n</p>\n<p>\ntp=2时，接下来是一个整数i和一个字符串T，表示在第i次加入的名字后面插入T。(可能多次插入，保证这个同学的名字在当前的名单中)\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\nn行，每行一个整数，表示每次操作后本质不同的回文子串个数。\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>10\n1 miike\n1 mmike\n1 mikke\n2 2 ekim\n1 jhzejkhzhe\n2 2 ekim\n2 3 ekimm\n1 foolmike\n2 2 mike\n1 mikeisfool\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>5\n6\n7\n11\n15\n15\n15\n19\n22\n23\n</pre>\n<h3>\n【提示】\n</h3>\n<p>\n数据范围为n&lt;=200000，L&lt;=2000000\n</p>\n<p>\n对于20%的数据，保证n&lt;=2000\n</p>\n<p>\n对于另外20%的数据，保证不含2操作\n</p>\n<h3>\n【来源】\n</h3>\n<p>\n这实际上是Mike做的一个梦……Mike活在理科1班\n</p>\n\n"}]}