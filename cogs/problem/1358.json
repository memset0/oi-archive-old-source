{"title":"[SDOI2012] 体育课","time_limit":10000,"memory_limit":128,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vSXQzkjgU","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<p>\n体育课（line）问题描述：\n</p>\n<p>\n又是一节体育课的时间了，有n个同学排成了一排。他们都很讨厌排在第一个位置的同学，于是后面的同学中比第一个高的都会产生一个高兴值，这个高兴值等于他的身高减去第一个同学的身高。当然比第一个同学矮的同学产生兴奋值为0。\n</p>\n<p>\n现在体育老师来了，他拥有神奇的魔法，现在他能做如下的三件事：\n</p>\n<p>\n1：询问某段区间高兴值最大的那个是多少。\n</p>\n<p>\n2：把某两个同学交换一下位置。\n</p>\n<p>\n3：选取一段区间的人，把第一个人身高加上t，第二个加上2t，第三个加上3t以此类推。\n</p>\n<p>\n但是体育老师不会数数，于是他找到你了，对于每一个询问，他要你帮他求出那个值。\n</p>\n<p>\n输入说明：\n</p>\n<p>\n第一行两个整数n,m表示有n个人，有m个操作。\n</p>\n<p>\n第二行n个整数，顺序输入每个人的身高。（身高&lt;=10^8）\n</p>\n<p>\n接下来m行，每行第一个数位一个type表示是做哪一件事情。\n</p>\n<p>\n如果type=1，那么接下来有两个整数l，r，表示询问这段区间的最大的高兴值\n</p>\n<p>\n如果Type=2，接下来两个整数a，b，表示交换这两个位置的人\n</p>\n<p>\n如果type=3，接下来三个整数l,r,t，表示把l个人的升高增加t,l+1个人增加2t…第r个人增加(r-l+1)t, (0&lt;=t&lt;= 10000)\n</p>\n<p>\n输出说明：\n</p>\n<p>\n对于每个询问按照顺序输出每个操作1的答案。\n</p>\n<p>\n样例输入：\n</p>\n<p>\n6 8\n</p>\n<p>\n109 827 100 530 10 826\n</p>\n<p>\n3 1 6 1\n</p>\n<p>\n2 2 6\n</p>\n<p>\n1 2 4\n</p>\n<p>\n1 2 3\n</p>\n<p>\n2 2 6\n</p>\n<p>\n1 2 6\n</p>\n<p>\n1 2 5\n</p>\n<p>\n样例输出：\n</p>\n<p>\n431\n</p>\n<p>\n0\n</p>\n<p>\n817\n</p>\n<p>\n431\n</p>\n<p>\n719\n</p>\n<p>\n数据范围：\n</p>\n<p>\n有20%的数据：n,m&lt;=5000\n</p>\n<p>\n另有10%的数据：没有第三种操作.\n</p>\n<p>\n另有20%的数据: 没有第二种操作\n</p>\n<p>\n对于100的数据：n,m&lt;=100000\n</p>\n<p>\n<br/>\n</p>\n<p>\nUPD:2017.7.7 by Mike\n</p>\n<p>\n我猜样例是错的，第一个测试点发出来当样例算了\n</p>\n<p>\nsdoi12_line.in\n</p>\n<p>\n<br/>\n</p>\n<p>\n10 7\n</p>\n<p>\n10 9 8 7 6 5 4 3 2 1\n</p>\n<p>\n1 4 7\n</p>\n<p>\n3 2 4 3\n</p>\n<p>\n1 2 3\n</p>\n<p>\n1 3 6\n</p>\n<p>\n2 1 10\n</p>\n<p>\n1 8 10\n</p>\n<p>\n1 2 3\n</p>\n<p>\nsdoi12_line.out\n</p>\n<p>\n<br/>\n</p>\n<p>\n0\n</p>\n<p>\n4\n</p>\n<p>\n6\n</p>\n<p>\n9\n</p>\n<p>\n13\n</p>\n<p>\n<br/>\n</p>\n<p>\n<br/>\n</p>\n\n"}]}