{"title":"[CodeforcesEduR22] 建立军队","time_limit":2000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vimSmVWkU","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n你可能记得我们之前的几场，$Vova$真的很喜欢电脑游戏。现在他正在玩一种被称为“帝国愤怒”的战略游戏。\n</p>\n<p>\n在游戏中，$Vova$可以雇佣$n$个不同的战士；第$i$个战士为$a_i$类型。$Vova$希望雇佣来一些战士建立一支平衡的军队。如果在游戏中出现的每一类战士在军队中不超过$k$个此类战士，则此时军队被称为平衡。当然，$Vova$希望他的军队尽可能的大。\n</p>\n<p>\n为了使事情变得更复杂，$Vova$必须考虑$q$种不同的组建军队的计划。第i个计划要求他雇佣勇士的编号在区间$[l_i，r_i]$之间。\n</p>\n<p>\n帮助$Vova$确定每个计划中能使军队平衡的最大规模。\n</p>\n<p>\n请注意，这些计划以一种修改后的方式给出。有关详细信息，请参见输入部分。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n第一行包含两个数$n$和$k(1≤n，k≤10^5)$。\n</p>\n<p>\n第二行包含n个整数$a_1$，$a_2$，…，$a_n(1≤a_i≤10^5)$。\n</p>\n<p>\n第三行包含一个整数$q(1≤q≤10^5)$。\n</p>\n<p>\n之后有q行，每行两个整数$x_i$和$y_i(1≤x_i，y_i≤n)$。\n</p>\n<p>\n你必须记录上一个计划的结果(让我们把它称为$last$)。开始时$last=$0。然后为了恢复第i计划中$l_i$和$r_i$的价值，你必须做以下工作:\n</p>\n<p>\n  1.$l_i = ((x_i + last) mod  n) + 1$;\n</p>\n<p>\n  2.$r_i = ((y_i + last) mod  n) + 1$;\n</p>\n<p>\n  3.如果$l_i &gt; r_i$，则交换 $l_i$ 和 $r_i$的值。\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n输出$q$行，每行一个数字。其中第$i$个数字表示第$i$个计划中能使军队平衡的最大规模。\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>6 2\n1 1 1 2 2 2\n5\n1 6\n4 3\n1 1\n2 6\n2 6\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>2\n4\n1\n3\n2\n</pre>\n<h3>\n【提示】\n</h3>\n<p>\n样例中计划为: \n</p>\n<p>\n1.1 2 \n</p>\n<p>\n2.1 6 \n</p>\n<p>\n3.6 6 \n</p>\n<p>\n4.2 4 \n</p>\n<p>\n5.4 6\n</p>\n<h3>\n【来源】\n</h3>\n<p>\ncodeforces上的Educational Codeforces Round 22 E\n</p>\n<p>\n<a href=\"http://codeforces.com/contest/813/problem/E\" target=\"_blank\">http://codeforces.com/contest/813/problem/E</a> \n</p>\n\n"}]}