{"title":"[UVa 10572] 黑和白","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vymyQkgkj","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n给出一个M行N列的网格，其中部分格子被染色。你将要计算在下面所述的约束下，填满网格剩余部分的方法总数：\n</p>\n<p>\n网格中的每一个格子都应染成黑白二色之一。网格中所有的黑色格子应当四连通，所有的白色格子也应该四连通。在下面的两张图片中，只有右图是合法的。\n</p>\n<p>\n<img src=\"/upload/image/20140130/20140130161043_78261.gif\" alt=\"\"/><img src=\"/upload/image/20140130/20140130161050_89872.gif\" alt=\"\"/> \n</p>\n<p>\n另外，不能有全黑或全白的2*2子网格。在下面的两张图中，左边的图片中有2*2的全黑和全白网格，因此不合法，而由图中没有2*2的同色网格，因此是合法的。\n</p>\n<p>\n<img src=\"/upload/image/20140130/20140130161304_52545.gif\" alt=\"\"/><img src=\"/upload/image/20140130/20140130161309_23670.gif\" alt=\"\"/> \n</p>\n<p>\n不能改变已被染色格子的颜色。所有的格子都必须被染色。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n输入文件的第一行有2个正整数M,N，代表行数和列数\n</p>\n<p>\n接下来的M行，每行有N个字符，它们代表了开始时M*N网格的状态。这些字符可能是如下三种：\n</p>\n<p>\n#：一个被染成黑色的格子。\n</p>\n<p>\no：一个被染成白色的格子。\n</p>\n<p>\n.：一个没有染色的格子。\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n输出一行一个正整数，即染色方案总数。\n</p>\n<h3>\n【样例输入】\n</h3>\n<p>\nsample 1:\n</p>\n<p>\n<br/>\n</p>\n<p>\n3 3\n</p>\n<p>\no..\n</p>\n<p>\n.##\n</p>\n<p>\n...\n</p>\n<p>\n<br/>\n</p>\n<p>\n<br/>\n</p>\n<p>\nsample 2:\n</p>\n<p>\n<br/>\n</p>\n<p>\n5 5\n</p>\n<p>\n..#..\n</p>\n<p>\n.....\n</p>\n<p>\n....o\n</p>\n<p>\no....\n</p>\n<p>\n.#...\n</p>\n<p>\n<br/>\n</p>\n<p>\n<br/>\n</p>\n<p>\nsample 3:\n</p>\n<p>\n<br/>\n</p>\n<p>\n7 5\n</p>\n<p>\n.....\n</p>\n<p>\n..o..\n</p>\n<p>\n#....\n</p>\n<p>\n.....\n</p>\n<p>\n..o..\n</p>\n<p>\n...#.\n</p>\n<p>\no....\n</p>\n<p>\n<br/>\n</p>\n<p>\n<br/>\n</p>\n<p>\nsample 4:\n</p>\n<p>\n<br/>\n</p>\n<p>\n2 3\n</p>\n<p>\n###\n</p>\n<p>\noo#\n</p>\n<p>\n<br/>\n</p>\n<p>\n<br/>\n</p>\n<p>\nsample 5:\n</p>\n<p>\n<br/>\n</p>\n<p>\n6 8\n</p>\n<p>\n........\n</p>\n<p>\n........\n</p>\n<p>\n........\n</p>\n<p>\n........\n</p>\n<p>\n.#......\n</p>\n<p>\n........\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【样例输出】\n</h3>\n<p>\nsample 1:\n</p>\n<p>\n4\n</p>\n<p>\n<br/>\n</p>\n<p>\nsample 2:\n</p>\n<p>\n0\n</p>\n<p>\n<br/>\n</p>\n<p>\nsample 3:\n</p>\n<p>\n176\n</p>\n<p>\n<br/>\n</p>\n<p>\nsample 4:\n</p>\n<p>\n1\n</p>\n<p>\n<br/>\n</p>\n<p>\nsample 5:\n</p>\n<p>\n71582\n</p>\n<h3>\n【提示】\n</h3>\n<p>\n对于20%的数据，2&lt;=M,N&lt;=4\n</p>\n<p>\n对于100%的数据，2&lt;=M,N&lt;=8\n</p>\n<h3>\n【来源】\n</h3>\n<p>\nProblemsetter: Jimmy Mårdell, Member of Elite Problemsetters&#39; Panel\n</p>\n<p>\n<a href=\"http://uva.onlinejudge.org/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=17&amp;page=show_problem&amp;problem=1513\" target=\"_blank\">UVa10572 Black &amp; White</a> \n</p>\n<p>\n刘汝佳，《算法竞赛入门经典训练指南》，P387 例题3\n</p>\n\n"}]}