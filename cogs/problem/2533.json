{"title":"[HZOI 2016] 小鱼之美","time_limit":5000,"memory_limit":1024,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vQSiSVgjj","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\nSky_miner的生日到了！\n</p>\n<p>\n为了庆祝Sky_miner的生日，Sky_miner去抓鱼啦！\n</p>\n<p>\nSky_miner来到了平静的大海上，一个大海可以理解为一个二维平面。\n</p>\n<p>\nSky_miner在大海上撒下了一张渔网，一张渔网可以理解为一个于坐标轴平行的矩形\n</p>\n<p>\nSky_miner通过在海边架起的心灵监控器得知了小鱼的运动方式及时间，可是Sky_miner不知道到底什么时候收网才能获得最多的鱼。所以就有你来帮忙了！\n</p>\n<p>\nSky_miner从海边的心灵监控仪处获得了一系列小鱼移动的信息，每一条信息如下：\n</p>\n<p>\nmove in x-area l r d\n</p>\n<p>\nmove in y-area l r d\n</p>\n<p>\n表示全球 $id$ 在 $l,r$ 之间的鱼向x(y)轴正方向移动了 $d$ 个单位长度。由于心灵控制器的存在，$d$ 恒大于零。\n</p>\n<p>\n但是sky_miner蒙了，他不知道什么时候收网能获得多少鱼，所以这就交给你了。\n</p>\n<p>\nSky_miner的询问如下:\n</p>\n<p>\n$query\\ l\\ r$ 表示询问全球 $id$ 在 $l,r$ 之间的鱼有多少鱼在网中（包括渔网边界）\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n多组测试数据：\n</p>\n<p>\n第一行一个整数 $T$，表示测试数据的组数。\n</p>\n<p>\n对于每组测试数据，第一行一个正整数 $n$，表示鱼的数量。\n</p>\n<p>\n接下来一共有 $n$ 行，每一行包括两个整数 $x_i,y_i$，第 $i+1$ 行表示全球 $id$ 为 $i$ 的鱼的初始坐标。\n</p>\n<p>\n下面一行四个正整数 $x_1,y_1,x_2,y_2$ 分别表示渔网左下角的坐标和右上角的坐标\n</p>\n<p>\n然后一行一个正整数 $m$，表示操作的总次数。\n</p>\n<p>\n每个操作将会被如下形式给出:\n</p>\n<p>\n$1\\ l\\ r\\ d$ 表示 $id$ 在 $[l,r]$ 这个区间内的鱼向x轴正方向游动了d个单位长度。\n</p>\n<p>\n$2\\ l\\ r\\ d$ 表示 $id$ 在 $[l,r]$ 这个区间内的鱼向y轴正方向游动了d个单位长度。\n</p>\n<p>\n$3\\ l\\ r$ 表示询问现在 $id$ 在 $[l,r]$ 这个区间内的鱼有多少在渔网内\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n对于每一个询问，输出询问的答案\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>1\n5\n1 1 5 5\n1 1\n2 2\n3 3\n4 4\n5 5\n3\n3 1 5\n1 2 4 2\n3 1 5\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>5\n4\n</pre>\n<h3>\n【提示】\n</h3>\n<p>\n数据范围：\n</p>\n<p>\n$1\\le n,m\\le 100000$\n</p>\n<p>\n$1\\le l\\le r\\le n$\n</p>\n<p>\n$1\\le d\\le 10^9$\n</p>\n<p>\n$x_1\\le x_2,y_1\\le y_2$\n</p>\n<p>\n保证任意时刻的坐标绝对值不超过 $10^9$。\n</p>\n<h3>\n【来源】\n</h3>\n<p>\nHZOI 2016\n</p>\n\n"}]}