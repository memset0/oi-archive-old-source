{"title":"[HZOI 2015]白树黑","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vmXNmVVUj","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n给定一棵树，每条边有边权，树上所有节点均为白色\n</p>\n<p>\n本蒟蒻想要施展大魔法，使得这棵树变成一棵黑色的树\n</p>\n<p>\n然而本蒟蒻实在是太弱了，没有足够的能量来施展魔法\n</p>\n<p>\n已知在这棵树上任意一条路径u-&gt;v(u不等于v),如果u-&gt;v路径上的所有边的边权的乘积是一个完全平方数，那么这条路径就会给你提供一点能量\n</p>\n<p>\n现在本蒟蒻想知道，这棵树能给自己提供多少能量\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n第一行n 表示节点总数\n</p>\n<p>\n以下n-1行\n</p>\n<p>\n每行u，v描述一条边的两个端点，w描述边权\n</p>\n<p>\nn&lt;=200000，w&lt;=10^8\n</p>\n<p>\n注意：对于两条路径，若u不同或者v不同，则这两条路径不同\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n输出一个数表示答案\n</p>\n<p>\n<br/>\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre><p>\n5\n</p>\n\n<p>\n2 1 2\n</p>\n\n<p>\n3 2 4\n</p>\n\n<p>\n4 2 4\n</p>\n\n<p>\n5 1 2\n</p>\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>12</pre>\n\n"}]}