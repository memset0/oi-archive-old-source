{"title":"[Tyvj 1518] CPU监控","time_limit":2000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vSJXmkPaq","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<div class=\"content\">\n<p>\n<span style=\"font-size:medium;\"><span style=\"font-family:&#39;Times New Roman&#39;;\">Bob 需要一个程序来监视 CPU 使用率。这是一个很繁琐的过程，为了让问题更加简单，Bob 会慢慢列出今天会在用计算机时做什么事。 <br/>\nBob 会干很多事，除了跑暴力程序看视频之外，还会做出去玩玩和用鼠标乱点之类的事，甚至会一脚踢掉电源……这些事有的会让做这件事的这段时间内 CPU 使用率增加或减少一个值；有的事还会直接让 CPU 使用率变为一个值。 <br/>\n当然 Bob 会询问：在之前给出的事件影响下，CPU 在某段时间内，使用率最高是多少。有时候 Bob 还会好奇地询问，在某段时间内 CPU 曾经的最高使用率是多少。 <br/>\n为了使计算精确，使用率不用百分比而用一个整数表示。 <br/>\n不保证 Bob 的事件列表出了莫名的问题，使得使用率为负……………… <br/>\n</span></span> \n</p>\n</div>\n<h3>\n【输入格式】\n</h3>\n<div class=\"content\">\n<p>\n<span style=\"font-family:&#39;Times New Roman&#39;;font-size:medium;\">第一行一个正整数 $T$，表示 Bob 需要监视 CPU 的总时间。 <br/>\n然后第二行给出 $T$ 个数表示在你的监视程序执行之前，Bob 干的事让 CPU 在这段时间内每个时刻的使用率达已经达到了多少。 <br/>\n第三行给出一个数 $E$，表示 Bob 需要做的事和询问的总数。 <br/>\n接下来 $E$ 行每行表示给出一个询问或者列出一条事件： <br/>\nQ X Y 询问从 $X$ 到 $Y$ 这段时间内 CPU 最高使用率 <br/>\nA X Y 询问从 $X$ 到 $Y$ 这段时间内之前列出的事件使 CPU 达到过的最高使用率 <br/>\nP X Y Z 列出一个事件这个事件使得从 $X$ 到 $Y$ 这段时间内 CPU 使用率增加 $Z$ <br/>\nC X Y Z 列出一个事件这个事件使得从 $X$ 到 $Y$ 这段时间内 CPU 使用率变为 $Z$<br/>\n时间的单位为秒，使用率没有单位。 <br/>\n$X$ 和 $Y$ 均为正整数（$X\\le Y$），$Z$ 为一个整数。 <br/>\n从 $X$ 到 $Y$ 这段时间包含第 $X$ 秒和第 $Y$ 秒。 <br/>\n保证必要运算在有符号 $32$ 位整数以内。 <br/>\n</span> \n</p>\n</div>\n<h3>\n【输出格式】\n</h3>\n<div class=\"content\">\n<p>\n<span style=\"font-family:&#39;Times New Roman&#39;;font-size:medium;\">对于每个询问，输出一行一个整数回答。 <br/>\n</span> \n</p>\n</div>\n<h3>\n【样例输入】\n</h3>\n<pre>10\n-62 -83 -9 -70 79 -78 -31 40 -18 -5 \n20\nA 2 7\nA 4 4\nQ 4 4\nP 2 2 -74\nP 7 9 -71\nP 7 10 -8\nA 10 10\nA 5 9\nC 1 8 10\nQ 6 6\nQ 8 10\nA 1 7\nP 9 9 96\nA 5 5\nP 8 10 -53\nP 6 6 5\nA 10 10\nA 4 4\nQ 1 5\nP 4 9 -69\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>79\n-70\n-70\n-5\n79\n10\n10\n79\n79\n-5\n10\n10\n</pre>\n<h3>\n【提示】\n</h3>\n<p>\n$T,E\\le100000$\n</p>\n<p>\n这里<strong>没有</strong>特殊类型数据！\n</p>\n<h3>\n【题目来源】\n</h3>\n<p>\nTyvj 1518\n</p>\n\n"}]}