{"title":"[NOI1999] 最优连通子集","time_limit":1000,"memory_limit":128,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=pSySxxVUg","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<p>\n\t众所周知，我们可以通过直角坐标系把平面上的任何一个点P用一个有序数对(x,y)来唯一表示，如果x,y都是整数，我们就把点P称为整点，否则点P称为非整点。我们把平面上所有整点构成的集合记为W。\n</p>\n<p>\n\t<b>定义1</b>\n</p>\n<ul>\n\t<li>\n\t\t两个整点P1(x1,y1),P2(x2,y2)，若|x1-x2|+|y1-y2|=1，则称P1,P2相邻，记作P1~P2，否则称P1,P2不相邻。\n\t</li>\n</ul>\n<p>\n\t<b>定义2</b>\n</p>\n<ul>\n\t<li>\n\t\t设点集S是W的一个有限子集，即S={P1,P2,…,Pn}(n&gt;=1)，其中Pi(1&lt;=i&lt;=n)属于W，我们把S称为整点集。\n\t</li>\n</ul>\n<p>\n\t<b>定义3</b>\n</p>\n<ul>\n\t<li>\n\t\t设S是一个整点集，若点R,T属于S，且存在一个有限的点序列Q1,Q2,…,Qk满足:\n\t</li>\n</ul>\n<ol>\n\t<li>\n\t\t<ol>\n\t\t\t<li>\n\t\t\t\tQi属于S（1&lt;=i&lt;=k）;\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\tQ1=R,Qk= T;\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\tQi~Qi+1(1&lt;=i&lt;=k-1)，即Qi与Qi+1相邻;\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t对于任何1&lt;=i<j<=k有qi≠qj;< li=\"\"></j<=k有qi≠qj;<>\n\t\t\t</li>\n\t\t</ol>\n\t</li>\n</ol>\n<ul>\n\t<li>\n\t\t我们则称点R与点T在整点集S上连通，把点序列Q1,Q2,…,Qk称为整点集S中连接点R与点T的一条道路。\n\t</li>\n</ul>\n<p>\n\t<b>定义4</b>\n</p>\n<ul>\n\t<li>\n\t\t若整点集V满足：对于V中的任何两个整点，V中有且仅有一条连接这两点的道路，则V称为单整点集。\n\t</li>\n</ul>\n<p>\n\t<b>定义5</b>\n</p>\n<ul>\n\t<li>\n\t\t对于平面上的每一个整点，我们可以赋予它一个整数，作为该点的权，于是我们把一个整点集中所有点的权的总和称为该整点集的权和。\n\t</li>\n</ul>\n<p>\n\t我们希望对于给定的一个单整点集V，求出一个V的最优连通子集B，满足：\n</p>\n<ol>\n\t<li>\n\t\tB是V的子集\n\t</li>\n\t<li>\n\t\t对于B中的任何两个整点，在B中连通；\n\t</li>\n\t<li>\n\t\tB是满足条件(1)和(2)的所有整点集中权和最大的。\n\t</li>\n</ol>\n<p>\n\t输入\n</p>\n<p>\n\t第1行是一个整数N，表示单整点集V中点的个数；\n</p>\n<p>\n\t以下N行中，第i行(1&lt;=i&lt;=N)有三个整数，Xi,Yi,Ci依次表示第i个点的横坐标，纵坐标和权。同一行相邻两数之间用一个空格分隔。\n</p>\n<p>\n\t输出\n</p>\n<p>\n\t仅一个整数，表示所求最优连通集的权和。\n</p>\n<p>\n\t样例输入\n</p>\n<pre>5\n0 0 -2\n0 1 1\n1 0 1\n0 -1 1\n-1 0 1\n</pre>\n<p>\n\t样例输出\n</p>\n<pre>2\n</pre>\n<p>\n\t参数约定\n</p>\n<ul>\n\t<li>\n\t\t2&lt;=N&lt;=1000\n\t</li>\n\t<li>\n\t\t-10^6&lt;=Xi,Yi&lt;=10^6\n\t</li>\n\t<li>\n\t\t-100&lt;=Ci&lt;=100\n\t</li>\n</ul>\n\n"}]}