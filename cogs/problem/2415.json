{"title":"[HZOI 2016]非触","time_limit":2000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vxNyxVqkg","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n本题为2098的加强版。\n</p>\n<p>\n原题地址：<a href=\"http://cojs.tk/cogs/problem/problem.php?pid=2098\" target=\"_blank\">Asm.Def的病毒</a> \n</p>\n<p>\n小F最近总是和cp小E一起走，然而众所周知，衡中里是时常有级部出没来各处查男女生非正常接触(非触)的......\n</p>\n<p>\n为了避免一起走的时候被级部抓到非触，小F特地费了半天功夫搞到了学校的地图和级部的活动规律。\n</p>\n<p>\n学校是一个有n个节点的无向无环连通图，为了避免在某次一起走的时候和级部相遇，小F需要仔细规划每次的路线，使得他的路线和级部的活动路线不相交。为此，他需要频繁地判断图上的两条路径是否相交(经过同一节点)。\n</p>\n<p>\n然而学校的地图实在是太大了，一会儿就把小F搞晕了，小F只得向你求助。\n</p>\n<p>\n当然身为神犇的你是不会拒绝的......所以......\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行两个整数n,m。\n</p>\n<p>\n接下来n-1行，每行两个整数x,y，表示(x,y)是图中的一条边。\n</p>\n<p>\n接下来m行，每行四个整数x,y,z,w，表示询问x~y的路径是否与z~w的路径相交。\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n对每个询问，若相交则输出一行”YES”，否则输出一行”NO”。\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>6 5\n1 2\n1 3\n2 4\n4 5\n4 6\n1 1 5 6\n1 2 6 3\n2 3 5 6\n6 4 3 1\n4 3 1 2\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>NO\nYES\nNO\nNO\nYES\n</pre>\n<h3>\n【数据范围】\n</h3>\n<p>\nn,m&lt;=1000000。\n</p>\n<p>\n1&lt;=x,y,z,w&lt;=n。\n</p>\n<h3>\n【提示】\n</h3>\n<p>\n由于cogs评测机的问题，可能会爆栈，所以C++选手请在main函数的开头加入以下代码：\n</p>\n<p>\nint __size__=128&lt;&lt;20;\n</p>\n<p>\nchar *__p__=(char*)malloc(__size__)+__size__;\n</p>\n<p>\n__asm__(&#34;movl %0, %%esp\\n&#34;::&#34;r&#34;(__p__));\n</p>\n<p>\n注意上述代码会占用你128MB的空间，请自行调整代码。\n</p>\n<p>\n输入量很大，请C++选手避免使用C++的流输入输出。\n</p>\n<p>\n请注意常数因子对于程序运行的影响。\n</p>\n<h3>\n【来源】\n</h3>\n<p>\nHZOI 2016\n</p>\n\n"}]}