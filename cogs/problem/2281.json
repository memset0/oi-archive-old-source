{"title":"[HZOI 2015]白黑树","time_limit":1000,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vJzJxVVUk","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n给定一棵有根树，树根为1\n</p>\n<p>\n要求支持以下操作：\n</p>\n<p>\n1、M u:把u节点反色(即黑色变成白色，白色变成黑色）\n</p>\n<p>\n2、Q u:查询u和所有黑色节点的所有LCA中深度最小的LCA\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行n，m 表示节点总数和操作次数\n</p>\n<p>\n以下n-1行，每行u，v描述一条边的两个端点\n</p>\n<p>\n以下m行，每行一个操作，如题意所示\n</p>\n<p>\n一开始，树上节点都是白色的\n</p>\n<p>\nn，m&lt;=200000\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n对于每个Q询问，如果树上没有黑色节点，输出-1\n</p>\n<p>\n否则输出对应的答案\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>5 5\n2 1\n3 1\n4 1\n5 4\nQ 5\nM 3\nQ 3\nQ 2\nM 1\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>-1\n3\n1\n</pre>\n\n"}]}