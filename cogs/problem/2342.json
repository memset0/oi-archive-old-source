{"title":"[SCOI2007]kshort","time_limit":2000,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vzSXmVjqV","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<div class=\"content\">\n<p>\n有n个城市和m条单向道路，城市编号为1~n。每条道路连接两个不同的城市，且任意两条道路要么起点不同要么终点不同，因此n和m满足m&lt;=n(n-1)。给定两个城市a和b，可以给a到b的所有简单路（所有城市最多经过一次，包括起点和终点）排序：先按长度从小到大排序，长度相同时按照字典序从小到大排序。你的任务是求出a到b的第k短路。\n</p>\n</div>\n<h3>\n【输入格式】\n</h3>\n<div class=\"content\">\n<p>\n输入第一行包含五个正整数n, m, k, a, b。以下m行每行三个整数u, v, l，表示从城市u到城市v有一条长度<br/>\n为l的单向道路。100%的数据满足：2&lt;=n&lt;=50, 1&lt;=k&lt;=200\n</p>\n</div>\n<h3>\n【输出格式】\n</h3>\n<div class=\"content\">\n<p>\n如果a到b的简单路不足k条，输出No，否则输出第k短路：从城市a开始依次输出每个到达的城市，直到城市b，中间用减号&#34;-&#34;分割。\n</p>\n</div>\n<h3>\n【样例输入】\n</h3>\n<pre>【样例输入1】\n  5 20 10 1 5\n  1 2 1\n  1 3 2\n  1 4 1\n  1 5 3\n  2 1 1\n  2 3 1\n  2 4 2\n  2 5 2\n  3 1 1\n  3 2 2\n  3 4 1\n  3 5 1\n  4 1 1\n  4 2 1\n  4 3 1\n  4 5 2\n  5 1 1\n  5 2 1\n  5 3 1\n  5 4 1\n  【样例输入2】\n  4 6 1 1 4\n  2 4 2\n  1 3 2\n  1 2 1\n  1 4 3\n  2 3 1\n  3 4 1\n  【样例输入3】\n  3 3 5 1 3\n  1 2 1\n  2 3 1\n  1 3 1</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>【样例输出1】\n  1-2-4-3-5\n  【样例输出2】\n  1-2-3-4\n  【样例输出3】\n  No</pre>\n<h3>\n【提示】\n</h3>\n<div class=\"content\">\n<p>\n<br/>\n</p>\n<p>\n<span style=\"font-size:medium;\">第一个例子有5个城市，所有可能出现的道路均存在。从城市1到城市5一共有5条简单路</span> \n</p>\n<p>\n<span style=\"font-size:medium;\"></span> \n</p>\n<p>\n</p><table width=\"253\" class=\"ke-zeroborder\" style=\"border-collapse:collapse;width:190pt;\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\n<tbody>\n<tr>\n<td width=\"72\" height=\"18\">\n序号\n</td>\n<td width=\"72\">\n长度\n</td>\n<td width=\"109\">\n路径\n</td>\n</tr>\n<tr>\n<td height=\"18\" align=\"right\">\n1\n</td>\n<td align=\"right\">\n3\n</td>\n<td>\n 1-2-3-5\n</td>\n</tr>\n<tr>\n<td height=\"18\" align=\"right\">\n2\n</td>\n<td align=\"right\">\n3\n</td>\n<td class=\"xl63\">\n 1—2—5\n</td>\n</tr>\n<tr>\n<td height=\"18\" align=\"right\">\n3\n</td>\n<td align=\"right\">\n3\n</td>\n<td>\n 1—3—5\n</td>\n</tr>\n<tr>\n<td height=\"18\" align=\"right\">\n4\n</td>\n<td align=\"right\">\n3\n</td>\n<td>\n 1—4—3—5\n</td>\n</tr>\n<tr>\n<td height=\"18\" align=\"right\">\n5\n</td>\n<td align=\"right\">\n3\n</td>\n<td>\n 1—4—5\n</td>\n</tr>\n<tr>\n<td height=\"18\" align=\"right\">\n6\n</td>\n<td align=\"right\">\n3\n</td>\n<td>\n 1—5\n</td>\n</tr>\n<tr>\n<td height=\"18\" align=\"right\">\n7\n</td>\n<td align=\"right\">\n4\n</td>\n<td>\n 1—4—2—3—5\n</td>\n</tr>\n<tr>\n<td height=\"18\" align=\"right\">\n8\n</td>\n<td align=\"right\">\n4\n</td>\n<td>\n 1—4—2—5\n</td>\n</tr>\n<tr>\n<td height=\"18\" align=\"right\">\n9\n</td>\n<td align=\"right\">\n5\n</td>\n<td>\n 1—2—3—4—5\n</td>\n</tr>\n<tr>\n<td height=\"18\" align=\"right\">\n10\n</td>\n<td align=\"right\">\n5\n</td>\n<td>\n1—2—4—3—5\n</td>\n</tr>\n<tr>\n<td height=\"18\" align=\"right\">\n11\n</td>\n<td align=\"right\">\n5\n</td>\n<td>\n1—2—4—5\n</td>\n</tr>\n<tr>\n<td height=\"18\" align=\"right\">\n12\n</td>\n<td align=\"right\">\n5\n</td>\n<td>\n1—3—4—5\n</td>\n</tr>\n<tr>\n<td height=\"18\" align=\"right\">\n13\n</td>\n<td align=\"right\">\n6\n</td>\n<td>\n1—3—2—5\n</td>\n</tr>\n<tr>\n<td height=\"18\" align=\"right\">\n14\n</td>\n<td align=\"right\">\n6\n</td>\n<td>\n1—3—4—2—5\n</td>\n</tr>\n<tr>\n<td height=\"18\" align=\"right\">\n15\n</td>\n<td align=\"right\">\n6\n</td>\n<td>\n1—4—3—2—5\n</td>\n</tr>\n<tr>\n<td height=\"18\" align=\"right\">\n16\n</td>\n<td align=\"right\">\n8\n</td>\n<td>\n1—3—2—4—5\n</td>\n</tr>\n</tbody>\n</table>\n<p></p>\n<p>\n<br/>\n</p>\n<p>\n<br/>\n</p>\n</div>\n<h3>\n【来源】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n这道题只是由于做题人被坑了好长时间才弄上来的，数据来自Tyvj极其丧心病狂因此把内存开到 1G ，希望大家嚎嚎享受。\n</p>\n<p>\n然而事实证明即使内存开到1G也还是过不了第⑥个点，希望能看到不打表的 袋马 。_(:з」∠)_\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【题目来源】\n</h3>\n<a href=\"http://www.lydsy.com/JudgeOnline/problem.php?id=1073\">耒阳大世界（衡阳八中） OJ 1073</a>\n\n"}]}