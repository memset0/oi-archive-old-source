{"title":"[SPOJ 1825] 免费旅行II","time_limit":2000,"memory_limit":128,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vzNyiVkgg","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n在两周年纪念日的旅行之后，在第三年，旅行社SPOJ又一次踏上的打折旅行的道路。\n</p>\n<p>\n这次旅行是ICPC岛屿上进行的，一个位于太平洋上，不可思议的小岛。我们列出了N个地点（编号从1到N）供旅客游览。这N个点由N-1条边连成一个树，每条边都有一个权值，这个权值可能为负。我们可以选择两个地点作为旅行的起点和终点。\n</p>\n<p>\n由于当地正在庆祝节日，所以某些地方会特别的拥挤（我们称这些地方为拥挤点）。旅行的组织者希望这次旅行最多访问K个拥挤点。同时，我们希望我们经过的道路的权值和最大。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行，三个整数N,K,M（1 &lt;= N &lt;= 200000, 0 &lt;= K &lt;=M, 0 &lt;= M &lt;= N）\n</p>\n<p>\n之后的M行，每行一个拥挤点的编号。\n</p>\n<p>\n最后的N-1行，每行三个整数u，v,l，代表u和v之间有一条权值为l的边\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n一个整数，权值和最大的旅行线路\n</p>\n<h3>\n【样例输入】\n</h3>\n<p>\n8 2 3\n</p>\n<p>\n3\n</p>\n<p>\n5\n</p>\n<p>\n7\n</p>\n<p>\n1 3 1\n</p>\n<p>\n2 3 10\n</p>\n<p>\n3 4 -2\n</p>\n<p>\n4 5 -1\n</p>\n<p>\n5 7 6\n</p>\n<p>\n5 6 5\n</p>\n<p>\n4 8 3\n</p>\n<h3>\n【样例输出】\n</h3>\n<p>\n12\n</p>\n<h3>\n【提示】\n</h3>\n<p>\n在此键入。\n</p>\n<h3>\n【来源】\n</h3>\n<p>\n在此键入。\n</p>\n\n"}]}