{"title":"基本的图问题","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vNmiyVqgg","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n图论是一门有趣且已应用于诸多领域的科学。当我们在解决一些复杂的问题时，我们常常可以建一个图的模型。利用这些模型，我们可以把问题简化并清楚该我们怎么去做。在图论中有很多有名的问题，像汉密尔顿回路，旅行商问题，邮差问题，等等。噢，上帝。它们对于大部分大学生来说都挺难的。别担心，在这个问题中我们只需要考虑一个小问题：图的连通性（啊哈，它对于你来讲足够简单^_^）\n</p>\n<p>\n我们用（V,E）来表示图。V是G中所有节点的集合，N=|V|是G中节点的个数。E是G中所有边的集合，一条边可以用一个节点对（a1,a2）来表示，意味着a1和a2之间有一条边相连。\n</p>\n<p>\n现在的问题是：给出一个图G，请求出任意两个节点是否连通（包括直接或间接）。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n第一行包括一个整数n(1≤n≤100000)，G中节点个数。接下来有n个不同的整数，每行一个Ai（1≤Ai≤n，1≤i≤n）。（我们用整数1到n表示G中节点）\n</p>\n<p>\nA1(1≤A1≤n)\n</p>\n<p>\nA2(1≤A2≤n)\n</p>\n<p>\n............\n</p>\n<p>\nAn(1≤An≤n)\n</p>\n<p>\n下一行包括一个整数m(1≤m≤500000)，下面有m行，每行为一个建边命令，包括两个整数Si和Ei（1≤Si≤n，1≤Ei≤n，Si&lt;Ei，1≤i≤m）\n</p>\n<p>\nm\n</p>\n<p>\nS1 E1 (1≤S1≤n，1≤E1≤n，S1&lt;E1)\n</p>\n<p>\nS2 E2(1≤S2≤n，1≤E2≤n，S2&lt;E2)\n</p>\n<p>\n............\n</p>\n<p>\nSm Em(1≤Sm≤n，1≤Em≤n，Sm&lt;Em)\n</p>\n<p>\n对于每一个i（1≤i≤m），从前面输入的N个有序结点序列中的[Si,Ei]范围内（即从输入的第Si个数至第Ei个数中）找到一个最小数Amin=min{As1,As2...Ae1}和一个最大数Amax=max{As1，As2…Ae1),然后在G中的结点Amin和Amax之间连一条边。\n</p>\n<p>\n接下来一行包括一个整数K (1≤k≤100000)， 下面有k个问题。\n</p>\n<p>\nk\n</p>\n<p>\nu1 v1 (1≤u1≤n，1≤v1≤n)\n</p>\n<p>\nu2 v2 (1≤u2≤n，1≤v2≤n)\n</p>\n<p>\n............\n</p>\n<p>\nuk vk(1≤uk≤n，1≤vk≤n)\n</p>\n<p>\n对于每个i（1≤i≤k），你需要回答ui和vi是否连通（包括直接或间接）。\n</p>\n<p>\n你可以假设每个节点与它自身都是连通的，任意两个节点之间可能会有多条边相连。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n输出文件有K行，其中在第i行如果ui和vi连通(包括直接或间接)，你需要输出“YES”，否则输出“NO”。\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>5\n2\n3\n5\n4\n1\n3\n2 3\n3 5\n1 2\n3\n3 1\n5 1\n4 5</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>YES\nYES\nNO</pre>\n<h3>\n【提示】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n对于样例输入，共有5个节点顺序是2 3 5 4 1。有3条边：第一条的构建方式是：从输入的第2～3个结点｛3，5｝中找出最小数3，最大数5，在节点3和节点5间连一条边。同理，对于第二条边，在输入序列的第3～5范围内（即{5,4,1}）中找出最小数1，最大数5，节点1和节点5也是直接有边相连的……\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【来源】\n</h3>\n<p>\n在此键入。\n</p>\n\n"}]}