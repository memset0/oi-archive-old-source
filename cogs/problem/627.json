{"title":"[GZOI2011] 简易计算器","time_limit":1000,"memory_limit":128,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=pJJJXNeVW","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<div>\n\t【问题描述】\n</div>\n<div>\n\t相信大家都用过计算器，一般来说，计算机都可以计算简单的 加、减、乘、除这几种运算。简易计算器的功能和一般的计算器一样，只是它更加简单，只能处理整数运算，也就是说，它没有小数点按钮，并且它的除法运算是整除运算。\n</div>\n<div>\n\t现在，我们给出简易计算器上的按钮序列，请你编程序，模拟简易计算器的功能，输出最终的结果。\n</div>\n<div>\n</div>\n<div>\n\t【计算器组成】\n</div>\n<div>\n\t简易计算器由以下按钮组成：\n</div>\n<div>\n\t数字按钮： 0 1 2 3 4 5 6 7 8 9\n</div>\n<div>\n\t运算按钮： + - * /\n</div>\n<div>\n\t等于号按钮：=\n</div>\n<div>\n\t正负转换按钮：+/-\n</div>\n<div>\n\t为了表述方便，+/- 按钮用 F 表示 ，\n</div>\n<div>\n</div>\n<div>\n\t【计算器逻辑处理】\n</div>\n<div>\n\t计算器内存有3个值，M1，M2，OP，ST\n</div>\n<div>\n\tM1为计算器的左运算值，初始值为0\n</div>\n<div>\n\tM2为计算器的右运算值，初始值0\n</div>\n<div>\n\tOP为计算器的当前运算符，初始值为空\n</div>\n<div>\n\tST为状态标记，初始值为0\n</div>\n<div>\n</div>\n<div>\n\t状态装换逻辑如下：\n</div>\n<div>\n</div>\n<div>\n\tST=0(M1/OP输入态)：\n</div>\n<div>\n\t显示值：M1\n</div>\n<div>\n\t输入数字N ：\n</div>\n<div>\n\tM1=N ，转 ST=1状态\n</div>\n<div>\n\t输入F ：\n</div>\n<div>\n\tM1=-M1，转 ST=0状态\n</div>\n<div>\n\t输入运算符：\n</div>\n<div>\n\tOP=运算符，转ST=2状态\n</div>\n<div>\n\t输入“=”：\n</div>\n<div>\n\t转 ST=0状态\n</div>\n<div>\n</div>\n<div>\n\tST=1(M1+/OP输入态)：\n</div>\n<div>\n\t显示值：M1\n</div>\n<div>\n\t输入数字N ：\n</div>\n<div>\n\t如果M1&gt;=0则 M1=M1*10+N 否则M1=M1*10-N;\n</div>\n<div>\n\t转 ST=1状态；\n</div>\n<div>\n\t输入F ：\n</div>\n<div>\n\tM1=-M1，转 ST=1状态；\n</div>\n<div>\n\t输入运算符：\n</div>\n<div>\n\tOP=运算符，转ST=2状态\n</div>\n<div>\n\t输入“=”：\n</div>\n<div>\n\t转 ST=0状态\n</div>\n<div>\n</div>\n<div>\n\tST=2(OP/M2输入态)：\n</div>\n<div>\n\t显示值：M1\n</div>\n<div>\n\t输入数字N：\n</div>\n<div>\n\tM2=N，转ST=3状态;\n</div>\n<div>\n\t输入F：\n</div>\n<div>\n\tM2=0，转 ST=3状态；\n</div>\n<div>\n\t输入运算符：\n</div>\n<div>\n\tOP=运算符，转ST=2状态\n</div>\n<div>\n\t输入“=”：\n</div>\n<div>\n\t转 ST=0状态\n</div>\n<div>\n</div>\n<div>\n\tST=3(M2+/OP输入态)：\n</div>\n<div>\n\t显示值：M2\n</div>\n<div>\n\t输入数字N：\n</div>\n<div>\n\t如果M2&gt;=0则 M2=M2*10+N 否则M2=M2*10-N；\n</div>\n<div>\n\t转ST=3状态；\n</div>\n<div>\n\t输入F：\n</div>\n<div>\n\tM2=-M2，转 ST=3状态；\n</div>\n<div>\n\t输入运算符：\n</div>\n<div>\n\tM1=[M1][OP][M2] 的值\n</div>\n<div>\n\tOP=运算符；\n</div>\n<div>\n\t转ST=2状态\n</div>\n<div>\n\t输入“=”： 转 ST=0状态\n</div>\n<div>\n\tM1=[M1][OP][M2] 的值\n</div>\n<div>\n\t转ST=0状态\n</div>\n<div>\n</div>\n<div>\n\t【输入格式】\n</div>\n<div>\n\t输入只有一行，表示在计算器输入的按钮，长度&lt;=100，里面只包含如下字符 :\n</div>\n<div>\n\t0123456789+-*/=F\n</div>\n<div>\n\t输入数据保证不会出现除以0的 情况，运算过程中各个内存的值的范围在\n</div>\n<div>\n\t[-10000000, 10000000] 以内\n</div>\n<div>\n</div>\n<div>\n</div>\n<div>\n\t【输出格式】\n</div>\n<div>\n\t输出包含一行整数，表示最后在计算器显示的结果\n</div>\n<div>\n</div>\n<div>\n\t【输入样例】\n</div>\n<div>\n\t123=*2F-+/3+-=\n</div>\n<div>\n</div>\n<div>\n\t【输出样例】\n</div>\n<div>\n\t-82\n</div>\n<div>\n</div>\n\n"}]}