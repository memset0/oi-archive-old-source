{"title":"[NOI2005] 维护数列","time_limit":3000,"memory_limit":64,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=pSziimjjP","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<p>\n<span style=\"font-size:13px;line-height:19px;\"> </span> \n</p>\n<p style=\"margin-left:0px;\">\n【问题描述】\n</p>\n<p style=\"margin-left:0px;\">\n请写一个程序，要求维护一个数列，支持以下 6 种操作：（请注意，格式栏 中的下划线‘ _ ’表示实际输入文件中的空格）\n</p>\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" style=\"font-size:13px;color:black;background-color:white;\">\n<tbody>\n<tr>\n<td valign=\"top\" width=\"91\">\n<p style=\"margin-left:0px;\">\n操作编号\n</p>\n</td>\n<td valign=\"top\" width=\"217\">\n<p style=\"margin-left:0px;\">\n输入文件中的格式\n</p>\n</td>\n<td valign=\"top\" width=\"276\">\n<p align=\"center\" style=\"margin-left:0px;\">\n说明\n</p>\n</td>\n</tr>\n<tr>\n<td valign=\"top\" width=\"91\">\n<p style=\"margin-left:0px;\">\n<br/>\n</p>\n<p style=\"margin-left:0px;\">\n1.  插入\n</p>\n</td>\n<td valign=\"top\" width=\"217\">\n<p style=\"margin-left:0px;\">\n<br/>\n</p>\n<p style=\"margin-left:0px;\">\n<br/>\n</p>\n<p style=\"margin-left:0px;\">\n<span>INSERT_<em>posi</em>_<em>tot</em>_<em>c</em>1_<em>c</em>2_..._<em>c</em></span><em><span>tot</span></em> \n</p>\n</td>\n<td valign=\"top\" width=\"276\">\n<p style=\"margin-left:0px;\">\n<span>在当前数列的第 </span><em><span>posi </span></em><span>个数字后插入 </span><em><span>tot</span></em> \n</p>\n<p style=\"margin-left:0px;\">\n<span>个数字：</span><em><span>c</span></em><span>1, <em>c</em>2, …, <em>c</em></span><em><span>tot</span></em><span>；若在数列首插</span> \n</p>\n<p style=\"margin-left:0px;\">\n<span>入，则 </span><em><span>posi </span></em><span>为 0</span> \n</p>\n</td>\n</tr>\n<tr>\n<td valign=\"top\" width=\"91\">\n<p style=\"margin-left:0px;\">\n2.  删除\n</p>\n</td>\n<td valign=\"top\" width=\"217\">\n<p style=\"margin-left:0px;\">\n<br/>\n</p>\n<p style=\"margin-left:0px;\">\nDELETE_<em>posi</em>_<em>tot</em> \n</p>\n</td>\n<td valign=\"top\" width=\"276\">\n<p style=\"margin-left:0px;\">\n<span>从当前数列的第 </span><em><span>posi </span></em><span>个数字开始连续</span> \n</p>\n<p style=\"margin-left:0px;\">\n<span>删除 </span><em><span>tot </span></em><span>个数字</span> \n</p>\n</td>\n</tr>\n<tr>\n<td valign=\"top\" width=\"91\">\n<p style=\"margin-left:0px;\">\n3.  修改\n</p>\n</td>\n<td valign=\"top\" width=\"217\">\n<p style=\"margin-left:0px;\">\n<br/>\n</p>\n<p style=\"margin-left:0px;\">\nMAKE-SAME_<em>posi</em>_<em>tot</em>_<em>c</em> \n</p>\n</td>\n<td valign=\"top\" width=\"276\">\n<p style=\"margin-left:0px;\">\n<span>将当前数列的第 </span><em><span>posi </span></em><span>个数字开始的连</span> \n</p>\n<p style=\"margin-left:0px;\">\n<span>续 </span><em><span>tot </span></em><span>个数字统一修改为 </span><em><span>c</span></em> \n</p>\n</td>\n</tr>\n<tr>\n<td valign=\"top\" width=\"91\">\n<p style=\"margin-left:0px;\">\n4.  翻转\n</p>\n</td>\n<td valign=\"top\" width=\"217\">\n<p style=\"margin-left:0px;\">\n<br/>\n</p>\n<p style=\"margin-left:0px;\">\nREVERSE_<em>posi</em>_<em>tot</em> \n</p>\n</td>\n<td valign=\"top\" width=\"276\">\n<p style=\"margin-left:0px;\">\n<span>取出从当前数列的第 </span><em><span>posi </span></em><span>个数字开始</span> \n</p>\n<p style=\"margin-left:0px;\">\n<span>的 </span><em><span>tot </span></em><span>个数字，翻转后放入原来的位置</span> \n</p>\n</td>\n</tr>\n<tr>\n<td valign=\"top\" width=\"91\">\n<p style=\"margin-left:0px;\">\n5.  求和\n</p>\n</td>\n<td valign=\"top\" width=\"217\">\n<p style=\"margin-left:0px;\">\n<br/>\n</p>\n<p style=\"margin-left:0px;\">\nGET-SUM_<em>posi</em>_<em>tot</em> \n</p>\n</td>\n<td valign=\"top\" width=\"276\">\n<p style=\"margin-left:0px;\">\n<span>计算从当前数列开始的第 </span><em><span>posi </span></em><span>个数字</span> \n</p>\n<p style=\"margin-left:0px;\">\n<span>开始的 </span><em><span>tot </span></em><span>个数字的和并输出</span> \n</p>\n</td>\n</tr>\n<tr>\n<td valign=\"top\" width=\"91\">\n<p style=\"margin-left:0px;\">\n6.  求和最\n</p>\n<p style=\"margin-left:0px;\">\n大的子列\n</p>\n</td>\n<td valign=\"top\" width=\"217\">\n<p style=\"margin-left:0px;\">\n<br/>\n</p>\n<p style=\"margin-left:0px;\">\nMAX-SUM\n</p>\n</td>\n<td valign=\"top\" width=\"276\">\n<p style=\"margin-left:0px;\">\n求出当前数列中和最大的一段子列，\n</p>\n<p style=\"margin-left:0px;\">\n并输出最大和\n</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p style=\"margin-left:0px;\">\n【输入格式】\n</p>\n<p style=\"margin-left:0px;\">\n输入文件的第 1 行包含两个数 N 和 M，N 表示初始时数列中数的个数，M表示要进行的操作数目。\n</p>\n<p style=\"margin-left:0px;\">\n第 2 行包含 N 个数字，描述初始时的数列。\n</p>\n<p style=\"margin-left:0px;\">\n以下 M 行，每行一条命令，格式参见问题描述中的表格。\n</p>\n<p style=\"margin-left:0px;\">\n【输出格式】\n</p>\n<p style=\"margin-left:0px;\">\n对于输入数据中的 GET-SUM 和 MAX-SUM 操作，向输出文件依次打印结果，每个答案（数字）占一行。\n</p>\n<p style=\"margin-left:0px;\">\n【输入样例】\n</p>\n<pre>9 8\n2 -6 3 5 1 -5 -3 6 3\nGET-SUM 5 4\nMAX-SUM INSERT 8 3 -5 7 2\nDELETE 12 1\nMAKE-SAME 3 3 2\nREVERSE 3 6\nGET-SUM 5 4\nMAX-SUM\n</pre>\n<p style=\"margin-left:0px;\">\n【输出样例】\n</p>\n<pre>-1\n10\n1\n10\n</pre>\n<p style=\"margin-left:0px;\">\n【样例说明】\n</p>\n<p style=\"margin-left:0px;\">\n初始时，我们拥有数列 2 -6 3 5 1 -5 -3 6 3\n</p>\n<p style=\"margin-left:0px;\">\n执行操作 GET-SUM 5 4，表示求出数列中从第 5 个数开始连续 4 个数字之和，1+(-5)+(-3)+6 = -1：\n</p>\n<pre>2     -6     3      5      1     -5    -3     6      3\n\n</pre>\n<p style=\"margin-left:0px;\">\n执行操作 MAX-SUM，表示要求求出当前数列中最大的一段和，应为 3+5+1+(-5)+(-3)+6+3 = 10：\n</p>\n<pre>2     -6     3      5      1     -5    -3     6      3\n\n</pre>\n<p style=\"margin-left:0px;\">\n执行操作 INSERT 8 3 -5 7 2，即在数列中第 8 个数字后插入-5 7 2，\n</p>\n<pre>2     -6     3      5      1     -5    -3     6     -5     7      2      3\n\n</pre>\n<p style=\"margin-left:0px;\">\n执行操作 DELETE 12 1，表示删除第 12 个数字，即最后一个：\n</p>\n<pre>2     -6     3      5      1     -5    -3     6     -5     7      2\n\n</pre>\n<p style=\"margin-left:0px;\">\n执行操作 MAKE-SAME 3 3 2，表示从第 3 个数开始的 3 个数字，统一修改为 2：\n</p>\n<pre>2\t-6\t3\t5\t1\t-5\t-3\t6\t-5\t7\t2\n</pre>\n<p style=\"margin-left:0px;\">\n改为\n</p>\n<pre>2\t-6\t2\t2\t2\t-5\t-3\t6\t-5\t7\t2\n</pre>\n<p style=\"margin-left:0px;\">\n执行操作 REVERSE 3 6，表示取出数\n</p>\n\n"}]}