{"title":"[HZOI 2016] 搜城探宝","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vmSmmVkPU","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\nzhclk已经坚信自己就是传说中的有缘人，于是，带着梦想，带着希冀，带着勇气，来到了神迹，寻找……\n</p>\n<p>\n<br/>\n</p>\n<p>\n如下图，神迹的城堡是一个树形的结构，共有n间屋子。每间屋子都有一把锁，并且每间屋子最多可以到另外的两个屋子里（它是一棵二叉树）。在城堡的每个房间都存在着不同的宝藏。现在zhclk站在城堡的大门口（1号屋子门口）拥有k把万能钥匙，可以打开任意一把锁，但每把钥匙只能用一次，钥匙是拔不出来的。\n</p>\n<p>\n问题哪有那么简单……Zhclk还有一个传送门，可以在任何时候带他去任何一间屋子，但传送门也只能\n</p>\n<p>\n使用一次。\n</p>\n<p>\n地图上画出了宝藏的分布，只有获得最大价值的宝藏zhclk的目的才能实现。 \n</p>\n<p>\n<img alt=\"\" src=\"/upload/image/20160612/20160612155545_16450.png\"/> \n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n第一行：两个数n和k。为城堡的屋子总数和你拥有的万能钥匙数。\n</p>\n<p>\n第二行到第n行：每行两个数x1和x2，为树上的n-1条边。（树保证以1为根节点）。\n</p>\n<p>\n第n+1行：n个数，第i个数为房间i的宝藏价值vi\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n一个数，为最大宝藏价值maxv。\n</p>\n<h3>\n【样例输入】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n8 4\n</p>\n<p>\n1 2\n</p>\n<p>\n1 3\n</p>\n<p>\n2 4\n</p>\n<p>\n2 5\n</p>\n<p>\n3 6\n</p>\n<p>\n3 7\n</p>\n<p>\n6 8\n</p>\n<p>\n2 5 1 4 6 1 1 10\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【样例输出】\n</h3>\n<pre>27{用钥匙依次开1 2 4 5 号房间，再用传送门去8号房间，27=2+5+6+4+10}</pre>\n<h3>\n【提示】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n数据范围：\n</p>\n<p>\nn&lt;=20\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【来源】\n</h3>\n<p>\nHZOI 2016\n</p>\n\n"}]}