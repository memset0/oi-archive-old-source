{"title":"[ZLXOI2015][异次元圣战II]燃灵之链","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vmmJQVaeV","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<img src=\"/upload/image/20151029/20151029082300_76092.jpg\" alt=\"\"/> \n</p>\n<p>\n<br/>\n</p>\n<p>\n<strong><span style=\"color:#E53333;font-size:16px;\">战栗吧！丧钟已为你鸣响！</span></strong> \n</p>\n<p>\n<strong><span style=\"color:#E53333;font-size:16px;\">颤抖吧！挽歌已为你宣唱！</span></strong> \n</p>\n<p>\n<strong><span style=\"color:#E53333;font-size:16px;\">末日审判已经降临,</span></strong> \n</p>\n<p>\n<strong><span style=\"color:#E53333;font-size:16px;\">所有情侣都要付出代价！</span></strong> \n</p>\n<p>\n<br/>\n</p>\n<p>\n情侣教会的暴行激起了广大有良知的单身狗的愤怒，一场起义不可避免的爆发了。\n</p>\n<p>\n单身狗分裂为两派，左派的FFF和右派的SOX。\n</p>\n<p>\nFFF旨在烧死一切情侣，但是他们缺乏火源。\n</p>\n<p>\n你作为一名FFF的团员，接受命令寻找传说中的具有火焰魔法能量的燃灵之链。\n</p>\n<p>\n然而，当你找到燃灵之链时，却发现燃灵之链的一部分受到了恶魔能量的腐蚀，即所谓负能量，\n</p>\n<p>\n一部分仍然拥有正能量，为了满足K个起义军团的需要，你需要在含有n个能量子的项链中选取<strong><u>K个互不相邻</u></strong>的子项链。\n</p>\n<p>\n求所能得到的能量的最大值。（相等恶魔能量和正能量可以在数值上抵消）\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n第一行，两个正整数n和k\n</p>\n<p>\n第二行，这条项链从左到右每个能量子的能量值\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n一个正整数ans,为最大值\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre><p>\n7 3\n</p>\n\n<p>\n5 -1 4 -8 2 -3 5\n</p>\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre> 15</pre>\n<h3>\n【提示】\n</h3>\n<p>\n三个子项链分别为(5,-1,4)(2)(5)\n</p>\n<p>\n首先我们观察得出：\n</p>\n<p>\n<strong>这条链是一个一叉树</strong> \n</p>\n<p>\n<strong>其次要对这棵树进行剖分</strong> \n</p>\n<p>\n<strong>所以我们自然想到了树链剖分</strong> \n</p>\n<p>\n<strong>百度搜索树链剖分，你值得拥有！</strong> \n</p>\n<p>\n对于 20%的数据，N&lt;=20;K&lt;=10;\n</p>\n<p>\n对于 70%的数据，N&lt;=1000,K&lt;=100;\n</p>\n<p>\n对于 100%的数据,N&lt;=10000,K&lt;=1000;\n</p>\n<p>\n能量子的范围为[-2^15,2^15]\n</p>\n<h3>\n【来源】\n</h3>\n<p>\n在此键入。\n</p>\n\n"}]}