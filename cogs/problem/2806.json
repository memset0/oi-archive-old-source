{"title":"【西安2017网络赛】树上异或xor","time_limit":2000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vJQiQVUae","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<div class=\"jsk-padding-top guide-content\">\n<p>\n<br/>\n</p>\n<p>\n<br/>\n</p>\n<h3>\nDescription\n</h3>\nThere is a tree with <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span></span> nodes. For each node, there is an integer value <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">a_i</annotation></semantics></math></span></span>, (<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base textstyle uncramped\"><span class=\"mord mathrm\">1</span><span class=\"mrel\">≤</span><span class=\"mord\"><span class=\"mord mathit\">a_</span><span class=\"msupsub\"><span class=\"vlist\"><span style=\"top:0.15em;margin-right:0.05em;margin-left:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\"></span></span><span class=\"reset-textstyle scriptstyle cramped mtight\"><span class=\"mord mathit mtight\">i</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\"></span></span></span></span></span></span><span class=\"mrel\">≤</span><span class=\"mord mathrm\">1</span><span class=\"mpunct\">,</span><span class=\"mord mathrm\">0</span><span class=\"mord mathrm\">0</span><span class=\"mord mathrm\">0</span><span class=\"mpunct\">,</span><span class=\"mord mathrm\">0</span><span class=\"mord mathrm\">0</span><span class=\"mord mathrm\">0</span><span class=\"mpunct\">,</span><span class=\"mord mathrm\">0</span><span class=\"mord mathrm\">0</span><span class=\"mord mathrm\">0</span></span></span></span> for <span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base textstyle uncramped\"><span class=\"mord mathrm\">1</span><span class=\"mrel\">≤</span><span class=\"mord mathit\">i</span><span class=\"mrel\">≤</span><span class=\"mord mathit\">n</span></span></span></span>). There is <span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base textstyle uncramped\"><span class=\"mord mathit\" style=\"margin-right:0.03588em;\">q</span></span></span></span> queries which are described as follow: Assume the value on the path from node <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a </annotation></semantics></math></span></span>to node <span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base textstyle uncramped\"><span class=\"mord mathit\">b</span></span></span></span> is <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>t</mi><mn>0</mn></msub><mo separator=\"true\">,</mo><msub><mi>t</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>⋯</mo><msub><mi>t</mi><mi>m</mi></msub></mrow><annotation encoding=\"application/x-tex\">t_0, t_1, ... t_m. </annotation></semantics></math></span></span>You are supposed to calculate <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>t</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">t_0</annotation></semantics></math></span></span> xor <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>t</mi><mi>k</mi></msub></mrow><annotation encoding=\"application/x-tex\">t_k</annotation></semantics></math></span></span> xor <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>t</mi><mrow><mn>2</mn><mi>k</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">t_2k</annotation></semantics></math></span></span> xor ... xor <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>t</mi><mrow><mi>p</mi><mi>k</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">t_pk</annotation></semantics></math></span></span> <span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base textstyle uncramped\"><span class=\"mopen\">(</span><span class=\"mord mathit\">p</span><span class=\"mord mathit\" style=\"margin-right:0.03148em;\">k</span><span class=\"mrel\">≤</span><span class=\"mord mathit\">m</span><span class=\"mclose\">)</span></span></span></span>.\n<p>\n<br/>\n</p>\n<h3>\nInput Format\n</h3>\n<p>\nThere is only 1 dataset.<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base textstyle uncramped\"><span class=\"mopen\">(</span><span class=\"mord mathit\">n</span><span class=\"mrel\">≤</span><span class=\"mord mathrm\">5</span><span class=\"mord mathrm\">0</span><span class=\"mpunct\">,</span><span class=\"mord mathrm\">0</span><span class=\"mord mathrm\">0</span><span class=\"mord mathrm\">0</span><span class=\"mpunct\">,</span><span class=\"mord mathit\" style=\"margin-right:0.03588em;\">q</span><span class=\"mrel\">≤</span><span class=\"mord mathrm\">5</span><span class=\"mord mathrm\">0</span><span class=\"mord mathrm\">0</span><span class=\"mpunct\">,</span><span class=\"mord mathrm\">0</span><span class=\"mord mathrm\">0</span><span class=\"mord mathrm\">0</span><span class=\"mclose\">)</span></span></span></span>.<br/>\nFirst 2 integers n,q\n</p>\n<p>\nIn the first <span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base textstyle uncramped\"><span class=\"mord mathit\">n</span><span class=\"mbin\">−</span><span class=\"mord mathrm\">1</span></span></span></span> lines, there are two integers u<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base textstyle uncramped\"><span class=\"mpunct\">,</span><span class=\"mord mathit\" style=\"margin-right:0.03588em;\">v</span></span></span></span>, indicates there is an edge connect node <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>u</mi></mrow><annotation encoding=\"application/x-tex\">u</annotation></semantics></math></span></span> and node <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span></span>.\n</p>\n<p>\nIn the next <span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base textstyle uncramped\"><span class=\"mord mathit\">n</span></span></span></span> lines, There is an integer <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">a_i</annotation></semantics></math></span></span> (<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base textstyle uncramped\"><span class=\"mord mathrm\">1</span><span class=\"mrel\">≤</span><span class=\"mord\"><span class=\"mord mathit\">a</span><span class=\"msupsub\"><span class=\"vlist\"><span style=\"top:0.15em;margin-right:0.05em;margin-left:0em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\"></span></span><span class=\"reset-textstyle scriptstyle cramped mtight\"><span class=\"mord mathit mtight\">i</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\"></span></span></span></span></span></span><span class=\"mrel\">≤</span><span class=\"mord mathrm\">1</span><span class=\"mpunct\">,</span><span class=\"mord mathrm\">0</span><span class=\"mord mathrm\">0</span><span class=\"mord mathrm\">0</span><span class=\"mpunct\">,</span><span class=\"mord mathrm\">0</span><span class=\"mord mathrm\">0</span><span class=\"mord mathrm\">0</span><span class=\"mpunct\">,</span><span class=\"mord mathrm\">0</span><span class=\"mord mathrm\">0</span><span class=\"mord mathrm\">0</span></span></span></span>).\n</p>\n<p>\nIn the next <span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base textstyle uncramped\"><span class=\"mord mathit\" style=\"margin-right:0.03588em;\">q</span></span></span></span> lines, There is three integers <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">a,b </annotation></semantics></math></span></span>and <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span></span>. (<span class=\"katex\"><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base textstyle uncramped\"><span class=\"mord mathrm\">1</span><span class=\"mrel\">≤</span><span class=\"mord mathit\">a</span><span class=\"mpunct\">,</span><span class=\"mord mathit\">b</span><span class=\"mpunct\">,</span><span class=\"mord mathit\" style=\"margin-right:0.03148em;\">k</span><span class=\"mrel\">≤</span><span class=\"mord mathit\">n</span></span></span></span>).\n</p>\n<h3>\nOutput Format\n</h3>\n<p>\nFor each query, output an integer in one line, without any additional space.\n</p>\n<p>\n<br/>\n</p>\n<div id=\"samples\">\n<div class=\"jsk-margin-vertical-sm\">\n<h4 class=\"title\">\n样例输入\n</h4>\n<pre class=\"jsk-text-danger jsk-text-default jsk-padding-vertical-xs\">5 6\n1 5\n4 1\n2 1\n3 2\n19\n26\n0\n8\n17\n5 5 1\n1 3 2\n3 2 1\n5 4 2\n3 4 4\n1 4 5</pre>\n</div>\n<div class=\"jsk-margin-vertical-sm\">\n<h4 class=\"title\">\n样例输出\n</h4>\n<pre class=\"jsk-text-danger jsk-text-default jsk-padding-vertical-xs\">17\n19\n26\n25\n0\n19</pre>\n</div>\n</div>\n<h4 class=\"title jsk-margin-top-lg jsk-margin-bottom-sm\">\n题目来源\n</h4>\n<p class=\"jsk-margin-top-sm\">\n<a class=\"jsk-text-link\" href=\"//nanti.jisuanke.com/?kw=2017 ACM-ICPC 亚洲区（西安赛区）网络赛\">2017 ACM-ICPC 亚洲区（西安赛区）网络赛</a> \n</p>\n</div>\n\n"}]}