{"title":"[HZOI 2016] 数列操作λ","time_limit":3000,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vxNmyVejq","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n给出一个长度为$N$的数组和$Q$次操作和一个数$K$\n</p>\n<p>\n操作分两种\n</p>\n<p>\n    1.给出$p,x$将位置$p$加上一个值$x$\n</p>\n<p>\n    2.给出$n$询问到位置$n$的$K$次前缀和$\\mod 998244353$\n</p>\n<p>\n至于什么是K次前缀和,你可以这么理解:\n</p>\n<p>\n    对于一个数组$a$,对于所有$i$从$1$到$N-1$按顺序令$a_i=a_i+a_{i-1}$可以得到$1$次前缀和,再次执行该操作可以得到$2$次前缀和,即$K$次前缀和就是执行$K$次操作后的结果。例如对于$\\{1,1,1,1,1\\}$的$1$次前缀和就是$\\{1,2,3,4,5\\}$,$2$次前缀和就是$\\{1,3,6,10,15\\}$\n</p>\n<p>\n$N\\le10^5,Q\\le 10^5,K\\le 2^{30}$\n</p>\n<p>\n$操作1不超过500次$\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行三个整数$N,K,Q$\n</p>\n<p>\n第二行$N$个数,第$i$个数为数组中位置为$i-1$的数\n</p>\n<p>\n接下来$Q$行每行行首一个数$op$表示操作种类\n</p>\n<p>\n    若$op=1$则接下来有两个整数$p,x$\n</p>\n<p>\n    若$op=2$接下来一个整数$n$\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n对于每个$op=2$的操作,输出对应的值\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre><p>\n5 1 2\n1 1 1 1 1\n1 1 1\n2 3\n</p>\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>5</pre>\n<h3>\n【提示】\n</h3>\n<p>\n对于第$p$个测试点有\n</p>\n<p>\n$Q,N\\le p^2*1000$\n</p>\n<p>\n$K\\le p^2*10737418$\n</p>\n<h3>\n【来源】\n</h3>\n<p>\n51nod 1172 +强行嵌套\n</p>\n\n"}]}