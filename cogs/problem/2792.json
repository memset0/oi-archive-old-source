{"title":"线性变换","time_limit":3000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vNJQNVWPV","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n平面上有N个点，编号为1~N。其中，编号为i的点的坐标为(xi,yi)。下面定义一些变换：\n</p>\n<p>\nX：将点i关于x轴翻转\n</p>\n<p>\nY：将点i关于y轴翻转\n</p>\n<p>\nO：将点i关于直线y=x翻转\n</p>\n<p>\nM：将点i的横坐标与纵坐标各加一个数\n</p>\n<p>\nR：将点i绕原点逆时针旋转a度（角度）\n</p>\n<p>\n给出一个大小为M的变换序列，每个变换以如下形式给出：\n</p>\n<p>\nX l r : 将编号为[l,r]的所有点进行X变换\n</p>\n<p>\nY l r : 将编号为[l,r]的所有点进行Y变换\n</p>\n<p>\nO l r : 将编号为[l,r]的所有点进行O变换\n</p>\n<p>\nM l r a b : 将编号为[l,r]的所有点进行M变换，横坐标加a，纵坐标加b\n</p>\n<p>\nR l r a : 将编号为[l,r]的所有点进行R变换，旋转角度为a度\n</p>\n<p>\n输出编号为1~N的点经过所有变换后的坐标。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n第一行一个整数N，为总共的点数。\n</p>\n<p>\n2~N+1行每行两个实数，第i行为编号为i-1的点的初始坐标。\n</p>\n<p>\n接下来一行一个整数M，为操作总数。\n</p>\n<p>\n接下来M行每行按上述形式给出一个操作。\n</p>\n<p>\n<br/>\n</p>\n<p>\n数据规模约定：其中1&lt;=N,M&lt;=100000，每个点的横纵坐标的绝对值任意时刻均小于100000，操作序列中出l和r以外其余的数均为实数，输入时最多保留2位小数，1&lt;=l&lt;=r&lt;=N，0&lt;=a&lt;360。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n输出N行，每行两个实数，第i行为点i经过操作后的坐标。（保留两位小数）\n</p>\n<h3>\n【样例输入】\n</h3>\n<p>\n3\n</p>\n<p>\n2.1 2\n</p>\n<p>\n-2.4 2.5\n</p>\n<p>\n0.7 -3.1\n</p>\n<p>\n5\n</p>\n<p>\nX 1 3\n</p>\n<p>\nM 1 3 3 6\n</p>\n<p>\nR 1 3 90\n</p>\n<p>\nO 1 2\n</p>\n<p>\nY 1 1\n</p>\n<h3>\n【样例输出】\n</h3>\n<p>\n-5.10 -4.00\n</p>\n<p>\n0.60 -3.50\n</p>\n<p>\n-9.10 3.70\n</p>\n<h3>\n【提示】\n</h3>\n<p>\n数据有梯度。\n</p>\n<h3>\n【来源】\n</h3>\n<p>\n在此键入。\n</p>\n\n"}]}