{"title":"[CF 121E] 幸运数列","time_limit":4000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vyixSkPVV","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n    对于欧洲人来说，“幸运数”是指那些十进制只由4或7组成的数。财务员Petya需要维护一个支持如下操作的整数数列：\n</p>\n<p>\n    add l r d --- 表示将[l, r]区间内的所有数加上一个正整数d（$1 ≤ l ≤ r ≤ n, 1 ≤ d ≤ 10^4$）。\n</p>\n<p>\n    count l r --- 统计[l, r]区间内有多少个“幸运数”。($1 \\leq l, r \\leq n$)\n</p>\n<p>\n    请你帮助Petya实现它。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n    第一行有两个正整数n, m $(1 \\leq n, m \\leq 10^5)$，表示数组的长度和操作的个数。\n</p>\n<p>\n    第二行有n个不大于$10^4$的正整数，表示这个初始数列。\n</p>\n<p>\n    接下来有m行，每行表示一个操作。\n</p>\n<p>\n    输入保证过程中数组中所有元素始终为不超过$10^4$的正整数.\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n    输出若干行。对于所有的count l r 操作，按顺序给出每个询问的答案。\n</p>\n<h3>\n【样例输入1】\n</h3>\n<pre><p>\n3 6\n2 3 4\ncount 1 3\ncount 1 2\nadd 1 3 2\ncount 1 3\nadd 2 3 3\ncount 1 3\n</p>\n</pre>\n<h3>\n【样例输出1】\n</h3>\n<pre><p>\n1\n0\n1\n1\n</p>\n</pre>\n<h3>\n</h3>\n<h3>\n【样例输入2】\n</h3>\n<pre><p>\n4 5\n4 4 4 4\ncount 1 4\nadd 1 4 3\ncount 1 4\nadd 2 3 40\ncount 1 4\n</p>\n</pre>\n<h3>\n【样例输出2】\n</h3>\n<pre><p>\n4\n4\n4\n</p>\n</pre>\n<br/>\n<h3>\n【来源】\n</h3>\n<p>\n<a href=\"http://codeforces.com/problemset/problem/121/E\" target=\"_blank\">CF Round #91 (round#1 only) E</a> \n</p>\n<p>\n<br/>\n</p>\n\n"}]}