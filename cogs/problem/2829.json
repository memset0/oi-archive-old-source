{"title":"beautiful序列","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vJmJNVUVP","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n从前有一个序列a[]，对于每个a[i] 都有一个在序列中的优美值，其定义是：序列中最长的\n</p>\n<p>\n一段[l，r], 满足l ≤ i ≤ r，且a[i] 是这一段的中位数（以数值为第一关键字，下标为第二关键\n</p>\n<p>\n字排序，这样的话这一段的长度只有可能是奇数），r-l+1 就是它的优美值。\n</p>\n<p>\n有Q 个询问，每次给出一段区间，求区间优美值的最大值\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行输入n 接下来n 个整数，代表ai 接下来Q，代表有Q 个区间接下来Q 行，每行\n</p>\n<p>\n两个整数l, r(l &lt;= r)，表示区间的左右端点\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n对于每个区间的询问，输出答案\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>8\n16 19 7 8 9 11 20 16\n8\n3 8\n1 4\n2 3\n1 1\n5 5\n1 2\n2 8\n7 8\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>7\n3\n1\n3\n5\n3\n7\n3\n</pre>\n<h3>\n【数据范围】\n</h3>\n<p>\n对于30% 的数据满足：1 ≤ n;Q ≤ 50\n</p>\n<p>\n对于70% 的数据满足：1 ≤ n;Q ≤ 2000\n</p>\n<p>\n对于100% 的数据满足，1 ≤ n ≤ 2000, 1 ≤ Q ≤ 100000, 1 ≤ ai ≤ 200\n</p>\n<h3>\n【来源】\n</h3>\n<p>\n2017.10.4 qbxt t1\n</p>\n\n"}]}