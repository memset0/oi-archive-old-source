{"title":"小F的数列编辑器","time_limit":1000,"memory_limit":128,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vNzzJVjUg","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n小F有一个梦想：为数列写一个最强大的编辑器！ 一开始，数列为空，光标在开头位置，小F的编辑器要对这个数列作如下五种操作：\n</p>\n<p>\nI x：在光标的后面插入一个数字x，并将光标移到这个新加入的x后。\n</p>\n<p>\nD：删除光标前的最后一个数字（保证存在），光标位置不变。\n</p>\n<p>\nL：光标左移一位，如果已经在开头则不做任何事。\n</p>\n<p>\nR：光标右移一位，如果已经在结尾则不做任何事。\n</p>\n<p>\nQ k：编辑器需要给出A1 A2 ··· Ak的最大前缀和（前缀长度不能为0），保证1 ≤ k ≤ N，其中N为当前光标前的数字个数。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n第一行，一个整数Q，表示操作的总次数。\n</p>\n<p>\n后Q行，每行是上列五种操作中的一种。\n</p>\n<p>\n<br/>\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n对每个Q操作，输出一行一个整数，表示答案。\n</p>\n<p>\n<br/>\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【样例输入】\n</h3>\n<p>\n8\n</p>\n<p>\nI 2\n</p>\n<p>\nI -1\n</p>\n<p>\nI 1\n</p>\n<p>\nQ 3\n</p>\n<p>\nL\n</p>\n<p>\nD\n</p>\n<p>\nR\n</p>\n<p>\nQ  22\n</p>\n<p>\n2\n</p>\n<h3>\n【样例输出】\n</h3>\n<p>\n2\n</p>\n<p>\n3\n</p>\n<h3>\n【样例解释】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n每次操作的结果如下（其中|表示光标位置）：\n</p>\n<p>\nI 2：[2|]\n</p>\n<p>\nI −1：[2 −1|]\n</p>\n<p>\nI 1：[2 −1 1|]\n</p>\n<p>\nQ 3：[2 −1 1|]，前3个数的最大前缀和为2\n</p>\n<p>\nL：[2 −1|1]\n</p>\n<p>\nD：[2|1]\n</p>\n<p>\nR：[2 1|]\n</p>\n<p>\nQ 2：[2 1|]，前2个数的最大前缀和为3\n</p>\n<p>\n<br/>\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【数据范围及提示】\n</h3>\n<p>\n</p><table style=\"width:100%;\" border=\"1\" bordercolor=\"#000000\" cellpadding=\"2\" cellspacing=\"0\">\n<tbody>\n<tr>\n<td>\n测试点编号                                           <br/>\n</td>\n<td>\n 包含操作种类<br/>\n</td>\n<td>\nQ<br/>\n</td>\n<td>\nX<br/>\n</td>\n</tr>\n<tr>\n<td>\n1<br/>\n</td>\n<td>\nI    Q<br/>\n</td>\n<td>\n10<br/>\n</td>\n<td>\n【-1，1】<br/>\n</td>\n</tr>\n<tr>\n<td>\n2<br/>\n</td>\n<td>\nI    Q<br/>\n</td>\n<td>\n500000<br/>\n</td>\n<td>\n【-1000，1000】<br/>\n</td>\n</tr>\n<tr>\n<td>\n3<br/>\n</td>\n<td>\nI    Q<br/>\n</td>\n<td>\n1000000\n</td>\n<td>\n同上<br/>\n</td>\n</tr>\n<tr>\n<td>\n4<br/>\n</td>\n<td>\nI    D    L    R     Q<br/>\n</td>\n<td>\n1000<br/>\n</td>\n<td>\n...<br/>\n</td>\n</tr>\n<tr>\n<td>\n5                                                                                                <br/>\n</td>\n<td>\n<p>\n<br/>\n</p>\n<p>\n同上\n</p>\n<p>\n<br/>\n</p>\n</td>\n<td>\n1000<br/>\n</td>\n<td>\n...<br/>\n</td>\n</tr>\n<tr>\n<td>\n6<br/>\n</td>\n<td>\n<p>\n同上\n</p>\n</td>\n<td>\n1000<br/>\n</td>\n<td>\n...<br/>\n</td>\n</tr>\n<tr>\n<td>\n7<br/>\n</td>\n<td>\n同上<br/>\n</td>\n<td>\n1000<br/>\n</td>\n<td>\n...<br/>\n</td>\n</tr>\n<tr>\n<td>\n8<br/>\n</td>\n<td>\n同上<br/>\n</td>\n<td>\n1000<br/>\n</td>\n<td>\n...<br/>\n</td>\n</tr>\n<tr>\n<td>\n9<br/>\n</td>\n<td>\n同上<br/>\n</td>\n<td>\n1000<br/>\n</td>\n<td>\n...<br/>\n</td>\n</tr>\n<tr>\n<td>\n10<br/>\n</td>\n<td>\n同上<br/>\n</td>\n<td>\n1000<br/>\n</td>\n<td>\n...<br/>\n</td>\n</tr>\n<tr>\n<td>\n11<br/>\n</td>\n<td>\n同上<br/>\n</td>\n<td>\n1000<br/>\n</td>\n<td>\n...<br/>\n</td>\n</tr>\n<tr>\n<td>\n12<br/>\n</td>\n<td>\n同上<br/>\n</td>\n<td>\n1000<br/>\n</td>\n<td>\n...<br/>\n</td>\n</tr>\n<tr>\n<td>\n13<br/>\n</td>\n<td>\n同上<br/>\n</td>\n<td>\n1000<br/>\n</td>\n<td>\n...<br/>\n</td>\n</tr>\n<tr>\n<td>\n14<br/>\n</td>\n<td>\n同上<br/>\n</td>\n<td>\n1000<br/>\n</td>\n<td>\n...<br/>\n</td>\n</tr>\n<tr>\n<td>\n15<br/>\n</td>\n<td>\n同上<br/>\n</td>\n<td>\n1000<br/>\n</td>\n<td>\n...<br/>\n</td>\n</tr>\n<tr>\n<td>\n16<br/>\n</td>\n<td>\n同上<br/>\n</td>\n<td>\n1000<br/>\n</td>\n<td>\n...<br/>\n</td>\n</tr>\n<tr>\n<td>\n17<br/>\n</td>\n<td>\n同上<br/>\n</td>\n<td>\n1000<br/>\n</td>\n<td>\n...<br/>\n</td>\n</tr>\n<tr>\n<td>\n18<br/>\n</td>\n<td>\n同上<br/>\n</td>\n<td>\n1000<br/>\n</td>\n<td>\n...<br/>\n</td>\n</tr>\n<tr>\n<td>\n19<br/>\n</td>\n<td>\n同上<br/>\n</td>\n<td>\n100000<br/>\n</td>\n<td>\n...<br/>\n</td>\n</tr>\n<tr>\n<td>\n20<br/>\n</td>\n<td>\n同上<br/>\n</td>\n<td>\n1000000<br/>\n</td>\n<td>\n...<br/>\n</td>\n</tr>\n</tbody>\n</table>\n<p></p>\n\n"}]}