{"title":"[HZOI 2016]你猜是不是DP V2","time_limit":0,"memory_limit":128,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vxxmiVekk","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n小绿帽同学在做了“2587. [HZOI 2015]你猜是不是DP”后发现自己学会了DP的正确姿势，\n</p>\n<p>\n于是它非常开心的点开了一道新的题，并且它成功的列出了DP的方程！！\n</p>\n<p>\n然而那道题的正解是O(nlogn^3)的（小绿帽怎么可能会～），但是小绿帽却列出了n^2的DP方程。\n</p>\n<p>\n所以还是请你帮助小绿帽同学完成这道题。\n</p>\n<p>\n<br/>\n</p>\n<p>\n下面是小绿帽同学的DP方程：\n</p>\n<p>\n<br/>\n</p>\n<pre class=\"prettyprint lang-cpp\">for(int i=1;i&lt;=n;i++)\n\n    for(int j=1;j&lt;=n;j++)\n\n        f[i][j]=get(f[i-1][j]);\n\nfor(int i=1;i&lt;=n;i++)\n\n    for(int j=1;j&lt;=n;j++) {\n\n        f[i][j]+=f[get(f[i-1][j])][get(f[i-1][j]+1)];\n\n        ans+=f[i][j];\n\n    }</pre>\n<p>\n<br/>\n</p>\n<p>\n其中f[0][1...n]的值由输入给出，ans%p的值即为答案。\n</p>\n<p>\n其中get()函数是这个样子滴～\n</p>\n<p>\n<br/>\n</p>\n<pre class=\"prettyprint lang-cpp\">int get(int x) {\n\n   x%=p;\n\n   return (x^(x&gt;&gt;7)^(x&lt;&lt;3)^(x&gt;&gt;2))%n+1;\n\n}</pre>\n<p>\n<br/>\n</p>\n<p>\n你可以认为这个方程就是对的，那么接下来交给你了，帮助小绿帽小朋友解决这个DP问题吧！\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n第一行两个整数n,p\n</p>\n<p>\n第二行n个整数表示f[0][1...n]\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n一个整数ans.\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre><p>\n5 2\n</p>\n\n<p>\n1 2 3 4 5\n</p>\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>0</pre>\n<h3>\n【提示】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n共18个测试点。\n</p>\n<p>\n第1~5个测试点每个4分，n&lt;=2000;\n</p>\n<p>\n第6～13个测试点每个5分，n&lt;=8000;\n</p>\n<p>\n第14～18个测试点每个8分,n&lt;=11500;\n</p>\n<p>\n对于第i个测试点,p为第i个素数。\n</p>\n<p>\n对于18个测试点，n均为4的倍数。\n</p>\n<h3>\n【来源】\n</h3>\n<p>\n一只名字很长的蒟蒻\n</p>\n\n"}]}