{"title":"[NOI 2016] 优秀的拆分","time_limit":1000,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vziNxVqaV","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【问题描述】\n</h3>\n<p>\n  如果一个字符串可以被拆分为 AABB 的形式，其中 A 和 B 是任意<strong>非空</strong>字符串， 则我们称该字符串的这种拆分是优秀的。\n</p>\n<p>\n  例如，对于字符串 <u>aabaabaa</u>，如果令 A = <u>aab</u>， B = <u>a</u>， 我们就找到了这个字符串拆分成 AABB 的一种方式。\n</p>\n<p>\n  一个字符串可能没有优秀的拆分，也可能存在不止一种优秀的拆分。 比如我们令 A = <u>a</u>， B = <u>baa</u>，也可以用 AABB 表示出上述字符串；但是，字符串<u>abaabaa</u> 就没有优秀的拆分。\n</p>\n<p>\n  现在给出一个长度为 n 的字符串 S，我们需要求出，在它<strong>所有子串</strong>的所有拆分方式中，优秀拆分的总个数。 这里的子串是指字符串中<strong>连续</strong>的一段。\n</p>\n<p>\n    以下事项需要注意：\n</p>\n<p>\n    1. 出现在不同位置的相同子串，我们认为是不同的子串，它们的优秀拆分均会被计入答案。\n</p>\n<p>\n    2. 在一个拆分中，允许出现 A = B。例如 <u>cccc</u> 存在拆分 A = B = <u>c</u>。\n</p>\n<p>\n    3. 字符串本身也是它的一个子串。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n每个输入文件包含多组数据。输入文件的第一行只有一个整数 T，表示数据 的组数。保证 1 ≤ T ≤ 10。\n</p>\n<p>\n接下来 T 行，每行包含一个仅由英文小写字母构成的字符串 S，意义如题 所述。\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n输出 T 行，每行包含一个整数，表示字符串 S 所有子串的所有拆分中， 总共有多少个是优秀的拆分。\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>4\naabbbb\ncccccc\naabaabaabaa\nbbaabaababaaba\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>3 5 4 7\n</pre>\n<h3>\n【样例说明】\n</h3>\n<p>\n我们用 S[i, j] 表示字符串 S 第 i 个字符到第 j 个字符的子串（从 1 开 始计数）。\n</p>\n<p>\n<strong>第一组数据</strong>中，共有 3 个子串存在优秀的拆分：\n</p>\n<p>\nS[1,4] = <u>aabb</u>，优秀的拆分为 A = <u>a</u>， B = <u>b</u>；\n</p>\n<p>\nS[3,6] = <u>bbbb</u>，优秀的拆分为 A = <u>b</u>， B = <u>b</u>；\n</p>\n<p>\nS[1,6] = <u>aabbbb</u>，优秀的拆分为 A = <u>a</u>， B = <u>bb</u>。\n</p>\n<p>\n而剩下的子串不存在优秀的拆分，所以第一组数据的答案是 3。\n</p>\n<p>\n<strong>第二组数据</strong>中， 有两类，总共 4 个子串存在优秀的拆分：\n</p>\n<p>\n对于子串 S[1,4] = S[2,5] = S[3,6] = <u>cccc</u>， 它们优秀的拆分相同，均为 A = <u>c</u>， B = <u>c</u>，但由于这些子串位置不同，因此要计算 3 次；\n</p>\n<p>\n对于子串 S[1,6] = <u>cccccc</u>，它优秀的拆分有 2 种： A = <u>c</u>， B = <u>cc</u> 和 A = <u>cc</u>， B = <u>c</u>，它们是相同子串的不同拆分，也都要计入答案。\n</p>\n<p>\n所以第二组数据的答案是 3 + 2 = 5。\n</p>\n<p>\n<strong>第三组数据</strong>中， S[1,8] 和 S[4,11] 各有 2 种优秀的拆分，其中 S[1,8] 是 问题描述中的例子，所以答案是 2 + 2 = 4。\n</p>\n<p>\n<strong>第四组数据</strong>中， S[1,4]， S[6,11]， S[7,12]， S[2,11]， S[1,8] 各有 1 种优秀 的拆分， S[3,14] 有 2 种优秀的拆分，所以答案是 5 + 2 = 7。\n</p>\n<h3>\n【更多样例】\n</h3>\n<p>\n<a href=\"http://pan.baidu.com/s/1c16Ns1E\" target=\"_blank\">下载</a> \n</p>\n<p>\n【样例 2 输入输出】\n</p>\n<p>\n见目录下的 excellent/excellent2.in 与 excellent/excellent2.ans。\n</p>\n<p>\n【样例 3 输入输出】\n</p>\n<p>\n见目录下的 excellent/excellent3.in 与 excellent/excellent3.ans。\n</p>\n<h3>\n【子任务】\n</h3>\n<p>\n对于全部的测试点，保证 1 ≤ T ≤ 10。 以下对数据的限制均是对于单组输入数据而言的，也就是说同一个测试点下的 T 组数据均满足限制条件。\n</p>\n<p>\n我们假定 n 为字符串 S 的长度，每个测试点的详细数据范围见下表：\n</p>\n<p>\n<img src=\"/upload/image/20160729/20160729235527_39707.png\" alt=\"\" title=\"\" align=\"\" height=\"409\" width=\"300\"/> \n</p>\n<h3>\n【来源】\n</h3>\n<p>\nNOI2016 Day1 T1\n</p>\n\n"}]}