{"title":"[NOIP2011] 表达式的值","time_limit":1000,"memory_limit":128,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=pNySSieVe","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【问题描述】\n</h3>\n<p>\n对于1 位二进制变量定义两种运算：\n</p>\n<table align=\"center\" border=\"1\">\n<tbody>\n<tr>\n<td>\n运算符\n</td>\n<td>\n运算规则\n</td>\n</tr>\n<tr>\n<td>\n⊕<br/>\n<br/>\n \n</td>\n<td>\n0⊕0=0<br/>\n0⊕1=1<br/>\n1⊕0=1<br/>\n1⊕1=1\n</td>\n</tr>\n<tr>\n<td>\n×\n</td>\n<td>\n0×0=0<br/>\n0×1=0<br/>\n1×0=0<br/>\n1×1=1\n</td>\n</tr>\n</tbody>\n</table>\n<p>\n运算的优先级是：<br/>\n1. 先计算括号内的，再计算括号外的。<br/>\n2. “×”运算优先于“⊕”运算，即计算表达式时，先计算×运算，再计算⊕运算。<br/>\n例如：计算表达式A⊕B × C 时，先计算B × C，其结果再与A 做⊕运算。<br/>\n现给定一个未完成的表达式，例如_+(_*_)，请你在横线处填入数字0 或者1，请问有多少种填法可以使得表达式的值为0。\n</p>\n<h3>\n【输入】\n</h3>\n输入文件名为exp.in，共2 行。<br/>\n第1 行为一个整数L，表示给定的表达式中除去横线外的运算符和括号的个数。<br/>\n第2 行为一个字符串包含L 个字符，其中只包含’（’、’）’、’+’、’*’这4 种字符，其中’（’、’）’是左右括号，’+’、’*’分别表示前面定义的运算符“⊕”和“×”。这行字符按顺序给出了给定表达式中除去变量外的运算符和括号。\n<h3>\n【输出】\n</h3>\n输出文件exp.out 共1 行。包含一个整数，即所有的方案数。注意：这个数可能会很大，请输出方案数对10007 取模后的结果。\n<h3>\n【输入输出样例1】\n</h3>\n<p>\nexp.in\n</p>\n<p>\n4<br/>\n+(*)\n</p>\n<p>\nexp.out\n</p>\n<p>\n3\n</p>\n<h3>\n【输入输出样例说明】\n</h3>\n给定的表达式包括横线字符之后为：_+(_*_)<br/>\n在横线位置填入(0、0、0)、(0、1、0)、(0、0、1)时，表达式的值均为0，所以共有3种填法。\n<h3>\n【数据范围】\n</h3>\n对于20%的数据有0 ≤L≤ 10。<br/>\n对于50%的数据有0 ≤L≤ 1,000。<br/>\n对于70%的数据有0 ≤L≤ 10,000。<br/>\n对于100%的数据有0 ≤L≤ 100,000。<br/>\n对于50%的数据输入表达式中不含括号。\n<p>\n<br/>\n</p>\n\n"}]}