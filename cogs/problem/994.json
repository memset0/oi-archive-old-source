{"title":"[NOIP2010冲刺三] 鬼屋惊魂","time_limit":3000,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=pXiXxxPPq","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<p>\n【题目描述】\n</p>\n<p>\n<br/>\n</p>\n<p>\n要求你写一个程序，在一个地图中，找到最小步数将每个鬼移动到他们指定的位置。地图包含一些小方格。每格要么是墙（鬼不能进入），要么是走廊（鬼能进入）。\n</p>\n<p>\n每一步里，你可以同时移动任意数量的鬼。每个鬼要么待在原地不动，要么移动到相邻的格子里（相邻的格子有公共边），如果移动满足下列条件，则移动是可行的。\n</p>\n<p>\n1. 没有一个以上的鬼在同一个格子里。\n</p>\n<p>\n2. 没有一对鬼在一步里交换了位置。\n</p>\n<p>\n例如，假设鬼的位置是如右上图所示的，其中 sharp(#) 表示墙，空格表示走廊， a ， b ， c 表示鬼：\n</p>\n<p>\n####\n</p>\n<p>\n ab#\n</p>\n<p>\n#c##\n</p>\n<p>\n####\n</p>\n<p>\n经过一步移动过后，地图可以变成如下的样子：\n</p>\n<p>\n#### #### #### ####\n</p>\n<p>\n  ab# a b# acb# ab  #\n</p>\n<p>\n#c## #c## # ## #c##\n</p>\n<p>\n#### #### #### ####\n</p>\n<p>\n<br/>\n</p>\n<p>\n【输入格式】\n</p>\n<p>\n<br/>\n</p>\n<p>\n输入包括最多 10 组数据，每组数据包含一幅地图。输入格式如下：\n</p>\n<p>\n第一行的 w ， h 和 n 表示地图的宽度和高度， n 表示鬼的数目，他们满足：\n</p>\n<p>\n4 ≤ w ≤ 16, 4 ≤ h ≤ 16, 1 ≤ n ≤ 3\n</p>\n<p>\n接下来 h 行，每行 w 个字符：\n</p>\n<p>\n一个 # 表示墙。\n</p>\n<p>\n一个小写字母表示鬼的初始位置（该位置也是走廊）。\n</p>\n<p>\n一个大写字母表示鬼的目标位置（该位置也是走廊）。\n</p>\n<p>\n一个空格表示空的走廊。\n</p>\n<p>\n在每幅地图里，前 n 个小写字母和前 n 个大写字母表示鬼的初始位置及鬼的目标位置。我们需要将小写字母表示的鬼移动到对应的大写字母的位置里。\n</p>\n<p>\n最后一组数据后一行有三个 0 。\n</p>\n<p>\n<br/>\n</p>\n<p>\n【输出格式】\n</p>\n<p>\n对每组数据输出一行一个整数，表示最小的移动步数。\n</p>\n<p>\n【输入样例】\n</p>\n<p>\n<br/>\n</p>\n<p>\n5 5 2\n</p>\n<p>\n#####\n</p>\n<p>\n#A#B#\n</p>\n<p>"},{"title":"#   #","format":"html","require":["katex"],"content":"</p>\n<p>\n#b#a#\n</p>\n<p>\n#####\n</p>\n<p>\n16 4 3\n</p>\n<p>\n################\n</p>\n<p>\n## ########## ##\n</p>\n<p>"},{"title":"#    ABCcba    #","format":"html","require":["katex"],"content":"</p>\n<p>\n################\n</p>\n<p>\n16 16 3\n</p>\n<p>\n################\n</p>\n<p>\n### ##    #   ##\n</p>\n<p>\n##  #  ##   # c#\n</p>\n<p>"},{"title":"#  ## ########b#","format":"html","require":["katex"],"content":"</p>\n<p>"},{"title":"# ##  # #   #  #","format":"html","require":["katex"],"content":"</p>\n<p>"},{"title":"#  # ##   # # ##","format":"html","require":["katex"],"content":"</p>\n<p>\n##  a#  # # #  #\n</p>\n<p>\n### ## #### ## #\n</p>\n<p>\n##   #   #  #  #\n</p>\n<p>"},{"title":"#  ##### # ## ##","format":"html","require":["katex"],"content":"</p>\n<p>\n####   #B# #   #\n</p>\n<p>\n##  C#   #   ###\n</p>\n<p>"},{"title":"#  # # ####### #","format":"html","require":["katex"],"content":"</p>\n<p>"},{"title":"# ######  A##  #","format":"html","require":["katex"],"content":"</p>\n<p>"},{"title":"#        #    ##","format":"html","require":["katex"],"content":"</p>\n<p>\n################\n</p>\n<p>\n<br/>\n</p>\n<p>\n【输出样例】\n</p>\n<p>\n<br/>\n</p>\n<p>\n7\n</p>\n<p>\n36\n</p>\n<p>\n77\n</p>\n<p>\n<br/>\n</p>\n<p>\n<br/>\n</p>\n\n"}]}