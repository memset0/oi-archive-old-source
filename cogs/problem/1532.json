{"title":"[IOI 2001] 移动电话","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vzQxNkgjV","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n假设Tampere地区的4G移动通信基站以如下方式运行。整个地区被划分成若干正方形格子。这些格子构成一个S*S的矩阵，它们的行，列编号都是从0到S-1.每一个格子中都有一个基站。每个格子中激活的手机数量可能改变，因为一部手机可能从一个格子移动到另一个格子，打开或者关闭。有时，某一座基站会向总站报告自己的行列坐标，以及该格中激活手机数目的变化。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n输入指令编码如下。\n</p>\n<p>\n每个指令占一行，包含一个指令码和一些参数，见下表。\n</p>\n<p>\n</p><table style=\"width:100%;\" border=\"1\" bordercolor=\"#000000\" cellpadding=\"2\" cellspacing=\"0\">\n<tbody>\n<tr>\n<td>\n指令码\n</td>\n<td>\n参数\n</td>\n<td>\n意义\n</td>\n</tr>\n<tr>\n<td>\n0\n</td>\n<td>\nS\n</td>\n<td>\n初始化一个S*S的全零矩阵。这个指令只会出现一次，即第一条指令。\n</td>\n</tr>\n<tr>\n<td>\n1\n</td>\n<td>\nX Y A\n</td>\n<td>\n将格子(X,Y)中激活的手机数量增加A。A有可能是正数或负数。\n</td>\n</tr>\n<tr>\n<td>\n2\n</td>\n<td>\nL B R T\n</td>\n<td>\n询问当前所有坐标(X,Y)满足：L&lt;=X&lt;=R,B&lt;=Y&lt;=T的格子中激活的手机数量之和。\n</td>\n</tr>\n<tr>\n<td>\n3\n</td>\n<td>\n<br/>\n</td>\n<td>\n结束程序。这个指令只会出现一次，即最后一条指令。\n</td>\n</tr>\n</tbody>\n</table>\n<p></p>\n<p>\n<br/>\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n你的程序不应该对指令2外的所有指令进行回答。对于每个指令2，你的程序需要输出一行一个正整数，即该指令的答案。\n</p>\n<h3>\n【样例输入】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n0 4\n</p>\n<p>\n1 1 2 3\n</p>\n<p>\n2 0 0 2 2\n</p>\n<p>\n1 1 1 2\n</p>\n<p>\n1 1 2 -1\n</p>\n<p>\n2 1 1 2 3\n</p>\n<p>\n3\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【样例\n</h3>\n<p>\n<br/>\n</p>\n<p>\n3\n</p>\n<p>\n4\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【提示】\n</h3>\n<p>\n矩阵大小：1&lt;=S&lt;=1024\n</p>\n<p>\n任意时刻，每个格子中的激活手机数量V：0&lt;=V&lt;=32767\n</p>\n<p>\n格子中激活手机数量的变化值：-32768&lt;=A&lt;=32767\n</p>\n<p>\n输入的指令数目：3&lt;=U&lt;=60002\n</p>\n<p>\n整个矩阵中的最大手机数量：M=2^30\n</p>\n<h3>\n【来源】\n</h3>\n<p>\nIOI 2001\n</p>\n\n"}]}