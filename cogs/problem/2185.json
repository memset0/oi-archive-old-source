{"title":"修剪花卉","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vSQSmVkUg","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<br/>\n</p>\n<p>\nZZ对数学饱有兴趣，并且是个勤奋好学的学生，总是在课后留在教室向老师请教一些问题。一天他早晨骑车去上课，路上见到一个老伯正在修剪花花草草，顿时想到了一个有关修剪卉的问题。于是当日课后，ZZ就向老师提出了这个问题：\n</p>\n<p>\n一株奇怪的花卉，上面共连有N 朵花，共有N-1条枝干将花儿连在一起，并且未修剪时每朵花都不是孤立的。每朵花都有一个“美丽指数”，该数越大说明这朵花越漂亮，也有“美丽指数”为负数的，说明这朵花看着都让人恶心。所谓“修剪”，意为：去掉其中的一条枝条，这样一株花就成了两株，扔掉其中一株。经过一系列“修剪“之后，还剩下最后一株花（也可能是一朵）。\n</p>\n<p>\n老师的任务就是：通过一系列“修剪”（也可以什么“修剪”都不进行，也可以什么都不剩），使剩下的那株（那朵）花卉上所有花朵的“美丽指数”之和最大。老师想了一会儿，给出了正解（ZZ的老师是很牛的~）。ZZ见问题被轻易攻破，相当不爽，于是又拿来问你。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n第一行一个整数N(1 ≤ N ≤ 16000)。表示原始的那株花卉上共N 朵花。\n</p>\n<p>\n第二行有N 个整数，第I个整数表示第I朵花的美丽指数。\n</p>\n<p>\n接下来N-1行每行两个整数a,b，表示存在一条连接第a 朵花和第b朵花的枝条。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n一个数，表示一系列“修剪”之后所能得到的“美丽指数”之和的最大值。保证绝对值不超过2147483647。\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>7\n-1 -1 -1 1 1 1 0\n1 4\n2 5\n3 6\n4 7\n5 7\n6 7</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>3</pre>\n<h3>\n【提示】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n对于 60%的数据， 保证N≤1000\n</p>\n<p>\n对于100%的数据，保证N≤16000\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【来源】\n</h3>\n<p>\n在此键入。\n</p>\n\n"}]}