{"title":"[HZOI 2015]榴莲","time_limit":1000,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vxQzJVVPg","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n众所周知，榴莲长在树上，同时榴莲很臭\n</p>\n<p>\n现在给定你一棵榴莲树，树根为1\n</p>\n<p>\n要求你维护以下操作：\n</p>\n<p>\n1、 1 u v w 树上长出一个榴莲，臭味度为w，臭味弥漫了树上u到v的简单路径上所有点\n</p>\n<p>\n2、 2 u w 树上长出一个榴莲，臭味度为w，臭味弥漫了树上u的子树的所有点\n</p>\n<p>\n3、 3 k  树上k时刻长出的榴莲从树上掉了下来，它所造成的臭味效果消失\n</p>\n<p>\n4、 4 u k 询问所有弥漫到u节点的榴莲臭味值的第k大\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行输入n，m表示节点总数和操作次数\n</p>\n<p>\n以下n-1行u，v描述两个端点\n</p>\n<p>\n以下m行，第i行表示第i个时刻的操作如题意所示\n</p>\n<p>\nn,m&lt;=100000\n</p>\n<p>\n数据保证第三个操作掉下来的是存在的且尚未掉下来的榴莲\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n对于每个询问\n</p>\n<p>\n若弥漫到u节点的榴莲不足k个，则输出-1\n</p>\n<p>\n否则输出对应的答案\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>10 10\n2 1\n3 1\n4 3\n5 4\n6 1\n7 3\n8 3\n9 7\n10 2\n4 1 1\n1 3 1 13881\n3 2\n2 10 12573\n2 7 2522\n1 10 7 7976\n1 7 7 15696\n4 2 1\n1 3 4 14384\n1 10 9 7398\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>-1\n7976\n</pre>\n\n"}]}