{"title":"动态树","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vxmyyVWak","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n开始时有n个点形成的森林，共m个操作。\n</p>\n<p>\ntp=1时，接下来一个参数u，表示将u所在的树树根变为u。\n</p>\n<p>\ntp=2时，接下来一个参数u，询问以u为根的子树的大小。\n</p>\n<p>\ntp=3时，接下来两个参数u,v，添加一条边(u,v)，并将u所在树的根作为两棵树合并后的根。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行两个整数n,m。\n</p>\n<p>\n接下来m行，每行开头是一个整数tp。tp=1或tp=2时，接下来一个整数u。tp=3时，接下来两个整数(u,v)。\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n对于每个询问，你需要输出以u为根的子树大小。\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>5 10\n3 2 3\n3 4 5\n3 2 4\n2 1\n2 5\n3 1 2\n2 4\n1 3\n2 1\n2 4\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>1\n1\n2\n1\n2\n</pre>\n<h3>\n【数据范围】\n</h3>\n<p>\nn&lt;=200000,m&lt;=400000\n</p>\n<h3>\n【来源】\n</h3>\n<p>\nMike的脑洞\n</p>\n\n"}]}