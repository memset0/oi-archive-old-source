{"title":"[HZOI 2016] 数列操作d","time_limit":3000,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vyXzJVejV","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n一个长度为$n$的序列，一开始序列数的权值都是$0$，有$m$次操作\n</p>\n<p>\n支持两种操作：\n</p>\n<p>\n1 L R x，给区间[L,R]内位置为pos的数加上(pos-L)*x\n</p>\n<p>\n0 L R，查询区间[L,R]内的权值和\n</p>\n<p>\n最终答案对$10^9+7$取模。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行两个数n，m，表示序列长度和操作次数\n</p>\n<p>\n接下来m行，每行描述一个操作，有如下两种情况：\n</p>\n<p>\n1 L R x，给区间[L,R]内位置为pos的数加上$(pos-L)\\times x$\n</p>\n<p>\n0 L R，查询区间[L,R]内的权值和\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n每一个0操作输出一个整数模$10^9+7$\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>5 5\n0 2 3\n1 4 5 1\n1 1 5 5\n0 1 4\n0 2 3\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>0\n30\n15 </pre>\n<h3>\n【提示】\n</h3>\n<p>\n对于30%的数据 $n, m&lt;=2000$\n</p>\n<p>\n对于100%的数据，$n, m&lt;=300000$\n</p>\n<p>\n保证读入的都是非负整数，所有的$x&lt;=10000$\n</p>\n<h3>\n【来源】\n</h3>\n<p>\n感谢神犇<br/>\n非常感谢神犇\n</p>\n<p>\n非常非常感谢神犇\n</p>\n\n"}]}