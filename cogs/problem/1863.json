{"title":"[国家集训队2011] 聪聪可可","time_limit":1000,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vJyQxkUej","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<p>\n<!--begin main-->\n<!-- InstanceBeginEditable name=\"content\" -->\n</p>\n<h3>\n【问题描述】\n</h3>\n<div class=\"pdcont\">\n    聪聪和可可是兄弟俩，他们俩经常为了一些琐事打起来，例如家中只剩下最后一根冰棍而两人都想吃、两个人都想玩儿电脑（可是他们家只有一台电脑）……遇到这种问题，一般情况下石头剪刀布就好了，可是他们已经玩儿腻了这种低智商的游戏。他们的爸爸快被他们的争吵烦死了，所以他发明了一个新游戏：<br/>\n    由爸爸在纸上画n个“点”，并用n-1条“边”把这n个“点”恰好连通（其实这就是一棵树）。并且每条“边”上都有一个数。接下来由聪聪和可可分别随即选一个点（当然他们选点时是看不到这棵树的），如果两个点之间所有边上数的和加起来恰好是3的倍数，则判聪聪赢，否则可可赢。<br/>\n    聪聪非常爱思考问题，在每次游戏后都会仔细研究这棵树，希望知道对于这张图自己的获胜概率是多少。现请你帮忙求出这个值以验证聪聪的答案是否正确。\n</div>\n<h3>\n【输入格式】\n</h3>\n<div class=\"pdcont\">\n    输入的第1行包含1个正整数n。<br/>\n    后面n-1行，每行3个整数x、y、w，表示x号点和y号点之间有一条边，上面的数是w。\n</div>\n<h3>\n【输出格式】\n</h3>\n<div class=\"pdcont\">\n    以即约分数形式输出这个概率（即“a/b”的形式，其中a和b必须互质。如果概率为1，输出“1/1”）。\n</div>\n<h3>\n【样例输入】\n</h3>\n<pre>5\n1 2 1\n1 3 2\n1 4 1\n2 5 3\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>13/25\n</pre>\n<h3>\n【样例说明】\n</h3>\n<p>\n13组点对分别是(1,1) (2,2) (2,3) (2,5) (3,2) (3,3) (3,4) (3,5) (4,3) (4,4) (5,2) (5,3) (5,5)。\n</p>\n<h3>\n数据规模和约定\n</h3>\n<p>\n对于30%的数据，n&lt;=1000\n</p>\n<p>\n另有20%的数据，给出的树中每个节点的度不超过2；\n</p>\n<p>\n对于100%的数据，n&lt;=20000\n</p>\n<h3>\n【试题来源】\n</h3>\n<p>\n2011中国国家集训队命题答辩\n</p>\n\n"}]}