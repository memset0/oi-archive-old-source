{"title":" 山海经","time_limit":1000,"memory_limit":128,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=pXNQxxWWg","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<p>\n【问题描述】\n</p>\n<p>\n“南山之首日鹊山。其首日招摇之山，临于西海之上，多桂，多金玉。有草焉，其状如韭而青华，其名日祝余，食之不饥……又东三百里，日堂庭之山，多棪木，多白猿，多水玉，多黄金。\n</p>\n<p>\n又东三百八十里，日猨翼之山，其中多怪兽，水多怪鱼，多白玉，多蝮虫，多怪蛇，名怪木，不可以上。……”\n</p>\n<p>\n《山海经》是以山为纲，以海为线记载古代的河流、植物、动物及矿产等情况，而且每一条记录路线都不会有重复的山出现。某天，你的地理老师想重游《山海经》中的路线，为了简化问题，老师已经把每座山用一个整数表示他对该山的喜恶程度，他想知道第a座山到第b座山的中间某段路(i,j)。能使他感到最满意，即(i,j)这条路上所有山的喜恶度之和是（c,d）(a≤c≤d≤b)最大值。于是老师便向你请教，你能帮助他吗?值得注意的是，在《山海经》中，第i座山只能到达第i+1座山。\n</p>\n<p>\n<br/>\n</p>\n<p>\n【输入】\n</p>\n<p>\n输入第1行是两个数，n，m，2≤n≤100000，1≤m≤100000，n表示一共有n座山，m表示老师想查询的数目。\n</p>\n<p>\n第2行是n个整数，代表n座山的喜恶度，绝对值均小于10000。\n</p>\n<p>\n以下m行每行有a，b两个数，1≤a≤j≤b≤m，表示第a座山到第b座山。\n</p>\n<p>\n<br/>\n</p>\n<p>\n【输出】\n</p>\n<p>\n一共有m行，每行有3个数i，j，s，表示从第i座山到第j座山总的喜恶度为s。显然，对于每个查询，有a≤i≤j≤b，如果有多组解，则输出i最小的，如果i也相等，则输出j最小的解。\n</p>\n<p>\n<br/>\n</p>\n<p>\n【输入样例】\n</p>\n<p>\n5 3\n</p>\n<p>\n5 -6 3 -1 4\n</p>\n<p>\n1 3\n</p>\n<p>\n1 5\n</p>\n<p>\n5 5\n</p>\n<p>\n【输出样例】\n</p>\n<p>\n1 1 5\n</p>\n<p>\n3 5 6\n</p>\n<p>\n5 5 4\n</p>\n\n"}]}