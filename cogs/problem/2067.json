{"title":"[BZOJ 3674] 可持久化并查集加强版","time_limit":3000,"memory_limit":2048,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vyzQzVaeW","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<p>\n<br/>\n</p>\n<p>\nDescriptionDescription：\n</p>\n<p>\n自从zkysb出了可持久化并查集后……\n</p>\n<p>\nhzwer:乱写能AC，暴力踩标程\n</p>\n<p>\nKuribohG：我不路径压缩就过了！\n</p>\n<p>\nndsf：暴力就可以轻松虐！\n</p>\n<p>\nzky:……\n</p>\n<p>\nn个集合 m个操作\n</p>\n<p>\n操作：\n</p>\n<p>\n1 a b 合并a,b所在集合\n</p>\n<p>\n2 k 回到第k次操作之后的状态(查询算作操作)\n</p>\n<p>\n3 a b 询问a,b是否属于同一集合，是则输出1否则输出0\n</p>\n<p>\n请注意本题采用强制在线,所给的a,b,k均经过加密,加密方法为x = x xor lastans,lastans的初始值为0\n</p>\n<p>\n0&lt;n,m&lt;=2*10^5\n</p>\n<p>\nInputOutputSample Input\n</p>\n<p>\n5 6\n</p>\n<p>\n1 1 2\n</p>\n<p>\n3 1 2\n</p>\n<p>\n2 1\n</p>\n<p>\n3 0 3\n</p>\n<p>\n2 1\n</p>\n<p>\n3 1 2\n</p>\n<p>\nSample Output\n</p>\n<p>\n1\n</p>\n<p>\n0\n</p>\n<p>\n1\n</p>\n<p>\nby zky\n</p>\n\n"}]}