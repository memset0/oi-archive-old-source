{"title":"[HAOI 2018] 奇怪的背包","time_limit":2000,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vyxNSVPjg","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n题目描述\n</h3>\n<p>\n小 C 非常擅长背包问题，他有一个奇怪的背包，这个背包有一个参数 $P$，当他向这个背包内放入若干个物品后，背包的重量是物品总体积对 $P$ 取模后的结果。\n</p>\n<p>\n现在小 C 有 $n$ 种体积不同的物品，第 $i$ 种占用体积为 $V_i$，每种物品都有无限个。他会进行 $q$ 次询问，每次询问给出重量 $w_i$，你需要回答有多少种放入物品的方案，能将一个初始为空的背包的重量变为 $w_i$。注意，两种方案被认为是不同的，当且仅当<u>放入物品的种类不同</u>，而与每种物品放入的个数无关。不难发现总的方案数为 $2^n$。\n</p>\n<p>\n由于答案可能很大，你只需要输出答案对 $10^9+7$ 取模的结果。\n</p>\n<h3>\n输入格式\n</h3>\n<p>\n从文件 $knapsack.in$ 中读入数据。\n</p>\n<p>\n第一行三个整数 $n,q,P$。\n</p>\n<p>\n接下来一行 $n$ 个整数表示 $V_i$。\n</p>\n<p>\n接下来一行 $q$ 个整数表示 $w_i$。\n</p>\n<h3>\n输出格式\n</h3>\n<p>\n输出到文件 $knapsack.out$ 中。\n</p>\n<p>\n输出 $q$ 行，每行一个整数表示答案。\n</p>\n<h3>\n样例输入\n</h3>\n<pre>3 3 6\n1 3 4\n5 2 3\n</pre>\n<h3>\n样例输出\n</h3>\n<pre>5 \n6\n6\n</pre>\n<h3>\n样例解释\n</h3>\n<p>\n对于第一个询问 $5$，选择 $\\{1\\},\\{1,3\\},\\{1,4\\},\\{3,4\\},\\{1,3,4\\}$ 都是合法的方案。\n</p>\n<h3>\n数据范围与约定\n</h3>\n<p>\n对于所有数据，有 $1\\le n, q\\le 10^6, 3\\le P\\le 10^9, 0\\lt V_i,w_i\\lt P$。\n</p>\n<p>\n保证 $V_i$ 两两不同。\n</p>\n<p>\n<img src=\"/upload/image/20180424/20180424125115_10133.jpg\" alt=\"\"/> \n</p>\n<p>\n<img src=\"/upload/image/20180424/20180424125258_36773.jpg\" alt=\"\"/> \n</p>\n<p>\n<img src=\"/upload/image/20180424/20180424125309_54578.jpg\" alt=\"\"/> \n</p>\n<p>\n<img src=\"/upload/image/20180424/20180424125318_70130.jpg\" alt=\"\"/> \n</p>\n\n"}]}