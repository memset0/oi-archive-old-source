{"title":"[UVa 1069] 总是整数","time_limit":1000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vXmxxkqUq","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<img src=\"/upload/image/20140113/20140113131905_51805.png\" alt=\"\"/> \n</p>\n<p>\n组合数学主要研究计数问题。比如，\n</p>\n<p>\n-从n个人中选2个人的方法有多少种方法？\n</p>\n<p>\n-圆周上有n个点，两两相连之后最后能把圆面分成多少部分？\n</p>\n<p>\n-有一个金字塔，从塔顶开始每一层分别有，1×1,2×2，...n×n个小正方体，问一共有多少个小立体？\n</p>\n<p>\n很多问题的答案都可以被写成多项式的形式。对应上面的问题，答案是：\n</p>\n<p>\n<strong>-  n(n-1)/2</strong> \n</p>\n<p>\n-  <strong>(n^4 - 6n^3 + 23n^2 - 18^n + 24)/24</strong> \n</p>\n<p>\n-  <strong>n(n + 1)(2n + 1)/6</strong><strong>, or </strong><strong>(2n^3 + 3n^2 + n)/6</strong> \n</p>\n<p>\n由于上述3个多项式都是计数问题的答案，因此当n取任意正整数时，这些多项式的值都是整数。当然，对于其他多项式，这个性质并不一定成立。\n</p>\n<p>\n给一个形式如<strong>P/D</strong>(其中P是整系数多项式，D是正整数)的多项式，判断它是否在所有正整数处取的整数值。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n输入包含多组数据。每组数据仅一行，即一个多项式<strong>(P)/D</strong>,其中P是若干个形如<strong>Cn^E</strong>的项之和，其中系数C和E满足以下条件：\n</p>\n<p>\n(1)E是一个满足0≤E≤100的整数。如果E=0，则<strong>Cn^E</strong>写成C；如果E=1，<strong>Cn^E</strong>写成<strong>Cn</strong>，除非<strong>C</strong>=1或者-1(c=1时写成n=-1是写成-n).\n</p>\n<p>\n(2)C是一个整数。如果C为1或-1且E不是0或1，则<strong>Cn^E</strong>写成<strong>n^E</strong>或<strong>-n^E</strong>.\n</p>\n<p>\n(3)只有不在第一项的非负C的前面才会有一个加号。\n</p>\n<p>\n(4)E的数值严格递减。\n</p>\n<p>\n(5)C和D都在32位带符号整数范围内。\n</p>\n<p>\n输入结束标志为单个句号(.)。\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n对于每组数据，如果满足条件，输入&#34;Always an integer&#34;,否则输出&#34;Not always an integer&#34;\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre>(n^2-n)/2\n(2n^3+3n^2+n)/6\n(-n^14-11n+1)/3\n.\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre>Case 1: Always an integer\nCase 2: Always an integer\nCase 3: Not always an integer\n</pre>\n<h3>\n【提示】\n</h3>\n<p>\nDifference Series\n</p>\n<h3>\n【来源】\n</h3>\n<p>\nUVa 1069 Always an Integer,World Finals 2008,LA 4119\n</p>\n<p>\n刘汝佳，《算法竞赛入门经典训练指南》表2.4\n</p>\n\n"}]}