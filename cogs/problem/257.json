{"title":"动态排名系统","time_limit":5000,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=pxQyzzVgW","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【问题描述】\n</h3>\n给定一个长度为N的已知序列A[i](1&lt;=i&lt;=N)，要求维护这个序列，能够支持以下两种操作：<br/>\n1、查询A[i],A[i+1],A[i+2],...,A[j](1&lt;=i&lt;=j&lt;=N)中，升序排列后排名第k的数。<br/>\n2、修改A[i]的值为j。<br/>\n<br/>\n所谓排名第k，指一些数按照升序排列后，第k位的数。例如序列{6,1,9,6,6}，排名第3的数是6，排名第5的数是9。<br/>\n<h3>\n【输入格式】\n</h3>\n第一行包含一个整数D(0&lt;=D&lt;=4)，表示测试数据的数目。接下来有D组测试数据，每组测试数据中，首先是两个整数N(1&lt;=N&lt;=50000),M(1&lt;=M&lt;=10000)，表示序列的长度为N，有M个操作。接下来的N个不大于1,000,000,000正整数，第i个表示序列A[i]的初始值。然后的M行，每行为一个操作<br/>\nQ i j k 或者<br/>\nC i j<br/>\n分别表示查询A[i],A[i+1],A[i+2],...,A[j](1&lt;=i&lt;=j&lt;=N)中，升序排列后排名第k的数，和修改A[i]的值为j。<br/>\n<br/>\n<h3>\n【输出格式】\n</h3>\n对于每个查询，输出一行整数，为查询的结果。测试数据之间不应有空行。<br/>\n<br/>\n<h3>\n【样例输入】\n</h3>\n2<br/>\n5 3<br/>\n3 2 1 4 7<br/>\nQ 1 4 3<br/>\nC 2 6<br/>\nQ 2 5 3<br/>\n5 3<br/>\n3 2 1 4 7<br/>\nQ 1 4 3<br/>\nC 2 6<br/>\nQ 2 5 3<br/>\n<br/>\n<h3>\n【样例输出】\n</h3>\n3<br/>\n6<br/>\n3<br/>\n6\n<p>\n<br/>\n</p>\n\n"}]}