{"title":"[HAOI 2010] 软件安装","time_limit":1000,"memory_limit":128,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=piXmSNqqq","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【问题描述】\n</h3>\n<p>\n现在我们的手头有 $N$ 个软件，对于一个软件i，它要占用 $W_i$ 的磁盘空间，它的价值为 $V_i$。我们希望从中选择一 些软件安装到一台磁盘容量为 $M$ 计算机上，使得这些软件的价值尽可能大(即 $V_i$ 的和最大)。\n</p>\n<p>\n但是现在有个问题：软件之间存在依赖关系，即软件i只有在安装了软件j(包括软件j的直接或间接依赖)的情况下才能正确工作(软件i依赖软件j)。幸运的是，一个软件最多依赖另外一个软件。如果一个软件不能正常工作，那么它能够发挥的作用为0。\n</p>\n<p>\n我们现在知道了软件之间的依赖关系：软件 $i$ 依赖软件 $D_i$。现在请你设计出一种方案，安装价值尽量大的软件。一个软件只能被安装一次，如果一个软件没有依赖则 $D_i=0$，这时只要这个软件安装了，它就能正常工作。\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第 $1$ 行：N，M   (0&lt;=N&lt;=100．0&lt;=M&lt;=500)<br/>\n第 $2$ 行：W1，W2，…，Wi，…，Wn(0&lt;=Wi&lt;=M)<br/>\n第 $3$ 行：V1，V2，…，Vi，…，Vn(0&lt;=Vi&lt;=1000)<br/>\n第 $4$ 行：D1，D2，…，Di，…，Dn(0&lt;=Di&lt;=N，Di≠i)\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n一个整数，代表最大价值。\n</p>\n<h3>\n【输入样例】\n</h3>\n<pre>3 10\n5 5 6\n2 3 4\n0 1 1\n</pre>\n<h3>\n【输出样例】\n</h3>\n<pre>5\n</pre>\n\n"}]}