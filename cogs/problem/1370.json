{"title":"[thusc2015]平方运算","time_limit":3000,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vzXNSkjWa","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<title>\nProblem 4105. -- [Thu Summer Camp 2015]平方运算\n</title>\n<h2>\nDescription\n</h2>\n<div class=\"content\">\n<p>\n现有一个长度为N的序列{X1,X2,...,XN}，要求支持两种操作：\n</p>\n<div>\n</div>\n<div>\n1. 0 l r  表示将[l, r]范围内的$X_i$变为${X_i}^2 \\mod p $.<br/>\n</div>\n<div>\n2. 1 l r  询问$\\sum_{i = l}^r X_i$.<br/>\n</div>\n<div>\n</div>\n</div>\n<h2>\nInput\n</h2>\n<div class=\"content\">\n<p>\n第一行有三个整数N，M，p，分别代表序列的长度、平方操作与询问操作的总次数以及在平方操作中所要模的数。\n</p>\n<div>\n</div>\n<div>\n接下来一行N个数代表一开始的序列{X1,X2,...,XN}。\n</div>\n<div>\n</div>\n<div>\n接下来M行，每行三个整数op,l,r。其中op代表本次操作的类型。若op=0，代表这是一次平方操作，平方的区间为[l,r]；如果op=1，代表这是一次询问操作，询问的区间为[l,r]。\n</div>\n<div>\n</div>\n</div>\n<h2>\nOutput\n</h2>\n<div class=\"content\">\n<p>\n对于每次的询问操作，输出一行代表这段区间内数的总和。注意：答案没有对任何数取模。\n</p>\n<div>\n</div>\n</div>\n<h2>\nSample Input\n</h2>\n<div class=\"content\">\n<span class=\"sampledata\">3 3 11<br/>\n1 2 3<br/>\n1 1 3<br/>\n0 1 3<br/>\n1 1 3</span> \n</div>\n<h2>\nSample Output\n</h2>\n<div class=\"content\">\n<span class=\"sampledata\">6<br/>\n14</span> \n</div>\n<h2>\nHINT\n</h2>\n<div class=\"content\">\n<p>\n<br/>\n</p>\n<p>\n 对于100%的数据，∀i,Xi∈[0,p),l,r∈[1,n]\n</p>\n<br/>\n<div>\nN，M，p的范围如下：\n</div>\n<br/>\n<div>\n</div>\n<br/>\n<div>\n编号<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> N<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> M<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> p\n</div>\n<br/>\n<div>\n1<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 1000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 1000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 233\n</div>\n<br/>\n<div>\n2<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 1000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 1000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 2332\n</div>\n<br/>\n<div>\n3<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 100000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 100000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 5\n</div>\n<br/>\n<div>\n4<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 100000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 100000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 8192\n</div>\n<br/>\n<div>\n5<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 100000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 100000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 23\n</div>\n<br/>\n<div>\n6<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 100000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 100000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 45\n</div>\n<br/>\n<div>\n7<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 100000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 100000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 37\n</div>\n<br/>\n<div>\n8<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 55000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 55000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 4185\n</div>\n<br/>\n<div>\n9<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 55000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 55000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 5850\n</div>\n<br/>\n<div>\n10<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 55000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 55000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 2975\n</div>\n<br/>\n<div>\n11<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 55000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 55000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 2542\n</div>\n<br/>\n<div>\n12<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 55000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 55000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 2015\n</div>\n<br/>\n<div>\n13<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 60000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 60000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 2003\n</div>\n<br/>\n<div>\n14<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 65000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 65000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 2010\n</div>\n<br/>\n<div>\n15<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 70000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 70000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 4593\n</div>\n<br/>\n<div>\n16<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 75000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 75000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 4562\n</div>\n<br/>\n<div>\n17<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 80000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 80000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 1034\n</div>\n<br/>\n<div>\n18<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 85000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 85000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 5831\n</div>\n<br/>\n<div>\n19<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 90000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 90000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 9905\n</div>\n<br/>\n<div>\n20<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 100000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 100000<span class=\"Apple-tab-span\" style=\"white-space:pre;\"> </span> 9977\n</div>\n<p>\n<br/>\n</p>\n</div>\n\n"}]}