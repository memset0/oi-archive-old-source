{"title":"[NOIP2008] 双栈排序","time_limit":1000,"memory_limit":128,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=pNxyiyVVk","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<p>\n\t【问题描述】\n</p>\n<p>\n\tTom最近在研究一个有趣的排序问题。如图所示，通过2个栈S1和s2，Tom希望借助以下4种操作实现将输入序列升序排序。\n</p>\n<p>\n\t<span><img height=\"121\" border=\"0\" width=\"164\" src=\"../../mw/images/f/f9/Noip08st1.jpg\" alt=\"Image:Noip08st1.jpg\"/></span>\n</p>\n<ul>\n\t<li>\n\t\t操作a\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t如果输入序列不为空，将第一个元素压入栈Sl\n\t\t\t</li>\n\t\t</ul>\n\t</li>\n\t<li>\n\t\t操作b\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t如果栈S1不为空，将Sl栈顶元素弹出至输出序列\n\t\t\t</li>\n\t\t</ul>\n\t</li>\n\t<li>\n\t\t操作c\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t如果输入序列不为空，将第一个元素压入栈s2\n\t\t\t</li>\n\t\t</ul>\n\t</li>\n\t<li>\n\t\t操作d\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t如果栈S2不为空，将S2栈顶元素弹出至输出序列\n\t\t\t</li>\n\t\t</ul>\n\t</li>\n</ul>\n<p>\n\t如果一个l～n的排列P可以通过一系列操作使得输出序列为l,2,…,(n-1)，n，Tom就称P是一个“可双栈排序排列”。例如 (1，3，2，4)就是一个“可双栈排序排列”，而(2，3，4，1)不是。下图描述了一个将(1，3，2，4)排序的操作序 列：<a,c,c,b,a,d,d,b></a,c,c,b,a,d,d,b>\n</p>\n<p>\n\t<span><img height=\"532\" border=\"0\" width=\"500\" src=\"../../mw/images/7/7d/Noip08st2.jpg\" alt=\"Image:Noip08st2.jpg\"/></span>\n</p>\n<p>\n\t当然,这样的操作序列有可能有多个，对于上例(1，3，2，4)，<a，b，a，a，b，b，a，b>是另外一个可行的操作序列。Tom希望知道其中字典序最小的操作序列是什么。</a，b，a，a，b，b，a，b>\n</p>\n<p>\n\t【输入】\n</p>\n<p>\n\t输入文件twostack.in的第一行是一个整数n。\n</p>\n<p>\n\t第二行有n个刚空格隔开的正整数，构成一个1～n的排列。\n</p>\n<p>\n\t【输出】\n</p>\n<p>\n\t输出文件twostack.out共一行，如果输入的排列不是“可双栈排序排列”，输出数字0；\n</p>\n<p>\n\t否则输出字典序最小的操作序列，每两个操作之间用空格隔开，行尾没有空格。\n</p>\n<p>\n\t【输入输出样例1】\n</p>\n<p>\n\ttwostack.in\n</p>\n<pre>4\n1 3 2 4\n</pre>\n<p>\n\ttowstack.out\n</p>\n<pre>a b a a b b a b\n</pre>\n<p>\n\t【输入输出样例2】\n</p>\n<p>\n\ttwostack.in\n</p>\n<pre>4\n2 3 4 1\n</pre>\n<p>\n\ttowstack.out\n</p>\n<pre>0\n</pre>\n<p>\n\t<br/>\n【输入输出样例3】\n</p>\n<p>\n\ttwostack.in\n</p>\n<pre>3\n2 3 1\n</pre>\n<p>\n\ttowstack.out\n</p>\n<pre>a c a b b d\n</pre>\n<p>\n\t<br/>\n【限制】\n</p>\n<ul>\n\t<li>\n\t\t30%的数据满足： n&lt;=10\n\t</li>\n\t<li>\n\t\t50%的数据满足： n&lt;=50\n\t</li>\n\t<li>\n\t\t100%的数据满足：n&lt;=1000\n\t</li>\n</ul>\n\n"}]}