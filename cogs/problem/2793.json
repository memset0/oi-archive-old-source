{"title":"[Codeforces 794G] 文本替换","time_limit":2000,"memory_limit":256,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vJiSiVWPj","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n分析师Igor正在研究文本编辑器的“文本替换”功能。他闲得无聊，想出了以下问题：\n</p>\n<p>\n给定两个仅含大写字母&#39;A&#39;和&#39;B&#39;的英文字符串。称一对字符串(s,t)是“好”的，当且仅当：\n</p>\n<p>\n1. s和t仅包含&#39;0&#39;和&#39;1&#39;\n</p>\n<p>\n2. 1&lt;=|s|,|t|&lt;=n，其中|s|是s的长度\n</p>\n<p>\n3. 如果把x和y中的所有&#39;A&#39;替换成s，所有&#39;B&#39;替换成t，那么x和y会变得一样。\n</p>\n<p>\n例如，如果x=AAB,y=BB,n=4,那么(01,0101)是一组好字符串，因为替换后x和y都变成了“01010101”.\n</p>\n<p>\n称一对字符串(x,y)的“自由度”是相应好字符串对(s,t)的数量。这里都是有序对，例如(0,1)和(1,0)不同。\n</p>\n<p>\n给定两个字符串c和d，它们由&#39;A&#39;,&#39;B&#39;，&#39;?&#39;组成。&#39;?&#39;可以表示&#39;A&#39;或&#39;B&#39;，问所有情况下的自由度之和。\n</p>\n<p>\n<br/>\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n前两行各一个字符串c,d（1&lt;=长度&lt;=3*10^5）\n</p>\n<p>\n第三行一个正整数N，满足1&lt;=N&lt;=3*10^5.\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n一个整数，答案模10^9+7的值。\n</p>\n<h3>\n【样例输入】\n</h3>\n<p>\nA?\n</p>\n<p>\n?\n</p>\n<p>\n3\n</p>\n<h3>\n【样例输出】\n</h3>\n2\n<h3>\n【样例输入】\n</h3>\n<p>\n<br/>\n</p>\n<p>\nA\n</p>\n<p>\nB\n</p>\n<p>\n10\n</p>\n<p>\n<br/>\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【样例输出】\n</h3>\n2046\n<h3>\n【提示】\n</h3>\n<p>\n<br/>\n</p>\n<p>\n对于第一个样例，有四对可能的 (c&#39;, d&#39;).\n</p>\n<p>\n若 (c&#39;, d&#39;) = (AA, A), 自由度为  0.\n</p>\n<p>\n若 (c&#39;, d&#39;) = (AB, A), 自由度为 0.\n</p>\n<p>\n若 (c&#39;, d&#39;) = (AA, B), 自由度为 2, 两种方案是 (1, 11), (0, 00) .\n</p>\n<p>\n若 (c&#39;, d&#39;) = (AB, B), 自由度为 0.\n</p>\n<p>\n所以总自由度为2.\n</p>\n<p>\n对于第二个样例，长度不超过10的01串共有2^1+...+2^10=2046个，而所有好字符串对形如(s,s)，其中s是长度不超过10的01串。\n</p>\n<p>\n<br/>\n</p>\n<h3>\n【来源】\n</h3>\n<p>\nCODEFORCES ROUND #414\n</p>\n<p>\n<a href=\"http://codeforces.com/contest/794/problem/G\" target=\"_blank\">http://codeforces.com/contest/794/problem/G</a> \n</p>\n\n"}]}