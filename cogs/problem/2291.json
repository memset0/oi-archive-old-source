{"title":"[HZOI 2015]火龙果","time_limit":8000,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vzymxVVPk","statement":[{"title":"题目描述","format":"html","require":["katex"],"content":"\n\n<h3>\n【题目描述】\n</h3>\n<p>\n本蒟蒻特别喜欢吃火龙果\n</p>\n<p>\n听说某魔法学院的火龙果吃了之后能变成大火龙\n</p>\n<p>\n于是本蒟蒻兴致勃勃的来到了魔法学院来寻找这神奇的火龙果\n</p>\n<p>\n在魔法学院，本蒟蒻发现如果想要吃到火龙果，就必须学习魔法来解除禁制\n</p>\n<p>\n<br/>\n</p>\n<p>\n已知魔法世界一共有n种元素，本蒟蒻会m种魔法\n</p>\n<p>\n每种魔法可以使得本蒟蒻把u元素转化为v元素，也可以使得本蒟蒻把v元素转化为u元素\n</p>\n<p>\n但是每种魔法都对本蒟蒻的生命值，魔法值和等级有要求，每种魔法有三种属性A,B,C\n</p>\n<p>\n当且仅当本蒟蒻的生命值&gt;=A且本蒟蒻的魔法值&gt;=B且本蒟蒻的等级&gt;=C的时候才能施展该魔法\n</p>\n<p>\n注意由于本蒟蒻的魔法学得还不错，所以施展任何魔法并不会消耗生命值或者魔法值或者等级\n</p>\n<p>\n现在本蒟蒻想知道当他的生命值为D且魔法值为E的时候想要完成u元素到v元素的转化需要的最小等级是多少\n</p>\n<p>\n如果无论本蒟蒻的等级多高，都不能完成u元素到v元素的转化，则输出-1\n</p>\n<h3>\n【输入格式】\n</h3>\n<p>\n第一行输入n,m,q 代表元素种类，本蒟蒻会的魔法数量和询问次数\n</p>\n<p>\n以下m行，每行描述一个魔法，输入u，v，A，B，C 含义如题意所示\n</p>\n<p>\n以下q行，每行描述一个询问，输入u，v，D，E 含义如题意所示\n</p>\n<p>\nn,m,q&lt;=30000,A,B,C&lt;=10000\n</p>\n<p>\n保证不存在u元素转化成自身的魔法\n</p>\n<h3>\n【输出格式】\n</h3>\n<p>\n对于每个询问输出相应的答案\n</p>\n<h3>\n【样例输入】\n</h3>\n<pre><p>\n3 3 3\n</p>\n\n<p>\n1 2 2 2 3\n</p>\n\n<p>\n1 3 2 3 2\n</p>\n\n<p>\n2 3 1 1 1\n</p>\n\n<p>\n1 2 2 2\n</p>\n\n<p>\n1 2 3 3\n</p>\n\n<p>\n1 2 2 1\n</p>\n\n<p>\n<br/>\n\n</p>\n</pre>\n<h3>\n【样例输出】\n</h3>\n<pre><p>\n3\n</p>\n\n<p>\n2\n</p>\n\n<p>\n-1<span style=\"font-family:monospace;\"></span> \n</p>\n\n<p>\n<br/>\n\n</p>\n\n<p>\n样例解释：\n</p>\n\n<p>\n对于第一个询问，只能从1-&gt;2 需要等级为3\n</p>\n\n<p>\n对于第二个询问，有两种方案\n</p>\n\n<p>\n第一种1-&gt;2 需要等级为3\n</p>\n\n<p>\n第二种1-&gt;3-&gt;2 需要等级分别为2,1 因为需要完成整个转化，所以这个方案的最小等级为2\n</p>\n\n<p>\n对于两种方案取最小值，需要等级为2\n</p>\n\n<p>\n对于第三个询问，显然不存在1转化为2的方案，输出-1\n</p>\n\n<p>\n评测请开启O2优化\n</p>\n</pre>\n\n"}]}