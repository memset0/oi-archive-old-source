{"title":"[国家集训队2012]Contra","time_limit":3000,"memory_limit":512,"url":"http://cogs.pro:8080/cogs/problem/problem.php?pid=vJzXxkWWU","statement":[{"title":"# 题目描述","format":"html","require":["katex"],"content":"\n\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n<link type=\"text/css\" href=\"../../css/Tsinsen2011.css\" rel=\"stylesheet\"/>\n<div class=\"probtitle\" id=\"ptit\">\nContra(李超)\n</div>\n<div style=\"text-align:center;font-size:14px;font-weight:bold;vertical-align:middle;\" id=\"pres\">\n时间限制：3.0s   内存限制：512.0MB\n</div>\n<div id=\"psrc\" style=\"margin-top:20px;display:block;\">\n<h3>\n【试题来源】\n</h3>\n<div class=\"pdcont\">\n2012集训队互测-李超\n</div>\n</div>\n<div id=\"pcont1\" style=\"margin-top:20px;display:block;\">\n<h3>\n【问题描述】\n</h3>\n<div class=\"pdcont\">\n偶然间，chnlich发现了他小时候玩过的一个游戏“魂斗罗”，于是决定怀旧。但是这是一个奇怪的魂斗罗MOD。<br/>\n有N个关卡，初始有Q条命。<br/>\n每通过一个关卡，会得到u分和1条命，生命上限为Q。<br/>\n其中u=min(最近一次连续通过的关数,R)。<br/>\n若没有通过这个关卡，将会失去1条命，并进入下一个关卡。<br/>\n当没有生命或没有未挑战过的关卡时，游戏结束，得到的分数为每关得到的分数的总和。<br/>\n由于chnlich好久不玩这个游戏了，每条命通过每个关卡的概率均为p(0&lt;=p&lt;=1)，原先chnlich的最高分纪录是S。<br/>\n现在chnlich想要知道，当p至少为多少时，chnlich期望获得的总分数能够超过原先的最高分。<br/>\n</div>\n<h3>\n【输入格式】\n</h3>\n<div class=\"pdcont\">\n输入共一行，分别表示整数N，整数R，整数Q，原先的最高分整数S。<br/>\n</div>\n<h3>\n【输出格式】\n</h3>\n<div class=\"pdcont\">\n输出共一行，若不存在这样的p，输出&#34;Impossible.&#34;（不包含引号），否则输出p（保留6位小数）。<br/>\n</div>\n<h3>\n【样例输入一】\n</h3>\n<div class=\"pdcont\">\n4 2 1 5<br/>\n</div>\n<h3>\n【样例输出一】\n</h3>\n<div class=\"pdcont\">\n0.880606<br/>\n</div>\n<h3>\n【样例输入二】\n</h3>\n<div class=\"pdcont\">\n12 3 2 12<br/>\n</div>\n<h3>\n【样例输出二】\n</h3>\n<div class=\"pdcont\">\n0.687201<br/>\n</div>\n<h3>\n【数据规模和约定】\n</h3>\n<div class=\"pdcont\">\n对于20%的数据，N&lt;=15<br/>\n对于50%的数据，N&lt;=10000<br/>\n对于100%的数据，N&lt;=10^8,1&lt;=R&lt;=20,1&lt;=Q&lt;=5,保证S是一个可能出现的分数。<br/>\n</div>\n<h3>\n【补充说明】\n</h3>\n<div class=\"pdcont\">\n例如，当N=12，R=3，Q=2时<br/>\n第一关：未通过 u=0 获得分数0 总分为0 剩余生命1<br/>\n第二关：通过 获得分数1 总分为1 剩余生命2<br/>\n第三关：通过 获得分数2 总分为3 剩余生命2<br/>\n第四关：通过 获得分数3 总分为6 剩余生命2<br/>\n第五关：通过 获得分数3 总分为9 剩余生命2<br/>\n第六关：未通过 获得分数0 总分为9 剩余生命1<br/>\n第七关：通过 获得分数1 总分为10 剩余生命2<br/>\n第八关：未通过 获得分数0 总分为10 剩余生命1<br/>\n第九关：未通过 获得分数0 总分为10 剩余生命0<br/>\n游戏结束 总分为10<br/>\n这是chnlich游戏的一种可能性<br/>\n</div>\n</div>\n\n"}]}