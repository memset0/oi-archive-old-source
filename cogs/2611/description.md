# 题目描述


<h3>
【题目描述】
</h3>
<p>
<br/>
</p>
<p>
小绿帽同学在做了“2587. [HZOI 2015]你猜是不是DP”后发现自己学会了DP的正确姿势，
</p>
<p>
于是它非常开心的点开了一道新的题，并且它成功的列出了DP的方程！！
</p>
<p>
然而那道题的正解是O(nlogn^3)的（小绿帽怎么可能会～），但是小绿帽却列出了n^2的DP方程。
</p>
<p>
所以还是请你帮助小绿帽同学完成这道题。
</p>
<p>
<br/>
</p>
<p>
下面是小绿帽同学的DP方程：
</p>
<p>
<br/>
</p>
<pre class="prettyprint lang-cpp">for(int i=1;i&lt;=n;i++)

    for(int j=1;j&lt;=n;j++)

        f[i][j]=get(f[i-1][j]);

for(int i=1;i&lt;=n;i++)

    for(int j=1;j&lt;=n;j++) {

        f[i][j]+=f[get(f[i-1][j])][get(f[i-1][j]+1)];

        ans+=f[i][j];

    }</pre>
<p>
<br/>
</p>
<p>
其中f[0][1...n]的值由输入给出，ans%p的值即为答案。
</p>
<p>
其中get()函数是这个样子滴～
</p>
<p>
<br/>
</p>
<pre class="prettyprint lang-cpp">int get(int x) {

   x%=p;

   return (x^(x&gt;&gt;7)^(x&lt;&lt;3)^(x&gt;&gt;2))%n+1;

}</pre>
<p>
<br/>
</p>
<p>
你可以认为这个方程就是对的，那么接下来交给你了，帮助小绿帽小朋友解决这个DP问题吧！
</p>
<p>
<br/>
</p>
<h3>
【输入格式】
</h3>
<p>
<br/>
</p>
<p>
第一行两个整数n,p
</p>
<p>
第二行n个整数表示f[0][1...n]
</p>
<p>
<br/>
</p>
<h3>
【输出格式】
</h3>
<p>
一个整数ans.
</p>
<h3>
【样例输入】
</h3>
<pre><p>
5 2
</p>

<p>
1 2 3 4 5
</p>
</pre>
<h3>
【样例输出】
</h3>
<pre>0</pre>
<h3>
【提示】
</h3>
<p>
<br/>
</p>
<p>
共18个测试点。
</p>
<p>
第1~5个测试点每个4分，n&lt;=2000;
</p>
<p>
第6～13个测试点每个5分，n&lt;=8000;
</p>
<p>
第14～18个测试点每个8分,n&lt;=11500;
</p>
<p>
对于第i个测试点,p为第i个素数。
</p>
<p>
对于18个测试点，n均为4的倍数。
</p>
<h3>
【来源】
</h3>
<p>
一只名字很长的蒟蒻
</p>
