# 题目描述


<h3>
【题目描述】
</h3>
<p>
<span lang="en-us"></span> 
</p>
<p>
给定一棵有n个节点的有根树，根节点为1，每个节点有一个权值$w_i$，求
</p>
<p>
<img alt="" src="/upload/image/20160928/20160928172125_90927.png"/> 
</p>
<p>
即求所有无序节点对的LCA的权值之和。
</p>
<p>
树的节点编号为1~n，LCA表示两节点的最近公共祖先，即在它们的所有公共祖先中离根节点最远的节点。
</p>
<h3>
【输入格式】
</h3>
<p>
第一行一个整数n，表示节点数。
</p>
<p>
第二行n个正整数，表示每个点的权值。
</p>
<p>
以下n-1行每行两个整数x,y，表示树上有一条边连接节点x和节点y。
</p>
<h3>
【输出格式】
</h3>
<p>
一个整数，表示答案。
</p>
<h3>
【样例输入】
</h3>
<pre>3
1 2 3
1 2
1 3</pre>
<h3>
【样例输出】
</h3>
<pre>9</pre>
<h3>
【数据范围与约定】
</h3>
<p>
对于30%的数据，n&lt;=1000。
</p>
<p>
对于60%的数据，n&lt;=100000。
</p>
<p>
对于100%的数据，1&lt;=n&lt;=1000000，0&lt;$w_i$&lt;=1000000。
</p>
<h3>
【来源】
</h3>
<p>
HZOI 2016
</p>
