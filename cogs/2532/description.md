# 题目描述


<h3>
【题目描述】
</h3>
<p>
<br/>
</p>
<p>
Sky_miner的生日到了！
</p>
<p>
为了庆祝Sky_miner的生日，Sky_miner找到一颗树
</p>
<p>
这颗树可是非常有趣呢。
</p>
<p>
Sky_miner把这棵树玩来玩去，突然发现这些树上有一些果子！但是这些果子是有灵气的，在摘下一个果子的同时，与这个果子距离不超过k的所有果子都会由于感受到灵气流动而爆炸消失。
</p>
<p>
但是Sky_miner就喜欢看到这种场面，所以Sky_miner要好好想想要怎么摘下这些果子。所以就需要你帮忙了。
</p>
<p>
定义一个对于节点u询问的结果是在树上所有与u距离不超过k的点数（包括其本身）。
</p>
<p>
定义树上点对&lt;u,v&gt;的距离表示从u到v的最短路径上经过的边的数量。
</p>
<p>
Sky_miner会询问1~n每个点，但是你才不想帮助Sky_miner，所以你决定告诉Sky_miner的所有询问的异或和,让Sky_miner自己在风中凌乱。
</p>
<p>
<br/>
</p>
<h3>
【输入格式】
</h3>
<p>
<br/>
</p>
<p>
多组测试数据
</p>
<p>
行有一个正整数T，表示测试数据的组数T &lt;= 5
</p>
<p>
每一组测试数据共一行包括四个正整数n,k,A,B其中n,k如题目含义相符。
</p>
<p>
第i(2&lt;=i&lt;=n)个点的父亲是(A*i + B)%(i-1) + 1。              
</p>
<p>
第一个点没有父亲
</p>
<p>
<br/>
</p>
<h3>
【输出格式】
</h3>
<p>
对于每一组测试数据，输出共一行，为题目所求
</p>
<h3>
【样例输入】
</h3>
<pre><p>
2
</p>

<p>
5 2 3 3
</p>

<p>
7 6 6 6
</p>

<p>
<br/>

</p>
</pre>
<h3>
【样例输出】
</h3>
<pre><p>
3
</p>

<p>
7
</p>

<p>
<br/>

</p>
</pre>
<h3>
【提示】
</h3>
<p>
n &lt;= 500000,k &lt;= 10,A,B &lt;= 1000000
</p>
<h3>
【来源】
</h3>
<p>
HZOI 2016
</p>
