# 题目描述


<p>
【题目描述】
</p>
<p>
神偷小智对艺术馆内的名画垂涎欲滴准备大捞一把。艺术馆由若干个展览厅和若干条走廊组成。每一条走廊的尽头不是通向一个展览厅，就是分为两个走廊。每个展览厅内都有若干幅画，每幅画都有一个价值。经过走廊和偷画都是要耗费时间的。警察会在第n秒到达进口，在不被逮捕的情况下小智最多能得到的价值。
</p>
<p>
【输入格式】
</p>
<p>
<br/>
</p>
<p>
第一行一个整数 n
</p>
<p>
第二行若干组整数，对于每组整数（t,x），t表示进入这个展览厅或经过走廊要耗费t秒的时间，若x&gt;0表示走廊通向的展览厅内有x幅画,接下来x对整数(w,c)表示偷一幅价值为w的画需要c秒的时间。若x=0表示走廊一分为二。
</p>
<p>
输入是按深度优先给出的。
</p>
<p>
<br/>
</p>
<p>
【输出格式】
</p>
<p>
仅一个整数，表示能获得的最大价值。
</p>
<p>
【样例输入】
</p>
<p>
<br/>
</p>
<p>
50
</p>
<p>
5 0 10 1 10 1 5 0 10 2 500 1 1000 2 18 1 1000000 4
</p>
<p>
<br/>
</p>
<p>
【样例输出】
</p>
<p>
1500
</p>
<p>
【提示】
</p>
<p>
<br/>
</p>
<p>
n≤600；t，c≤5；x≤30
</p>
<p>
房间和走廊数不超过300个。
</p>
<p>
注意题目要求你在<strong>不被逮捕</strong>的情况下得到最多的价值 
</p>
<p>
样例的输入对应于下图
</p>
<img alt="" src="/upload/image/20141022/20141022075659_69959.png"/> 
<p>
<br/>
</p>
<p>
【来源】
</p>
<p>
hzoi 2014 寒川
</p>
