# 题目描述


<h3>
【题目描述】
</h3>
<p>
Farmer John的$N$头奶牛（$1≤N≤10^5$），仍然编号为$1…N$，正好闲得发慌。因此，她们发展了一个与Farmer John每天早上为她们挤牛奶的时候的排队顺序相关的复杂的社会阶层。经过若干周的研究，Farmer John对他的奶牛的社会结构总计进行了$M$次观察（$1≤M≤50,000$）。每个观察结果都是他的某些奶牛的一个有序序列，表示这些奶牛应该以与她们在序列中出现的顺序相同的顺序进行挤奶。比方说，如果Farmer John的一次观察结果是序列2、5、1，Farmer John应该在给奶牛5挤奶之前的某个时刻给奶牛2挤奶，在给奶牛1挤奶之前的某个时刻给奶牛5挤奶。
</p>
<p>
Farmer John的观察结果是按优先级排列的，所以他的目标是最大化$X$的值，使得他的挤奶顺序能够符合前$X$个观察结果描述的状态。当多种挤奶顺序都能符合前$X$个状态时，Farmer John相信一个长期以来的传统——编号较小的奶牛的地位高于编号较大的奶牛，所以他会最先给编号最小的奶牛挤奶。更加正式地说，如果有多个挤奶顺序符合这些状态，Farmer John会采用字典序最小的那一个。挤奶顺序$x$的字典序比挤奶顺序$y$要小，如果对于某个$j$，$x_i=y_i$对所有$i&lt;j$成立，并且$x_j&lt;y_j$（也就是说，这两个挤奶顺序到某个位置之前都是完全相同的，在这个位置上$x$比$y$要小）。
</p>
<p>
请帮助Farmer John求出为奶牛挤奶的最佳顺序。
</p>
<h3>
【输入格式】
</h3>
<p>
第一行包含$N$和$M$。接下来的$M$行，每行描述了一个观察结果。第$i+1$行描述了观察结果ii，第一个数是观察结果中的奶牛数量$mi$，后面是一列$m_i$个整数，给出这次观察中奶牛的顺序。所有$m_i$的和至多为$200,000$。
</p>
<h3>
【输出格式】
</h3>
<p>
输出$N$个空格分隔的整数，给出一个$1…N$的排列，为Farmer John给他的奶牛们挤奶应该采用的的顺序。
</p>
<h3>
【输入样例】
</h3>
<pre>4 3
3 1 2 3
2 4 2
3 3 4 1
</pre>
<h3>
【输出样例】
</h3>
<pre>1 4 2 3</pre>
<h3>
【数据规模】
</h3>
<p>
30%的数据N&lt;=10,M&lt;=4;
</p>
<p>
50%的数据N&lt;=10000,M&lt;=5000;
</p>
<p>
100%的数据N&lt;=100000,M&lt;=50000;
</p>
<h3>
【提示】
</h3>
<p>
<br/>
</p>
<p>
这里，Farmer John有四头奶牛，他的挤奶顺序应该是奶牛1在奶牛2之前、奶牛2在奶牛3之前（第一个观察结果），奶牛4在奶牛2之前（第二个观察结果），奶牛3在奶牛4之前、奶牛4在奶牛1之前（第三个观察结果）。前两个观察结果可以同时被满足，但是Farmer John不能同时满足所有的规则，因为这样的话会要求奶牛1在奶牛3之前，同时奶牛3在奶牛1之前。
</p>
<p>
<br/>
</p>
<p>
这意味着总共有两种可能的挤奶顺序：1 4 2 3和4 1 2 3，第一种是字典序较小的。
</p>
<p>
<br/>
</p>
<h3>
【来源】
</h3>
<p>
<a href="http://www.usaco.org/index.php?page=open18results" target="_blank">USACO 2018 OPEN CONTEST</a> Gold Problem 2
</p>
<p>
供题：Jay Leeds
</p>
