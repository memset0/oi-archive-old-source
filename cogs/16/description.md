# 题目描述


<p>
【问题描述】
</p>
<p>
  小 Y最近在一家金券交易所工作。该金券交易所只发行交易两种金券：A纪念券（以下简称A券）和B纪念券（以下简称B券）。每个持有金券的顾客都有一个自己的 帐户。金券的数目可以是一个实数。每天随着市场的起伏波动，两种金券都有自己当时的价值，即每一单位金券当天可以兑换的人民币数目。我们记录第K天中A券 和B券的价值分别为AK和BK（元/单位金券）。<br/>
为了方便顾客，金券交易所提供了一种非常方便的交易方式：比例交易法。<br/>
比例交易法分为两个方面：<br/>
a)卖出金券：顾客提供一个[0，100]内的实数OP作为卖出比例，其意义为：将OP%的A券和OP%的B券以当时的价值兑换为人民币；<br/>
b)买入金券：顾客支付IP元人民币，交易所将会兑换给用户总价值为IP的金券，并且，满足提供给顾客的A券和B券的比例在第K天恰好为RateK；<br/>
例如，假定接下来3天内的Ak、Bk、RateK的变化分别为：
</p>
<table border="1">
<tbody>
<tr>
<td>
<div>
时间
</div>
</td>
<td>
<div>
Ak
</div>
</td>
<td>
<div>
Bk
</div>
</td>
<td>
<div>
Ratek
</div>
</td>
</tr>
<tr>
<td>
<div>
第一天
</div>
</td>
<td>
<div>
1
</div>
</td>
<td>
<div>
1
</div>
</td>
<td>
<div>
1
</div>
</td>
</tr>
<tr>
<td>
<div>
第二天
</div>
</td>
<td>
<div>
1
</div>
</td>
<td>
<div>
2
</div>
</td>
<td>
<div>
2
</div>
</td>
</tr>
<tr>
<td>
<div>
第三天
</div>
</td>
<td>
<div>
2
</div>
</td>
<td>
<div>
2
</div>
</td>
<td>
<div>
3
</div>
</td>
</tr>
</tbody>
</table>
<p>
假定在第一天时，用户手中有100元人民币但是没有任何金券。<br/>
用户可以执行以下的操作：
</p>
<table border="1">
<tbody>
<tr>
<td>
<div>
时间
</div>
</td>
<td>
<div>
用户操作
</div>
</td>
<td>
<div>
人民币(元)
</div>
</td>
<td>
<div>
A券的数量
</div>
</td>
<td>
<div>
B券的数量
</div>
</td>
</tr>
<tr>
<td>
<div>
开户
</div>
</td>
<td>
<div>
无
</div>
</td>
<td>
<div>
100
</div>
</td>
<td>
<div>
0
</div>
</td>
<td>
<div>
0
</div>
</td>
</tr>
<tr>
<td>
<div>
第一天
</div>
</td>
<td>
<div>
买入100元
</div>
</td>
<td>
<div>
0
</div>
</td>
<td>
<div>
50
</div>
</td>
<td>
<div>
50
</div>
</td>
</tr>
<tr>
<td>
<div>
第二天
</div>
</td>
<td>
<div>
卖出50%
</div>
</td>
<td>
<div>
75
</div>
</td>
<td>
<div>
25
</div>
</td>
<td>
<div>
25
</div>
</td>
</tr>
<tr>
<td>
<div>
第二天
</div>
</td>
<td>
<div>
买入60元
</div>
</td>
<td>
<div>
15
</div>
</td>
<td>
<div>
55
</div>
</td>
<td>
<div>
40
</div>
</td>
</tr>
<tr>
<td>
<div>
第三天
</div>
</td>
<td>
<div>
卖出100%
</div>
</td>
<td>
<div>
205
</div>
</td>
<td>
<div>
0
</div>
</td>
<td>
<div>
0
</div>
</td>
</tr>
</tbody>
</table>
<p>
注意到，同一天内可以进行多次操作。<br/>
小Y是一个很有经济头脑的员工，通过较长时间的运作和行情测算，他已经知道了未来N天内的A券和B券的价值以及Rate。他还希望能够计算出来，如果开始时拥有S元钱，那么N天后最多能够获得多少元钱。
</p>
<p>
【输入格式】
</p>
<p>
第一行两个正整数N、S，分别表示小Y能预知的天数以及初始时拥有的钱数。接下来N行，第K行三个实数AK、BK、RateK，意义如题目中所述。
</p>
<p>
【输出格式】
</p>
<p>
只有一个实数MaxProfit，表示第N天的操作结束时能够获得的最大的金钱数目。答案保留3位小数。
</p>
<p>
【输入样例】
</p>
<p>
3 100<br/>
1 1 1<br/>
1 2 2<br/>
2 2 3
</p>
<p>
【输出样例】
</p>
<p>
225.000
</p>
<p>
【样例说明】
</p>
<table border="1">
<tbody>
<tr>
<td>
<div>
时间
</div>
</td>
<td>
<div>
用户操作
</div>
</td>
<td>
<div>
人民币(元)
</div>
</td>
<td>
<div>
A券的数量
</div>
</td>
<td>
<div>
B券的数量
</div>
</td>
</tr>
<tr>
<td>
<div>
开户
</div>
</td>
<td>
<div>
无
</div>
</td>
<td>
<div>
100
</div>
</td>
<td>
<div>
0
</div>
</td>
<td>
<div>
0
</div>
</td>
</tr>
<tr>
<td>
<div>
第一天
</div>
</td>
<td>
<div>
买入100元
</div>
</td>
<td>
<div>
0
</div>
</td>
<td>
<div>
50
</div>
</td>
<td>
<div>
50
</div>
</td>
</tr>
<tr>
<td>
<div>
第二天
</div>
</td>
<td>
<div>
卖出100%
</div>
</td>
<td>
<div>
150
</div>
</td>
<td>
<div>
0
</div>
</td>
<td>
<div>
0
</div>
</td>
</tr>
<tr>
<td>
<div>
第二天
</div>
</td>
<td>
<div>
买入150元
</div>
</td>
<td>
<div>
0
</div>
</td>
<td>
<div>
75
</div>
</td>
<td>
<div>
37.5
</div>
</td>
</tr>
<tr>
<td>
<div>
第三天
</div>
</td>
<td>
<div>
卖出100%
</div>
</td>
<td>
<div>
225
</div>
</td>
<td>
<div>
0
</div>
</td>
<td>
<div>
0
</div>
</td>
</tr>
</tbody>
</table>
<p>
<br/>
</p>
<p>
【数据规模和约定】
</p>
<p>
测试数据设计使得精度误差不会超过10^-7。<br/>
对于40%的测试数据，满足N ≤10；<br/>
对于60%的测试数据，满足N ≤1 000；<br/>
对于100%的测试数据，满足N ≤100 000；
</p>
<p>
对于100%的测试数据，满足：<br/>
0 <ak ≤10；<br=""> 0 <bk ≤10；<br=""> 0 <ratek ≤100<br=""> MaxProfit ≤10<br/>
<br/>
提示<br/>
输入文件可能很大，请采用快速的读入方式。<br/>
必然存在一种最优的买卖方案满足：<br/>
每次买进操作使用完所有的人民币；<br/>
每次卖出操作卖出所有的金券。</ratek></bk></ak>
</p>
<p>
【评分方法】<br/>
本题没有部分分，你的程序的输出只有和标准答案相差不超过0.001时，才能<br/>
获得该测试点的满分，否则不得分。
</p>
