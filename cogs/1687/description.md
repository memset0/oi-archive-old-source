# 题目描述


<h3>
【题目描述】
</h3>
<p>
<br/>
</p>
<p>
&#34;世上本没有神题,只有傻逼题和连傻逼题都不会做的傻逼&#34;--7k+
</p>
<p>
&#34;<a href="http://cojs.tk/cogs/problem/comments.php?key=%E7%94%9F%E5%B9%B3%E7%AC%AC%E4%B8%80%E9%81%93%E8%87%AA%E5%B8%A6%E9%A2%98%E8%A7%A3%E7%9A%84%E9%A2%98%3D+%3D&amp;pid=728&amp;uid=653" target="_blank">生平第一道自带题解的题= =</a>&#34;--cstdio
</p>
<p>
<br/>
</p>
<p>
Chenyao为了证明7k+的观点,就去做一道题,之后证明了自己是傻逼的事实,所以需要向你求助:
</p>
<p>
&#34;给你一个长度 n (1≤n≤2·10^6) 的只由小写字母组成的字符串s。
</p>
<p>
我们考虑s的所有连续且回文的子串集合P。位置不同但内容相同的两个串算作不同。
</p>
<p>
问从P中选出两个串且他们在s中有公共位置的方法数有几个？&#34;
</p>
<p>
<br/>
</p>
<h3>
【输入格式】
</h3>
<p>
<br/>
</p>
<p>
第一行一个整数n
</p>
<p>
第二行字符串s
</p>
<p>
<br/>
</p>
<h3>
【输出格式】
</h3>
<p>
    一行答案，输出结果对51123987取余。
</p>
<h3>
【样例输入】
</h3>
<p>
<br/>
</p>
<p>
4
</p>
<p>
babb
</p>
<p>
<br/>
</p>
<h3>
【样例输出】
</h3>
<p>
6
</p>
<h3>
【提示】
</h3>
<p>
&#34;2在模51123987下逆元为25561994&#34;--<a href="http://codeforces.com/contest/17/submission/4041053" target="_blank">Vani的代码</a> 
</p>
<p>
因为Chenyao是傻逼,所以找了很多题解,但是他看不懂,就送给你们了:
</p>
<p>
<a href="http://dzy493941464.is-programmer.com/posts/43172.html" target="_blank">by DZY</a> 
</p>
<p>
<a href="http://codeforces.com/blog/entry/451" target="_blank">by tourise</a> 
</p>
<h3>
【来源】
</h3>
<p>
<a href="http://www.tsinsen.com/A1393" target="_blank">清澄A1393. Palisection</a> 
</p>
<p>
<a href="http://codeforces.com/problemset/problem/17/E" target="_blank">CodeForces 17E</a> 
</p>
